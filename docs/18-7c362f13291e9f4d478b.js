(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PcanvasLayers",(function(){return PcanvasLayers}));var _workStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(55),enterModule;function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,a,r){return a&&_defineProperties(e.prototype,a),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PcanvasLayers=function(){function PcanvasLayers(e,a){_classCallCheck(this,PcanvasLayers),this.wrapInfo=e,this.layers=a,this.tempLayer=void 0,this.focusedLayerDetail=void 0;var r=e,t=r.wrap,n=r.cover,o=n;a.forEach((function(e,a){var r=e.canvas,n=(e.layerId,e.visible);t.insertBefore(r,o),o=r,n||(r.className="unvisible")})),this.tempLayer=_workStorage__WEBPACK_IMPORTED_MODULE_0__.a.create(e),t.insertBefore(this.tempLayer.canvas,n),this.focusedLayerDetail=a[0]}return _createClass(PcanvasLayers,[{key:"getCanvas",value:function(){return this.tempLayer.canvas}},{key:"applyTempCanvas",value:function(){var e=this.focusedLayerDetail.canvas.getContext("2d"),a=this.tempLayer.canvas.getContext("2d");if(e&&a){var r=this.tempLayer.canvas,t=r.width,n=r.height;e.drawImage(this.tempLayer.canvas,0,0,t,n),a.clearRect(0,0,t,n)}}},{key:"getFocusDetail",value:function(){return this.focusedLayerDetail}},{key:"focusLayer",value:function(e){var a=this.layers[this.layers.indexOf(e)-1],r=a&&a.canvas&&a!==this.tempLayer?a.canvas:this.wrapInfo.cover;this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas,r),this.focusedLayerDetail=e}},{key:"addLayer",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.wrapInfo.wrap,t=this.layers[a-1],n=t&&t.canvas||this.wrapInfo.cover;return r.insertBefore(e.canvas,n),this.layers.splice(a,0,e),e}},{key:"removeLayer",value:function(e){var a=this.layers.indexOf(e);return a>-1?(this.wrapInfo.wrap.removeChild(e.canvas),this.layers.splice(a,1)):console.warn("layerDetail has been removed"),{index:a,isFocus:this.focusedLayerDetail===e}}},{key:"getContext",value:function(){var e=this.tempLayer.canvas.getContext("2d");if(null===e)throw"get context faliled.";return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PcanvasLayers}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PcanvasLayers,"PcanvasLayers","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcanvas.layer.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))}}]);