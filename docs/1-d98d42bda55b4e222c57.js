(window.webpackJsonp=window.webpackJsonp||[]).push([[1,14,23],{102:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PEventEmiter; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(90);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\nvar PEventEmiter = /*#__PURE__*/function () {\n  function PEventEmiter() {\n    _classCallCheck(this, PEventEmiter);\n\n    this.eventEmitter = new events__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();\n  }\n\n  _createClass(PEventEmiter, [{\n    key: "on",\n    value: function on(event, listener) {\n      var fun = listener;\n      this.eventEmitter.addListener(event, fun);\n    }\n  }, {\n    key: "off",\n    value: function off(event, listener) {\n      var fun = listener;\n      this.eventEmitter.removeListener(event, fun);\n    }\n  }, {\n    key: "emit",\n    value: function emit(event, params) {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.eventEmitter.emit(event, params);\n      }, 1);\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PEventEmiter;\n}();\n\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PEventEmiter, "PEventEmiter", "/Users/muyin/Documents/code/WebPencil/src/util/event.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9ldmVudC50cz9jOTA2Il0sIm5hbWVzIjpbIlBFdmVudEVtaXRlciIsImV2ZW50RW1pdHRlciIsIkV2ZW50RW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJmdW4iLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwicGFyYW1zIiwic2V0VGltZW91dCIsImVtaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztJQUdxQkEsWTs7OztTQUVQQyxZLEdBQWUsSUFBSUMsbURBQUosRTs7Ozs7dUJBRUtDLEssRUFBVUMsUSxFQUF3QztBQUMvRSxVQUFNQyxHQUEwQixHQUFHRCxRQUFuQztBQUNBLFdBQUtILFlBQUwsQ0FBa0JLLFdBQWxCLENBQThCSCxLQUE5QixFQUErQ0UsR0FBL0M7QUFDQTs7O3dCQUU4QkYsSyxFQUFVQyxRLEVBQXdDO0FBQ2hGLFVBQU1DLEdBQTBCLEdBQUdELFFBQW5DO0FBQ0EsV0FBS0gsWUFBTCxDQUFrQk0sY0FBbEIsQ0FBaUNKLEtBQWpDLEVBQWtERSxHQUFsRDtBQUNBOzs7eUJBRStCRixLLEVBQVVLLE0sRUFBcUI7QUFBQTs7QUFDM0RDLGdCQUFVLENBQUMsWUFBTTtBQUNiLGFBQUksQ0FBQ1IsWUFBTCxDQUFrQlMsSUFBbEIsQ0FBdUJQLEtBQXZCLEVBQXdDSyxNQUF4QztBQUNILE9BRlMsRUFFUixDQUZRLENBQVY7QUFHSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBbEJnQlIsWSIsImZpbGUiOiIxMDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUEV2ZW50RW1pdGVyIDxFdmVudERhdGE+IHtcbiAgXG4gICAgcHJvdGVjdGVkIGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gICAgb248VCBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ6IFQsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50RGF0YVtUXSkgPT4gdm9pZCl7XG4gICAgXHRjb25zdCBmdW46ICguLi5wOiBhbnlbXSkgPT4gdm9pZCA9IGxpc3RlbmVyIGFzIGFueSBcbiAgICBcdHRoaXMuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50IGFzIHN0cmluZywgZnVuIClcbiAgICB9XG5cbiAgICBvZmY8VCBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ6IFQsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50RGF0YVtUXSkgPT4gdm9pZCl7XG4gICAgXHRjb25zdCBmdW46ICguLi5wOiBhbnlbXSkgPT4gdm9pZCA9IGxpc3RlbmVyIGFzIGFueSBcbiAgICBcdHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50IGFzIHN0cmluZywgZnVuIClcbiAgICB9XG5cbiAgICBlbWl0PFQgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KGV2ZW50OiBULCBwYXJhbXM6IEV2ZW50RGF0YVtUXSl7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChldmVudCBhcyBzdHJpbmcsIHBhcmFtcylcbiAgICAgICAgfSwxKVxuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///102\n')},27:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushStatus", function() { return BrushStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushType", function() { return BrushType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractBrush", function() { return AbstractBrush; });\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nvar BrushStatus = /*#__PURE__*/function () {\n  function BrushStatus(x, y, pressure, tiltX, tiltY) {\n    _classCallCheck(this, BrushStatus);\n\n    this.x = x;\n    this.y = y;\n    this.pressure = pressure;\n    this.tiltX = tiltX;\n    this.tiltY = tiltY;\n  }\n\n  _createClass(BrushStatus, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return BrushStatus;\n}();\nvar BrushType;\n\n(function (BrushType) {\n  BrushType[BrushType["pen"] = 1] = "pen";\n  BrushType[BrushType["selector"] = 2] = "selector";\n})(BrushType || (BrushType = {}));\n\nvar AbstractBrush = /*#__PURE__*/function () {\n  function AbstractBrush(type, name) {\n    _classCallCheck(this, AbstractBrush);\n\n    this.type = type;\n    this.name = name;\n  }\n\n  _createClass(AbstractBrush, [{\n    key: "init",\n    value: function init() {}\n  }, {\n    key: "destory",\n    value: function destory() {}\n  }, {\n    key: "onStart",\n    value: function onStart(status, context) {}\n  }, {\n    key: "onDraw",\n    value: function onDraw(brushStatus, contx) {}\n  }, {\n    key: "onEnd",\n    value: function onEnd(brushStatus, contx) {}\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return AbstractBrush;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(BrushStatus, "BrushStatus", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/types.ts");\n  reactHotLoader.register(AbstractBrush, "AbstractBrush", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/types.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC90eXBlcy50cz9lMTdhIl0sIm5hbWVzIjpbIkJydXNoU3RhdHVzIiwieCIsInkiLCJwcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJCcnVzaFR5cGUiLCJBYnN0cmFjdEJydXNoIiwidHlwZSIsIm5hbWUiLCJzdGF0dXMiLCJjb250ZXh0IiwiYnJ1c2hTdGF0dXMiLCJjb250eCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVPLElBQU1BLFdBQWI7QUFDRSx1QkFFb0JDLENBRnBCLEVBSW9CQyxDQUpwQixFQU1vQkMsUUFOcEIsRUFRb0JDLEtBUnBCLEVBVW9CQyxLQVZwQixFQVdFO0FBQUE7O0FBQUEsU0FUa0JKLENBU2xCLEdBVGtCQSxDQVNsQjtBQUFBLFNBUGtCQyxDQU9sQixHQVBrQkEsQ0FPbEI7QUFBQSxTQUxrQkMsUUFLbEIsR0FMa0JBLFFBS2xCO0FBQUEsU0FIa0JDLEtBR2xCLEdBSGtCQSxLQUdsQjtBQUFBLFNBRGtCQyxLQUNsQixHQURrQkEsS0FDbEI7QUFBRzs7QUFaUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFnQk8sSUFBS0MsU0FBWjs7V0FBWUEsUztBQUFBQSxXLENBQUFBLFM7QUFBQUEsVyxDQUFBQSxTO0dBQUFBLFMsS0FBQUEsUzs7QUFPTCxJQUFlQyxhQUF0QjtBQUNFLHlCQUNrQkMsSUFEbEIsRUFFa0JDLElBRmxCLEVBR0U7QUFBQTs7QUFBQSxTQUZnQkQsSUFFaEIsR0FGZ0JBLElBRWhCO0FBQUEsU0FEZ0JDLElBQ2hCLEdBRGdCQSxJQUNoQjtBQUFFOztBQUpOO0FBQUE7QUFBQSwyQkFNZSxDQUFFO0FBTmpCO0FBQUE7QUFBQSw4QkFRa0IsQ0FBRTtBQVJwQjtBQUFBO0FBQUEsNEJBVVVDLE1BVlYsRUFVK0JDLE9BVi9CLEVBVThELENBQUU7QUFWaEU7QUFBQTtBQUFBLDJCQVlTQyxXQVpULEVBWXFDQyxLQVpyQyxFQVlpRSxDQUFFO0FBWm5FO0FBQUE7QUFBQSwwQkFjUUQsV0FkUixFQWNrQ0MsS0FkbEMsRUFjK0QsQ0FBRTtBQWRqRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7Ozs7Ozs7Ozs7MEJBdkJhYixXOzBCQXVCU08sYSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBDYW52YXNDb250ZXh0IH0gZnJvbSBcIkAvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmNvbnRleHRcIlxuXG5leHBvcnQgY2xhc3MgQnJ1c2hTdGF0dXMge1xuICBjb25zdHJ1Y3RvcihcblxuICAgICAgcHVibGljIHJlYWRvbmx5IHg6IG51bWJlcixcblxuICAgICAgcHVibGljIHJlYWRvbmx5IHk6IG51bWJlcixcblxuICAgICAgcHVibGljIHJlYWRvbmx5IHByZXNzdXJlOiBudW1iZXIsXG5cbiAgICAgIHB1YmxpYyByZWFkb25seSB0aWx0WDogbnVtYmVyLFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgdGlsdFk6IG51bWJlcixcbiAgKSB7IH1cblxufVxuXG5leHBvcnQgZW51bSBCcnVzaFR5cGUge1xuXG4gIHBlbiA9IDEsXG5cbiAgc2VsZWN0b3IgPSAyLFxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RCcnVzaCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB0eXBlOiBCcnVzaFR5cGUsIFxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmdcbiAgKSB7fVxuXG4gIGluaXQoKTogdm9pZCB7fVxuXG4gIGRlc3RvcnkoKTogdm9pZCB7fVxuXG4gIG9uU3RhcnQoc3RhdHVzOiBCcnVzaFN0YXR1cywgY29udGV4dDogUENhbnZhc0NvbnRleHQpOiB2b2lkIHt9XG5cbiAgb25EcmF3KGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1c1tdLCBjb250eDogUENhbnZhc0NvbnRleHQpOiB2b2lke31cblxuICBvbkVuZChicnVzaFN0YXR1czogQnJ1c2hTdGF0dXMsIGNvbnR4OiBQQ2FudmFzQ29udGV4dCk6IHZvaWQge31cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n')},28:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasEvent", function() { return CanvasEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvasController", function() { return PCanvasController; });\n/* harmony import */ var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26);\n/* harmony import */ var _pcanvas_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70);\n/* harmony import */ var _pcanvas_layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(33);\n/* harmony import */ var _util_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(102);\n/* harmony import */ var _util_canvas__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(64);\n/* harmony import */ var _top_tool_bar_tool_item_brush_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\nvar CanvasEvent = /*#__PURE__*/function () {\n  function CanvasEvent(data) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n\n    _classCallCheck(this, CanvasEvent);\n\n    this.data = data;\n    this.tag = tag;\n  }\n\n  _createClass(CanvasEvent, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return CanvasEvent;\n}();\n\nvar pointEvent2BrunshStatus = function pointEvent2BrunshStatus(_ref) {\n  var x = _ref.offsetX,\n      y = _ref.offsetY,\n      tiltX = _ref.tiltX,\n      tiltY = _ref.tiltY,\n      pressure = _ref.pressure;\n  // console.log(\'pressure...\', pressure)\n  pressure = pressure > 1 ? pressure * 0.01 : pressure === 0 ? 1 : pressure;\n  return new _top_tool_bar_tool_item_brush_types__WEBPACK_IMPORTED_MODULE_6__["BrushStatus"](x, y, pressure, tiltX, tiltY);\n};\n\n/**\n * 用于控制PCanvascontroller component 的对象.\n * \n * // TODO\n * 对的操作放入组件中.\n */\nvar PCanvasController = /*#__PURE__*/function (_PEventEmiter) {\n  _inherits(PCanvasController, _PEventEmiter);\n\n  function PCanvasController() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PCanvasController);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PCanvasController)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.context = void 0;\n    _this.layerManager = void 0;\n    _this.color = _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"].BLACK;\n    _this.pointerIds = {};\n    _this.workId = void 0;\n\n    _this.onBrushEnd = function () {\n      var curLayerDetail = _this.layerManager.getFocusDetail();\n\n      var preContent = Object(_util_canvas__WEBPACK_IMPORTED_MODULE_5__[/* copyCanvas */ "a"])(curLayerDetail.canvas);\n\n      _this.layerManager.applyTempCanvas();\n\n      var index = _this.layerManager.layers.indexOf(curLayerDetail);\n\n      _this.emit(\'contentChange\', new CanvasEvent({\n        workId: _this.workId,\n        layerDetail: curLayerDetail,\n        preContent: preContent,\n        index: index\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(PCanvasController, [{\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2, workDetail) {\n        var wrap, cover, _workDetail$workInfo, width, height, workId;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                wrap = _ref2.wrap, cover = _ref2.cover;\n                _workDetail$workInfo = workDetail.workInfo, width = _workDetail$workInfo.width, height = _workDetail$workInfo.height, workId = _workDetail$workInfo.workId;\n                wrap.style.width = "".concat(width, "px");\n                wrap.style.height = "".concat(height, "px");\n                this.workId = workId;\n                this.layerManager = new _pcanvas_layer__WEBPACK_IMPORTED_MODULE_3__["PcanvasLayers"]({\n                  cover: cover,\n                  wrap: wrap,\n                  width: width,\n                  height: height\n                });\n                this.layerManager.init(workDetail.layers);\n                this.context = new _pcanvas_context__WEBPACK_IMPORTED_MODULE_1__["PCanvasContext"](this.layerManager.getCanvas(), this.layerManager.getContext(), width, height, this.onBrushEnd);\n                this.emit(\'init\', new CanvasEvent(null));\n                this.emit(\'focusLayer\', new CanvasEvent({\n                  layerDetail: this.layerManager.getFocusDetail()\n                })); // logCanvasData(\'init: \', this.layerManager.layers[0].canvas)\n\n              case 10:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init(_x, _x2) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "setColor",\n    value: function setColor(_ref3) {\n      var r = _ref3.r,\n          g = _ref3.g,\n          b = _ref3.b;\n      var color = new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"](r, g, b, this.color.a);\n      this.setRGBA(color);\n    }\n  }, {\n    key: "setRGBA",\n    value: function setRGBA(color) {\n      this.context.color = color.toRGBAString();\n      this.color = color;\n      this.emit(\'colorchange\', new CanvasEvent({\n        color: color\n      }));\n    }\n  }, {\n    key: "setOpacity",\n    value: function setOpacity(opacity) {\n      var _this$color = this.color,\n          r = _this$color.r,\n          g = _this$color.g,\n          b = _this$color.b;\n      var color = new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"](r, g, b, opacity);\n      this.setRGBA(color);\n    }\n  }, {\n    key: "getLayers",\n    value: function () {\n      var _getLayers = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt("return", _toConsumableArray(this.layerManager.layers));\n\n              case 1:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLayers() {\n        return _getLayers.apply(this, arguments);\n      }\n\n      return getLayers;\n    }()\n  }, {\n    key: "addLayer",\n    value: function addLayer() {\n      var layerDetail = this.layerManager.addLayer(_workStorage__WEBPACK_IMPORTED_MODULE_2__[/* LayerDetail */ "a"].create(this.layerManager.wrapInfo));\n      this.layerManager.focusLayer(layerDetail);\n      var index = this.layerManager.layers.indexOf(layerDetail);\n      this.emit(\'addLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }));\n      this.emit(\'focusLayer\', new CanvasEvent({\n        layerDetail: layerDetail\n      }));\n    }\n  }, {\n    key: "addLayerContent",\n    value: function addLayerContent(index, canvas) {\n      var creator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \'user\';\n      var width = canvas.width,\n          height = canvas.height;\n      var layerDetail = _workStorage__WEBPACK_IMPORTED_MODULE_2__[/* LayerDetail */ "a"].create({\n        width: width,\n        height: height\n      });\n      var ctx = layerDetail.canvas.getContext(\'2d\');\n      ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n      this.layerManager.addLayer(layerDetail, index);\n      this.emit(\'addLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }, creator));\n      return layerDetail;\n    }\n  }, {\n    key: "setLayerContent",\n    value: function setLayerContent(index, canvas) {\n      var creator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \'user\';\n      var layerDetail = this.layerManager.layers[index];\n      var oldCanvas = layerDetail.canvas;\n      var width = oldCanvas.width,\n          height = oldCanvas.height;\n      var preContent = Object(_util_canvas__WEBPACK_IMPORTED_MODULE_5__[/* copyCanvas */ "a"])(layerDetail.canvas);\n      var ctx = layerDetail.canvas.getContext(\'2d\');\n      ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, width, height);\n      ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n      this.emit(\'contentChange\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index,\n        preContent: preContent\n      }, creator));\n      return layerDetail;\n    }\n  }, {\n    key: "focusLayer",\n    value: function focusLayer(layerDetail) {\n      this.layerManager.focusLayer(layerDetail);\n      this.emit(\'focusLayer\', new CanvasEvent({\n        layerDetail: layerDetail\n      }));\n    }\n  }, {\n    key: "removeLayer",\n    value: function removeLayer(layerDetail) {\n      var creator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n\n      var _this$layerManager$re = this.layerManager.removeLayer(layerDetail),\n          index = _this$layerManager$re.index,\n          isFocus = _this$layerManager$re.isFocus;\n\n      this.emit(\'removeLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }, creator));\n\n      if (isFocus) {\n        var _layerDetail = this.layerManager.layers[0];\n        this.focusLayer(_layerDetail);\n        this.emit(\'focusLayer\', new CanvasEvent({\n          layerDetail: _layerDetail\n        }, creator));\n      }\n    }\n  }, {\n    key: "removeLayerByIndex",\n    value: function removeLayerByIndex(index) {\n      var creator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n      var layerDetail = this.layerManager.layers[index];\n      this.removeLayer(layerDetail, creator);\n    }\n  }, {\n    key: "setBrushWidth",\n    value: function setBrushWidth(width) {\n      this.context.brushWidth = width;\n    }\n  }, {\n    key: "setBrush",\n    value: function setBrush(brush) {\n      if (this.context.brush) {\n        this.context.brush.destory();\n      }\n\n      brush.init();\n      this.context.brush = brush;\n    }\n  }, {\n    key: "onPointerDown",\n    value: function onPointerDown(p) {\n      this.pointerIds[p.pointerId] = true;\n      var s = pointEvent2BrunshStatus(p); // console.log(\'f\', s)\n\n      this.context.brush.onStart(s, this.context);\n    }\n  }, {\n    key: "onPointerMove",\n    value: function onPointerMove(pointerEvent) {\n      if (Object.keys(this.pointerIds).length > 1) return;\n      var ponterEvents;\n\n      if (pointerEvent.getCoalescedEvents) {\n        // console.log(\'getCoalescedEvents\')\n        ponterEvents = pointerEvent.getCoalescedEvents();\n      } else {\n        // console.log(\'not getCoalescedEvents\')\n        ponterEvents = [pointerEvent];\n      }\n\n      this.context.brush.onDraw(ponterEvents.map(function (p) {\n        return pointEvent2BrunshStatus(p);\n      }), this.context);\n    }\n  }, {\n    key: "onPointerUp",\n    value: function onPointerUp(p) {\n      delete this.pointerIds[p.pointerId];\n      this.context.brush.onEnd(pointEvent2BrunshStatus(p), this.context);\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PCanvasController;\n}(_util_event__WEBPACK_IMPORTED_MODULE_4__[/* default */ "a"]);\n\nfunction logCanvasData() {\n  var rep = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'\';\n  var canvas = arguments.length > 1 ? arguments[1] : undefined;\n  var ctx = canvas.getContext(\'2d\');\n  console.log(rep, ctx === null || ctx === void 0 ? void 0 : ctx.getImageData(0, 0, 1, 1).data);\n}\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(CanvasEvent, "CanvasEvent", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(pointEvent2BrunshStatus, "pointEvent2BrunshStatus", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(PCanvasController, "PCanvasController", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(logCanvasData, "logCanvasData", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY252YXMuY29udHJvbGxlci50cz85ZmNmIl0sIm5hbWVzIjpbIkNhbnZhc0V2ZW50IiwiZGF0YSIsInRhZyIsInBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzIiwieCIsIm9mZnNldFgiLCJ5Iiwib2Zmc2V0WSIsInRpbHRYIiwidGlsdFkiLCJwcmVzc3VyZSIsIkJydXNoU3RhdHVzIiwiUENhbnZhc0NvbnRyb2xsZXIiLCJjb250ZXh0IiwibGF5ZXJNYW5hZ2VyIiwiY29sb3IiLCJSR0JBIiwiQkxBQ0siLCJwb2ludGVySWRzIiwid29ya0lkIiwib25CcnVzaEVuZCIsImN1ckxheWVyRGV0YWlsIiwiZ2V0Rm9jdXNEZXRhaWwiLCJwcmVDb250ZW50IiwiY29weUNhbnZhcyIsImNhbnZhcyIsImFwcGx5VGVtcENhbnZhcyIsImluZGV4IiwibGF5ZXJzIiwiaW5kZXhPZiIsImVtaXQiLCJsYXllckRldGFpbCIsIndvcmtEZXRhaWwiLCJ3cmFwIiwiY292ZXIiLCJ3b3JrSW5mbyIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJQY2FudmFzTGF5ZXJzIiwiaW5pdCIsIlBDYW52YXNDb250ZXh0IiwiZ2V0Q2FudmFzIiwiZ2V0Q29udGV4dCIsInIiLCJnIiwiYiIsImEiLCJzZXRSR0JBIiwidG9SR0JBU3RyaW5nIiwib3BhY2l0eSIsImFkZExheWVyIiwiTGF5ZXJEZXRhaWwiLCJjcmVhdGUiLCJ3cmFwSW5mbyIsImZvY3VzTGF5ZXIiLCJjcmVhdG9yIiwiY3R4IiwiZHJhd0ltYWdlIiwib2xkQ2FudmFzIiwiY2xlYXJSZWN0IiwicmVtb3ZlTGF5ZXIiLCJpc0ZvY3VzIiwiYnJ1c2hXaWR0aCIsImJydXNoIiwiZGVzdG9yeSIsInAiLCJwb2ludGVySWQiLCJzIiwib25TdGFydCIsInBvaW50ZXJFdmVudCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJwb250ZXJFdmVudHMiLCJnZXRDb2FsZXNjZWRFdmVudHMiLCJvbkRyYXciLCJtYXAiLCJvbkVuZCIsIlBFdmVudEVtaXRlciIsImxvZ0NhbnZhc0RhdGEiLCJyZXAiLCJjb25zb2xlIiwibG9nIiwiZ2V0SW1hZ2VEYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJTyxJQUFNQSxXQUFiO0FBRUksdUJBQ1VDLElBRFYsRUFHQztBQUFBLFFBRFNDLEdBQ1QsdUVBRDBCLE1BQzFCOztBQUFBOztBQUFBLFNBRlNELElBRVQsR0FGU0EsSUFFVDtBQUFBLFNBRFNDLEdBQ1QsR0FEU0EsR0FDVDtBQUFFOztBQUxQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7QUF5QkEsSUFBTUMsdUJBQXVCLEdBQUcsU0FBMUJBLHVCQUEwQixPQUFrRTtBQUFBLE1BQXZEQyxDQUF1RCxRQUFoRUMsT0FBZ0U7QUFBQSxNQUEzQ0MsQ0FBMkMsUUFBcERDLE9BQW9EO0FBQUEsTUFBekNDLEtBQXlDLFFBQXpDQSxLQUF5QztBQUFBLE1BQW5DQyxLQUFtQyxRQUFuQ0EsS0FBbUM7QUFBQSxNQUE1QkMsUUFBNEIsUUFBNUJBLFFBQTRCO0FBQzlGO0FBQ0FBLFVBQVEsR0FBR0EsUUFBUSxHQUFDLENBQVQsR0FBWUEsUUFBUSxHQUFHLElBQXZCLEdBQ0NBLFFBQVEsS0FBSyxDQUFiLEdBQWdCLENBQWhCLEdBQW1CQSxRQUQvQjtBQUVBLFNBQU8sSUFBSUMsK0VBQUosQ0FBZ0JQLENBQWhCLEVBQW1CRSxDQUFuQixFQUF1QkksUUFBdkIsRUFBaUNGLEtBQWpDLEVBQXdDQyxLQUF4QyxDQUFQO0FBQ0gsQ0FMRDs7QUFPQTs7Ozs7O0FBTU8sSUFBTUcsaUJBQWI7QUFBQTs7QUFBQTtBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLFVBRWNDLE9BRmQ7QUFBQSxVQUljQyxZQUpkO0FBQUEsVUFNY0MsS0FOZCxHQU1zQkMsZ0ZBQUksQ0FBQ0MsS0FOM0I7QUFBQSxVQVFjQyxVQVJkLEdBUW1ELEVBUm5EO0FBQUEsVUFVY0MsTUFWZDs7QUFBQSxVQXFKY0MsVUFySmQsR0FxSjJCLFlBQU07QUFDM0IsVUFBTUMsY0FBYyxHQUFHLE1BQUtQLFlBQUwsQ0FBa0JRLGNBQWxCLEVBQXZCOztBQUNFLFVBQU1DLFVBQVUsR0FBR0MsdUVBQVUsQ0FBQ0gsY0FBYyxDQUFDSSxNQUFoQixDQUE3Qjs7QUFDQSxZQUFLWCxZQUFMLENBQWtCWSxlQUFsQjs7QUFDQSxVQUFNQyxLQUFLLEdBQUcsTUFBS2IsWUFBTCxDQUFrQmMsTUFBbEIsQ0FBeUJDLE9BQXpCLENBQWlDUixjQUFqQyxDQUFkOztBQUNBLFlBQUtTLElBQUwsQ0FBVSxlQUFWLEVBQTJCLElBQUk5QixXQUFKLENBQWdCO0FBQUVtQixjQUFNLEVBQUUsTUFBS0EsTUFBZjtBQUF3QlksbUJBQVcsRUFBRVYsY0FBckM7QUFBcURFLGtCQUFVLEVBQVZBLFVBQXJEO0FBQWlFSSxhQUFLLEVBQUxBO0FBQWpFLE9BQWhCLENBQTNCO0FBQ0gsS0EzSkw7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQSxrR0FZMENLLFVBWjFDO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZaUJDLG9CQVpqQixTQVlpQkEsSUFaakIsRUFZdUJDLEtBWnZCLFNBWXVCQSxLQVp2QjtBQUFBLHVDQWEwQ0YsVUFBVSxDQUFDRyxRQWJyRCxFQWFnQkMsS0FiaEIsd0JBYWdCQSxLQWJoQixFQWF1QkMsTUFidkIsd0JBYXVCQSxNQWJ2QixFQWErQmxCLE1BYi9CLHdCQWErQkEsTUFiL0I7QUFjUWMsb0JBQUksQ0FBQ0ssS0FBTCxDQUFXRixLQUFYLGFBQXNCQSxLQUF0QjtBQUNBSCxvQkFBSSxDQUFDSyxLQUFMLENBQVdELE1BQVgsYUFBdUJBLE1BQXZCO0FBQ0EscUJBQUtsQixNQUFMLEdBQWNBLE1BQWQ7QUFDQSxxQkFBS0wsWUFBTCxHQUFvQixJQUFJeUIsNERBQUosQ0FBa0I7QUFBQ0wsdUJBQUssRUFBTEEsS0FBRDtBQUFRRCxzQkFBSSxFQUFKQSxJQUFSO0FBQWNHLHVCQUFLLEVBQUxBLEtBQWQ7QUFBcUJDLHdCQUFNLEVBQU5BO0FBQXJCLGlCQUFsQixDQUFwQjtBQUNBLHFCQUFLdkIsWUFBTCxDQUFrQjBCLElBQWxCLENBQXVCUixVQUFVLENBQUNKLE1BQWxDO0FBQ0EscUJBQUtmLE9BQUwsR0FBZSxJQUFJNEIsK0RBQUosQ0FDWCxLQUFLM0IsWUFBTCxDQUFrQjRCLFNBQWxCLEVBRFcsRUFFWCxLQUFLNUIsWUFBTCxDQUFrQjZCLFVBQWxCLEVBRlcsRUFHWFAsS0FIVyxFQUlYQyxNQUpXLEVBS1gsS0FBS2pCLFVBTE0sQ0FBZjtBQU9BLHFCQUFLVSxJQUFMLENBQVUsTUFBVixFQUFrQixJQUFJOUIsV0FBSixDQUFnQixJQUFoQixDQUFsQjtBQUNBLHFCQUFLOEIsSUFBTCxDQUFVLFlBQVYsRUFBd0IsSUFBSTlCLFdBQUosQ0FBZ0I7QUFBRStCLDZCQUFXLEVBQUUsS0FBS2pCLFlBQUwsQ0FBa0JRLGNBQWxCO0FBQWYsaUJBQWhCLENBQXhCLEVBM0JSLENBNEJROztBQTVCUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQ0ErQjRCO0FBQUEsVUFBZHNCLENBQWMsU0FBZEEsQ0FBYztBQUFBLFVBQVpDLENBQVksU0FBWkEsQ0FBWTtBQUFBLFVBQVZDLENBQVUsU0FBVkEsQ0FBVTtBQUNwQixVQUFNL0IsS0FBSyxHQUFHLElBQUlDLGdGQUFKLENBQVM0QixDQUFULEVBQVdDLENBQVgsRUFBYUMsQ0FBYixFQUFnQixLQUFLL0IsS0FBTCxDQUFXZ0MsQ0FBM0IsQ0FBZDtBQUNBLFdBQUtDLE9BQUwsQ0FBYWpDLEtBQWI7QUFDSDtBQWxDTDtBQUFBO0FBQUEsNEJBb0NZQSxLQXBDWixFQW9DNkI7QUFDckIsV0FBS0YsT0FBTCxDQUFhRSxLQUFiLEdBQXFCQSxLQUFLLENBQUNrQyxZQUFOLEVBQXJCO0FBQ0EsV0FBS2xDLEtBQUwsR0FBYUEsS0FBYjtBQUNBLFdBQUtlLElBQUwsQ0FBVSxhQUFWLEVBQXlCLElBQUk5QixXQUFKLENBQWdCO0FBQUNlLGFBQUssRUFBTEE7QUFBRCxPQUFoQixDQUF6QjtBQUNIO0FBeENMO0FBQUE7QUFBQSwrQkEwQ2VtQyxPQTFDZixFQTBDK0I7QUFBQSx3QkFDUCxLQUFLbkMsS0FERTtBQUFBLFVBQ2hCNkIsQ0FEZ0IsZUFDaEJBLENBRGdCO0FBQUEsVUFDZEMsQ0FEYyxlQUNkQSxDQURjO0FBQUEsVUFDWkMsQ0FEWSxlQUNaQSxDQURZO0FBRXZCLFVBQU0vQixLQUFLLEdBQUcsSUFBSUMsZ0ZBQUosQ0FBUzRCLENBQVQsRUFBWUMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCSSxPQUFsQixDQUFkO0FBQ0EsV0FBS0YsT0FBTCxDQUFhakMsS0FBYjtBQUNIO0FBOUNMO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxRUFrRG1CLEtBQUtELFlBQUwsQ0FBa0JjLE1BbERyQzs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwrQkFxRGM7QUFDTixVQUFNRyxXQUFXLEdBQUksS0FBS2pCLFlBQUwsQ0FBa0JxQyxRQUFsQixDQUEyQkMsZ0VBQVcsQ0FBQ0MsTUFBWixDQUFtQixLQUFLdkMsWUFBTCxDQUFrQndDLFFBQXJDLENBQTNCLENBQXJCO0FBQ0EsV0FBS3hDLFlBQUwsQ0FBa0J5QyxVQUFsQixDQUE2QnhCLFdBQTdCO0FBQ0EsVUFBTUosS0FBSyxHQUFHLEtBQUtiLFlBQUwsQ0FBa0JjLE1BQWxCLENBQXlCQyxPQUF6QixDQUFpQ0UsV0FBakMsQ0FBZDtBQUNBLFdBQUtELElBQUwsQ0FBVSxVQUFWLEVBQXVCLElBQUk5QixXQUFKLENBQWdCO0FBQUNtQixjQUFNLEVBQUUsS0FBS0EsTUFBZDtBQUFzQlksbUJBQVcsRUFBWEEsV0FBdEI7QUFBbUNKLGFBQUssRUFBTEE7QUFBbkMsT0FBaEIsQ0FBdkI7QUFDQSxXQUFLRyxJQUFMLENBQVUsWUFBVixFQUF3QixJQUFJOUIsV0FBSixDQUFnQjtBQUFDK0IsbUJBQVcsRUFBWEE7QUFBRCxPQUFoQixDQUF4QjtBQUVIO0FBNURMO0FBQUE7QUFBQSxvQ0E4RG9CSixLQTlEcEIsRUE4RG1DRixNQTlEbkMsRUE4RDBIO0FBQUEsVUFBM0MrQixPQUEyQyx1RUFBckIsTUFBcUI7QUFBQSxVQUMzR3BCLEtBRDJHLEdBQzFGWCxNQUQwRixDQUMzR1csS0FEMkc7QUFBQSxVQUNwR0MsTUFEb0csR0FDMUZaLE1BRDBGLENBQ3BHWSxNQURvRztBQUVsSCxVQUFNTixXQUFXLEdBQUdxQixnRUFBVyxDQUFDQyxNQUFaLENBQW1CO0FBQUNqQixhQUFLLEVBQUxBLEtBQUQ7QUFBUUMsY0FBTSxFQUFOQTtBQUFSLE9BQW5CLENBQXBCO0FBQ0EsVUFBTW9CLEdBQUcsR0FBRzFCLFdBQVcsQ0FBQ04sTUFBWixDQUFtQmtCLFVBQW5CLENBQThCLElBQTlCLENBQVo7QUFDQWMsU0FBRyxTQUFILElBQUFBLEdBQUcsV0FBSCxZQUFBQSxHQUFHLENBQUVDLFNBQUwsQ0FBZWpDLE1BQWYsRUFBdUIsQ0FBdkIsRUFBeUIsQ0FBekIsRUFBNEJXLEtBQTVCLEVBQW1DQyxNQUFuQztBQUNBLFdBQUt2QixZQUFMLENBQWtCcUMsUUFBbEIsQ0FBMkJwQixXQUEzQixFQUF3Q0osS0FBeEM7QUFDQSxXQUFLRyxJQUFMLENBQVUsVUFBVixFQUFzQixJQUFJOUIsV0FBSixDQUFnQjtBQUFFbUIsY0FBTSxFQUFFLEtBQUtBLE1BQWY7QUFBd0JZLG1CQUFXLEVBQVhBLFdBQXhCO0FBQXFDSixhQUFLLEVBQUxBO0FBQXJDLE9BQWhCLEVBQTZENkIsT0FBN0QsQ0FBdEI7QUFDQSxhQUFPekIsV0FBUDtBQUVIO0FBdkVMO0FBQUE7QUFBQSxvQ0F5RW9CSixLQXpFcEIsRUF5RW1DRixNQXpFbkMsRUF5RWdIO0FBQUEsVUFBaEMrQixPQUFnQyx1RUFBUixNQUFRO0FBQ3hHLFVBQU16QixXQUFXLEdBQUcsS0FBS2pCLFlBQUwsQ0FBa0JjLE1BQWxCLENBQXlCRCxLQUF6QixDQUFwQjtBQUNBLFVBQU1nQyxTQUFTLEdBQUc1QixXQUFXLENBQUNOLE1BQTlCO0FBRndHLFVBR2pHVyxLQUhpRyxHQUdoRnVCLFNBSGdGLENBR2pHdkIsS0FIaUc7QUFBQSxVQUcxRkMsTUFIMEYsR0FHaEZzQixTQUhnRixDQUcxRnRCLE1BSDBGO0FBSXhHLFVBQU1kLFVBQVUsR0FBR0MsdUVBQVUsQ0FBQ08sV0FBVyxDQUFDTixNQUFiLENBQTdCO0FBQ0EsVUFBTWdDLEdBQUcsR0FBRzFCLFdBQVcsQ0FBQ04sTUFBWixDQUFtQmtCLFVBQW5CLENBQThCLElBQTlCLENBQVo7QUFDQWMsU0FBRyxTQUFILElBQUFBLEdBQUcsV0FBSCxZQUFBQSxHQUFHLENBQUVHLFNBQUwsQ0FBZSxDQUFmLEVBQWlCLENBQWpCLEVBQW9CeEIsS0FBcEIsRUFBMkJDLE1BQTNCO0FBQ0FvQixTQUFHLFNBQUgsSUFBQUEsR0FBRyxXQUFILFlBQUFBLEdBQUcsQ0FBRUMsU0FBTCxDQUFlakMsTUFBZixFQUF1QixDQUF2QixFQUF5QixDQUF6QixFQUEyQlcsS0FBM0IsRUFBa0NDLE1BQWxDO0FBQ0EsV0FBS1AsSUFBTCxDQUFVLGVBQVYsRUFBMkIsSUFBSTlCLFdBQUosQ0FBZ0I7QUFBRW1CLGNBQU0sRUFBRSxLQUFLQSxNQUFmO0FBQXdCWSxtQkFBVyxFQUFYQSxXQUF4QjtBQUFxQ0osYUFBSyxFQUFMQSxLQUFyQztBQUE0Q0osa0JBQVUsRUFBVkE7QUFBNUMsT0FBaEIsRUFBNEVpQyxPQUE1RSxDQUEzQjtBQUNBLGFBQU96QixXQUFQO0FBQ0g7QUFuRkw7QUFBQTtBQUFBLCtCQXVGZUEsV0F2RmYsRUF1RjhDO0FBQ3RDLFdBQUtqQixZQUFMLENBQWtCeUMsVUFBbEIsQ0FBNkJ4QixXQUE3QjtBQUNBLFdBQUtELElBQUwsQ0FBVSxZQUFWLEVBQXdCLElBQUk5QixXQUFKLENBQWdCO0FBQUUrQixtQkFBVyxFQUFYQTtBQUFGLE9BQWhCLENBQXhCO0FBQ0g7QUExRkw7QUFBQTtBQUFBLGdDQTRGZ0JBLFdBNUZoQixFQTRGNkU7QUFBQSxVQUFuQ3lCLE9BQW1DLHVFQUFiLE1BQWE7O0FBQUEsa0NBQ3pDLEtBQUsxQyxZQUFMLENBQWtCK0MsV0FBbEIsQ0FBOEI5QixXQUE5QixDQUR5QztBQUFBLFVBQzdESixLQUQ2RCx5QkFDN0RBLEtBRDZEO0FBQUEsVUFDdERtQyxPQURzRCx5QkFDdERBLE9BRHNEOztBQUVyRSxXQUFLaEMsSUFBTCxDQUFVLGFBQVYsRUFBeUIsSUFBSTlCLFdBQUosQ0FBZ0I7QUFBQ21CLGNBQU0sRUFBRSxLQUFLQSxNQUFkO0FBQXNCWSxtQkFBVyxFQUFYQSxXQUF0QjtBQUFtQ0osYUFBSyxFQUFMQTtBQUFuQyxPQUFoQixFQUEyRDZCLE9BQTNELENBQXpCOztBQUNBLFVBQUdNLE9BQUgsRUFBVztBQUNQLFlBQU0vQixZQUFXLEdBQUcsS0FBS2pCLFlBQUwsQ0FBa0JjLE1BQWxCLENBQXlCLENBQXpCLENBQXBCO0FBQ0EsYUFBSzJCLFVBQUwsQ0FBZ0J4QixZQUFoQjtBQUNBLGFBQUtELElBQUwsQ0FBVSxZQUFWLEVBQXdCLElBQUk5QixXQUFKLENBQWdCO0FBQUMrQixxQkFBVyxFQUFYQTtBQUFELFNBQWhCLEVBQStCeUIsT0FBL0IsQ0FBeEI7QUFDTDtBQUNGO0FBcEdMO0FBQUE7QUFBQSx1Q0FzR3VCN0IsS0F0R3ZCLEVBc0cwRTtBQUFBLFVBQXBDNkIsT0FBb0MsdUVBQWQsTUFBYztBQUNsRSxVQUFNekIsV0FBVyxHQUFHLEtBQUtqQixZQUFMLENBQWtCYyxNQUFsQixDQUF5QkQsS0FBekIsQ0FBcEI7QUFDQSxXQUFLa0MsV0FBTCxDQUFpQjlCLFdBQWpCLEVBQThCeUIsT0FBOUI7QUFDSDtBQXpHTDtBQUFBO0FBQUEsa0NBMkdrQnBCLEtBM0dsQixFQTJHZ0M7QUFDeEIsV0FBS3ZCLE9BQUwsQ0FBYWtELFVBQWIsR0FBMEIzQixLQUExQjtBQUNIO0FBN0dMO0FBQUE7QUFBQSw2QkFnSGE0QixLQWhIYixFQWdIMEI7QUFDbEIsVUFBRyxLQUFLbkQsT0FBTCxDQUFhbUQsS0FBaEIsRUFBc0I7QUFDbEIsYUFBS25ELE9BQUwsQ0FBYW1ELEtBQWIsQ0FBbUJDLE9BQW5CO0FBQ0g7O0FBQ0RELFdBQUssQ0FBQ3hCLElBQU47QUFDQSxXQUFLM0IsT0FBTCxDQUFhbUQsS0FBYixHQUFxQkEsS0FBckI7QUFDSDtBQXRITDtBQUFBO0FBQUEsa0NBd0hrQkUsQ0F4SGxCLEVBd0hrQztBQUMxQixXQUFLaEQsVUFBTCxDQUFnQmdELENBQUMsQ0FBQ0MsU0FBbEIsSUFBK0IsSUFBL0I7QUFDQSxVQUFNQyxDQUFDLEdBQUdqRSx1QkFBdUIsQ0FBQytELENBQUQsQ0FBakMsQ0FGMEIsQ0FHMUI7O0FBQ0EsV0FBS3JELE9BQUwsQ0FBYW1ELEtBQWIsQ0FBbUJLLE9BQW5CLENBQTJCRCxDQUEzQixFQUE2QixLQUFLdkQsT0FBbEM7QUFDSDtBQTdITDtBQUFBO0FBQUEsa0NBK0hrQnlELFlBL0hsQixFQStIa0Q7QUFDNUMsVUFBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVksS0FBS3RELFVBQWpCLEVBQTZCdUQsTUFBN0IsR0FBb0MsQ0FBdkMsRUFBMEM7QUFDeEMsVUFBSUMsWUFBSjs7QUFDQSxVQUFJSixZQUFELENBQXNCSyxrQkFBekIsRUFBNEM7QUFDMUM7QUFDQUQsb0JBQVksR0FBSUosWUFBRCxDQUF1Qkssa0JBQXZCLEVBQWY7QUFDRCxPQUhELE1BR0s7QUFDSDtBQUNFRCxvQkFBWSxHQUFJLENBQUNKLFlBQUQsQ0FBaEI7QUFDSDs7QUFDRCxXQUFLekQsT0FBTCxDQUFhbUQsS0FBYixDQUFtQlksTUFBbkIsQ0FDSUYsWUFBWSxDQUFDRyxHQUFiLENBQWtCLFVBQUFYLENBQUM7QUFBQSxlQUFJL0QsdUJBQXVCLENBQUMrRCxDQUFELENBQTNCO0FBQUEsT0FBbkIsQ0FESixFQUVJLEtBQUtyRCxPQUZUO0FBSUg7QUE3SUw7QUFBQTtBQUFBLGdDQStJZ0JxRCxDQS9JaEIsRUErSXNDO0FBQzlCLGFBQU8sS0FBS2hELFVBQUwsQ0FBZ0JnRCxDQUFDLENBQUNDLFNBQWxCLENBQVA7QUFDQSxXQUFLdEQsT0FBTCxDQUFhbUQsS0FBYixDQUFtQmMsS0FBbkIsQ0FBeUIzRSx1QkFBdUIsQ0FBQytELENBQUQsQ0FBaEQsRUFBb0QsS0FBS3JELE9BQXpEO0FBRUg7QUFuSkw7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLEVBQXVDa0UsMkRBQXZDOztBQStKQSxTQUFTQyxhQUFULEdBQTBEO0FBQUEsTUFBbkNDLEdBQW1DLHVFQUEvQixFQUErQjtBQUFBLE1BQTNCeEQsTUFBMkI7QUFDdEQsTUFBTWdDLEdBQUcsR0FBR2hDLE1BQU0sQ0FBQ2tCLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBWjtBQUNEdUMsU0FBTyxDQUFDQyxHQUFSLENBQVlGLEdBQVosRUFBaUJ4QixHQUFqQixhQUFpQkEsR0FBakIsdUJBQWlCQSxHQUFHLENBQUUyQixZQUFMLENBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBQXNCLENBQXRCLEVBQXdCLENBQXhCLEVBQTJCbkYsSUFBNUM7QUFDRDs7Ozs7Ozs7Ozs7MEJBeE1XRCxXOzBCQXlCUEcsdUI7MEJBYU9TLGlCOzBCQStKSm9FLGEiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSR0JBIH0gZnJvbSBcIi4uL3RvcC10b29sLWJhci90b29sLWl0ZW0vY29sb3Itc2VsZWN0b3IvcmdiYVwiXG5pbXBvcnQgeyBQQ2FudmFzQ29udGV4dCB9IGZyb20gXCIuL3BjYW52YXMuY29udGV4dFwiXG5pbXBvcnQgeyBCcnVzaCB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoXCJcbmltcG9ydCB7IFdvcmtEZXRhaWwsIExheWVyRGV0YWlsIH0gZnJvbSBcIi4uLy4uLy4uL3dvcmtTdG9yYWdlXCJcbmltcG9ydCB7IFBjYW52YXNMYXllcnMgfSBmcm9tIFwiLi9wY2FudmFzLmxheWVyXCJcbmltcG9ydCBQRXZlbnRFbWl0ZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvZXZlbnRcIlxuaW1wb3J0IHsgY29weUNhbnZhcyB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2NhbnZhc1wiXG5pbXBvcnQgeyBCcnVzaFN0YXR1cyB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoL3R5cGVzXCJcblxuZXhwb3J0IHR5cGUgRXZuZXRDcmVhdG9yID0gJ3VzZXInfCdoaXN0b3J5J1xuXG5leHBvcnQgY2xhc3MgQ2FudmFzRXZlbnQ8VD1udWxsPiB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgcHVibGljIGRhdGE6IFQsXG4gICAgICAgcHVibGljIHRhZzpFdm5ldENyZWF0b3I9J3VzZXInLFxuICAgICl7fVxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FudmFzRXZlbnREYXRhIHtcblxuICAgIGluaXQ6IENhbnZhc0V2ZW50XG5cbiAgICBjb2xvcmNoYW5nZTogQ2FudmFzRXZlbnQ8e2NvbG9yOiBSR0JBfT5cblxuICAgIGFkZExheWVyOiBDYW52YXNFdmVudDx7d29ya0lkOnN0cmluZywgbGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsLCBpbmRleDogbnVtYmVyfT5cblxuICAgIGNvbnRlbnRDaGFuZ2U6IENhbnZhc0V2ZW50PHsgd29ya0lkOnN0cmluZyAsIGxheWVyRGV0YWlsOiBMYXllckRldGFpbCwgcHJlQ29udGVudDogSFRNTENhbnZhc0VsZW1lbnQsIGluZGV4OiBudW1iZXIgfT5cblxuICAgIGZvY3VzTGF5ZXI6IENhbnZhc0V2ZW50PHsgbGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsIH0+XG5cbiAgICByZW1vdmVMYXllcjogQ2FudmFzRXZlbnQ8eyB3b3JrSWQ6c3RyaW5nLCBsYXllckRldGFpbDogTGF5ZXJEZXRhaWwsIGluZGV4OiBudW1iZXJ9PlxufVxuXG5cbmNvbnN0IHBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzID0gKHtvZmZzZXRYOiB4LCBvZmZzZXRZOiB5LHRpbHRYLHRpbHRZLCBwcmVzc3VyZX06IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdwcmVzc3VyZS4uLicsIHByZXNzdXJlKVxuICAgIHByZXNzdXJlID0gcHJlc3N1cmU+MT8gcHJlc3N1cmUgKiAwLjAxIDogXG4gICAgICAgICAgICAgICAgcHJlc3N1cmUgPT09IDA/IDE6IHByZXNzdXJlO1xuICAgIHJldHVybiBuZXcgQnJ1c2hTdGF0dXMoeCwgeSwgIHByZXNzdXJlLCB0aWx0WCwgdGlsdFkpXG59XG5leHBvcnQgdHlwZSBXcmFwSW5mbyA9IHsgd3JhcDogSFRNTEVsZW1lbnQsIGNvdmVyOiBIVE1MRWxlbWVudCB9XG4vKipcbiAqIOeUqOS6juaOp+WItlBDYW52YXNjb250cm9sbGVyIGNvbXBvbmVudCDnmoTlr7nosaEuXG4gKiBcbiAqIC8vIFRPRE9cbiAqIOWvueeahOaTjeS9nOaUvuWFpee7hOS7tuS4rS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBDYW52YXNDb250cm9sbGVyIGV4dGVuZHMgUEV2ZW50RW1pdGVyPENhbnZhc0V2ZW50RGF0YT4ge1xuXG4gICAgcHJvdGVjdGVkIGNvbnRleHQ6IFBDYW52YXNDb250ZXh0O1xuXG4gICAgcHJvdGVjdGVkIGxheWVyTWFuYWdlcjpQY2FudmFzTGF5ZXJzO1xuXG4gICAgcHJvdGVjdGVkIGNvbG9yID0gUkdCQS5CTEFDSztcblxuICAgIHByb3RlY3RlZCBwb2ludGVySWRzOiB7W2lkOnN0cmluZ106IGJvb2xlYW59ID0ge31cblxuICAgIHByb3RlY3RlZCB3b3JrSWQ6IHN0cmluZ1xuXG4gICAgYXN5bmMgaW5pdCgge3dyYXAsIGNvdmVyfTogIFdyYXBJbmZvLCB3b3JrRGV0YWlsOiBXb3JrRGV0YWlsICl7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgd29ya0lkIH0gPSB3b3JrRGV0YWlsLndvcmtJbmZvXG4gICAgICAgIHdyYXAuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGBcbiAgICAgICAgd3JhcC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgXG4gICAgICAgIHRoaXMud29ya0lkID0gd29ya0lkXG4gICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyID0gbmV3IFBjYW52YXNMYXllcnMoe2NvdmVyLCB3cmFwLCB3aWR0aCwgaGVpZ2h0fSlcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuaW5pdCh3b3JrRGV0YWlsLmxheWVycylcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbmV3IFBDYW52YXNDb250ZXh0KFxuICAgICAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuZ2V0Q2FudmFzKCksXG4gICAgICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5nZXRDb250ZXh0KCksXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHRoaXMub25CcnVzaEVuZCxcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmVtaXQoJ2luaXQnLCBuZXcgQ2FudmFzRXZlbnQobnVsbCkgKVxuICAgICAgICB0aGlzLmVtaXQoJ2ZvY3VzTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoeyBsYXllckRldGFpbDogdGhpcy5sYXllck1hbmFnZXIuZ2V0Rm9jdXNEZXRhaWwoKSB9KSlcbiAgICAgICAgLy8gbG9nQ2FudmFzRGF0YSgnaW5pdDogJywgdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzWzBdLmNhbnZhcylcbiAgICB9XG5cbiAgICBzZXRDb2xvcih7cixnLGJ9OiBSR0JBKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gbmV3IFJHQkEocixnLGIsIHRoaXMuY29sb3IuYSlcbiAgICAgICAgdGhpcy5zZXRSR0JBKGNvbG9yKVxuICAgIH1cblxuICAgIHNldFJHQkEoY29sb3I6IFJHQkEpOnZvaWR7XG4gICAgICAgIHRoaXMuY29udGV4dC5jb2xvciA9IGNvbG9yLnRvUkdCQVN0cmluZygpXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvclxuICAgICAgICB0aGlzLmVtaXQoJ2NvbG9yY2hhbmdlJywgbmV3IENhbnZhc0V2ZW50KHtjb2xvciB9KSlcbiAgICB9XG5cbiAgICBzZXRPcGFjaXR5KG9wYWNpdHk6IG51bWJlcil7XG4gICAgICAgIGNvbnN0IHtyLGcsYn0gPSB0aGlzLmNvbG9yXG4gICAgICAgIGNvbnN0IGNvbG9yID0gbmV3IFJHQkEociwgZywgYiwgb3BhY2l0eSlcbiAgICAgICAgdGhpcy5zZXRSR0JBKGNvbG9yKVxuICAgIH1cblxuXG4gICAgYXN5bmMgZ2V0TGF5ZXJzKCl7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5sYXllck1hbmFnZXIubGF5ZXJzXVxuICAgIH1cblxuICAgIGFkZExheWVyKCl7XG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gIHRoaXMubGF5ZXJNYW5hZ2VyLmFkZExheWVyKExheWVyRGV0YWlsLmNyZWF0ZSh0aGlzLmxheWVyTWFuYWdlci53cmFwSW5mbykpXG4gICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmZvY3VzTGF5ZXIobGF5ZXJEZXRhaWwpXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzLmluZGV4T2YobGF5ZXJEZXRhaWwpXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkTGF5ZXInLCAgbmV3IENhbnZhc0V2ZW50KHt3b3JrSWQ6IHRoaXMud29ya0lkLCBsYXllckRldGFpbCwgaW5kZXggfSkpXG4gICAgICAgIHRoaXMuZW1pdCgnZm9jdXNMYXllcicsIG5ldyBDYW52YXNFdmVudCh7bGF5ZXJEZXRhaWx9KSlcblxuICAgIH1cblxuICAgIGFkZExheWVyQ29udGVudChpbmRleDogbnVtYmVyLCBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnR8IEhUTUxJbWFnZUVsZW1lbnQsIGNyZWF0b3I6IEV2bmV0Q3JlYXRvcj0ndXNlcicpOiBMYXllckRldGFpbCB7XG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGNhbnZhc1xuICAgICAgICBjb25zdCBsYXllckRldGFpbCA9IExheWVyRGV0YWlsLmNyZWF0ZSh7d2lkdGgsIGhlaWdodH0pXG4gICAgICAgIGNvbnN0IGN0eCA9IGxheWVyRGV0YWlsLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGNhbnZhcywgMCwwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5hZGRMYXllcihsYXllckRldGFpbCwgaW5kZXgpXG4gICAgICAgIHRoaXMuZW1pdCgnYWRkTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoeyB3b3JrSWQ6IHRoaXMud29ya0lkICwgbGF5ZXJEZXRhaWwsIGluZGV4fSwgY3JlYXRvcikpXG4gICAgICAgIHJldHVybiBsYXllckRldGFpbFxuXG4gICAgfVxuXG4gICAgc2V0TGF5ZXJDb250ZW50KGluZGV4OiBudW1iZXIsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnR8IEhUTUxJbWFnZUVsZW1lbnQsIGNyZWF0b3I6IEV2bmV0Q3JlYXRvciA9ICd1c2VyJykge1xuICAgICAgICBjb25zdCBsYXllckRldGFpbCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVyc1tpbmRleF1cbiAgICAgICAgY29uc3Qgb2xkQ2FudmFzID0gbGF5ZXJEZXRhaWwuY2FudmFzXG4gICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IG9sZENhbnZhc1xuICAgICAgICBjb25zdCBwcmVDb250ZW50ID0gY29weUNhbnZhcyhsYXllckRldGFpbC5jYW52YXMpXG4gICAgICAgIGNvbnN0IGN0eCA9IGxheWVyRGV0YWlsLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGN0eD8uY2xlYXJSZWN0KDAsMCwgd2lkdGgsIGhlaWdodClcbiAgICAgICAgY3R4Py5kcmF3SW1hZ2UoY2FudmFzLCAwLDAsd2lkdGgsIGhlaWdodClcbiAgICAgICAgdGhpcy5lbWl0KCdjb250ZW50Q2hhbmdlJywgbmV3IENhbnZhc0V2ZW50KHsgd29ya0lkOiB0aGlzLndvcmtJZCAsIGxheWVyRGV0YWlsLCBpbmRleCwgcHJlQ29udGVudCwgIH0sIGNyZWF0b3IpKVxuICAgICAgICByZXR1cm4gbGF5ZXJEZXRhaWxcbiAgICB9XG5cblxuXG4gICAgZm9jdXNMYXllcihsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpOnZvaWQge1xuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5mb2N1c0xheWVyKGxheWVyRGV0YWlsKVxuICAgICAgICB0aGlzLmVtaXQoJ2ZvY3VzTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoeyBsYXllckRldGFpbCB9KSlcbiAgICB9XG5cbiAgICByZW1vdmVMYXllcihsYXllckRldGFpbDogTGF5ZXJEZXRhaWwsIGNyZWF0b3I6IEV2bmV0Q3JlYXRvcj0ndXNlcicpOiB2b2lke1xuICAgICAgICBjb25zdCB7IGluZGV4LCBpc0ZvY3VzIH0gPSAgdGhpcy5sYXllck1hbmFnZXIucmVtb3ZlTGF5ZXIobGF5ZXJEZXRhaWwpXG4gICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoe3dvcmtJZDogdGhpcy53b3JrSWQsIGxheWVyRGV0YWlsLCBpbmRleH0sIGNyZWF0b3IpKVxuICAgICAgICBpZihpc0ZvY3VzKXtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzWzBdXG4gICAgICAgICAgICB0aGlzLmZvY3VzTGF5ZXIobGF5ZXJEZXRhaWwpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2ZvY3VzTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoe2xheWVyRGV0YWlsfSwgY3JlYXRvcikpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlTGF5ZXJCeUluZGV4KGluZGV4OiBudW1iZXIsIGNyZWF0b3I6IEV2bmV0Q3JlYXRvcj0ndXNlcicpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSB0aGlzLmxheWVyTWFuYWdlci5sYXllcnNbaW5kZXhdXG4gICAgICAgIHRoaXMucmVtb3ZlTGF5ZXIobGF5ZXJEZXRhaWwsIGNyZWF0b3IpXG4gICAgfVxuXG4gICAgc2V0QnJ1c2hXaWR0aCh3aWR0aDogbnVtYmVyKXtcbiAgICAgICAgdGhpcy5jb250ZXh0LmJydXNoV2lkdGggPSB3aWR0aFxuICAgIH1cbiAgXG5cbiAgICBzZXRCcnVzaChicnVzaDogQnJ1c2gpe1xuICAgICAgICBpZih0aGlzLmNvbnRleHQuYnJ1c2gpe1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJydXNoLmRlc3RvcnkoKVxuICAgICAgICB9XG4gICAgICAgIGJydXNoLmluaXQoKVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2ggPSBicnVzaFxuICAgIH1cblxuICAgIG9uUG9pbnRlckRvd24ocDogUG9pbnRlckV2ZW50KXtcbiAgICAgICAgdGhpcy5wb2ludGVySWRzW3AucG9pbnRlcklkXSA9IHRydWVcbiAgICAgICAgY29uc3QgcyA9IHBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzKHApXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmJywgcylcbiAgICAgICAgdGhpcy5jb250ZXh0LmJydXNoLm9uU3RhcnQocyx0aGlzLmNvbnRleHQpXG4gICAgfVxuXG4gICAgb25Qb2ludGVyTW92ZShwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudCk6dm9pZHtcbiAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMucG9pbnRlcklkcykubGVuZ3RoPjEpIHJldHVyblxuICAgICAgICBsZXQgcG9udGVyRXZlbnRzOiBQb2ludGVyRXZlbnRbXTtcbiAgICAgICAgaWYoKHBvaW50ZXJFdmVudCBhcyBhbnkpLmdldENvYWxlc2NlZEV2ZW50cyl7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dldENvYWxlc2NlZEV2ZW50cycpXG4gICAgICAgICAgcG9udGVyRXZlbnRzID0gKHBvaW50ZXJFdmVudCBhcyBhbnkgKS5nZXRDb2FsZXNjZWRFdmVudHMoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbm90IGdldENvYWxlc2NlZEV2ZW50cycpXG4gICAgICAgICAgICBwb250ZXJFdmVudHMgPSAgW3BvaW50ZXJFdmVudF1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2gub25EcmF3KFxuICAgICAgICAgICAgcG9udGVyRXZlbnRzLm1hcCggcCA9PiBwb2ludEV2ZW50MkJydW5zaFN0YXR1cyhwKSApLFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChwOiBQb2ludGVyRXZlbnQpOiB2b2lke1xuICAgICAgICBkZWxldGUgdGhpcy5wb2ludGVySWRzW3AucG9pbnRlcklkXVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2gub25FbmQocG9pbnRFdmVudDJCcnVuc2hTdGF0dXMocCksdGhpcy5jb250ZXh0KVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25CcnVzaEVuZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGN1ckxheWVyRGV0YWlsID0gdGhpcy5sYXllck1hbmFnZXIuZ2V0Rm9jdXNEZXRhaWwoKVxuICAgICAgICBjb25zdCBwcmVDb250ZW50ID0gY29weUNhbnZhcyhjdXJMYXllckRldGFpbC5jYW52YXMpXG4gICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmFwcGx5VGVtcENhbnZhcygpXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzLmluZGV4T2YoY3VyTGF5ZXJEZXRhaWwpXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGVudENoYW5nZScsIG5ldyBDYW52YXNFdmVudCh7IHdvcmtJZDogdGhpcy53b3JrSWQgLCBsYXllckRldGFpbDogY3VyTGF5ZXJEZXRhaWwsIHByZUNvbnRlbnQsIGluZGV4fSkpIFxuICAgIH1cblxuXG4gfVxuZnVuY3Rpb24gbG9nQ2FudmFzRGF0YShyZXA9JycsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgY29uc29sZS5sb2cocmVwLCBjdHg/LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhKSBcbiB9XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28\n')},32:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvasContext", function() { return PCanvasContext; });\n/* harmony import */ var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26);\n/* harmony import */ var _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\nvar PCanvasContext = /*#__PURE__*/function () {\n  function PCanvasContext(curCanvas, curCanvasContext2D, width, height, onBrushEnd) {\n    var brush = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__["Brush"]();\n    var color = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"].BLACK.toRGBAString();\n    var brushWidth = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 100;\n\n    _classCallCheck(this, PCanvasContext);\n\n    this.curCanvas = curCanvas;\n    this.curCanvasContext2D = curCanvasContext2D;\n    this.width = width;\n    this.height = height;\n    this.onBrushEnd = onBrushEnd;\n    this.brush = brush;\n    this.color = color;\n    this.brushWidth = brushWidth;\n  }\n\n  _createClass(PCanvasContext, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PCanvasContext;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PCanvasContext, "PCanvasContext", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.context.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmNvbnRleHQudHM/ZGE5OSJdLCJuYW1lcyI6WyJQQ2FudmFzQ29udGV4dCIsImN1ckNhbnZhcyIsImN1ckNhbnZhc0NvbnRleHQyRCIsIndpZHRoIiwiaGVpZ2h0Iiwib25CcnVzaEVuZCIsImJydXNoIiwiQnJ1c2giLCJjb2xvciIsIlJHQkEiLCJCTEFDSyIsInRvUkdCQVN0cmluZyIsImJydXNoV2lkdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRU8sSUFBTUEsY0FBYjtBQUVJLDBCQUVXQyxTQUZYLEVBT1dDLGtCQVBYLEVBU1dDLEtBVFgsRUFXV0MsTUFYWCxFQWFXQyxVQWJYLEVBc0JDO0FBQUEsUUFQVUMsS0FPVix1RUFQeUIsSUFBSUMsbUVBQUosRUFPekI7QUFBQSxRQUxVQyxLQUtWLHVFQUwwQkMsZ0ZBQUksQ0FBQ0MsS0FBTCxDQUFXQyxZQUFYLEVBSzFCO0FBQUEsUUFIVUMsVUFHVix1RUFIK0IsR0FHL0I7O0FBQUE7O0FBQUEsU0FwQlVYLFNBb0JWLEdBcEJVQSxTQW9CVjtBQUFBLFNBZlVDLGtCQWVWLEdBZlVBLGtCQWVWO0FBQUEsU0FiVUMsS0FhVixHQWJVQSxLQWFWO0FBQUEsU0FYVUMsTUFXVixHQVhVQSxNQVdWO0FBQUEsU0FUVUMsVUFTVixHQVRVQSxVQVNWO0FBQUEsU0FQVUMsS0FPVixHQVBVQSxLQU9WO0FBQUEsU0FMVUUsS0FLVixHQUxVQSxLQUtWO0FBQUEsU0FIVUksVUFHVixHQUhVQSxVQUdWO0FBQUU7O0FBeEJQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7Ozs7Ozs7OzswQkFBYVosYyIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJHQkEgfSBmcm9tIFwiLi4vdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhXCI7XG5pbXBvcnQgeyBCcnVzaCB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoXCI7XG5cbmV4cG9ydCBjbGFzcyBQQ2FudmFzQ29udGV4dCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcblxuICAgICAgICBwdWJsaWMgY3VyQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcblxuICAgICAgICAvKipcbiAgICAgICAgICog5b2T5YmN6YCJ5Lit5Zu+5bGC55qEY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjdXJDYW52YXNDb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBvbkJydXNoRW5kOiAoKSA9PiB2b2lkLFxuXG4gICAgICAgIHB1YmxpYyBicnVzaDogQnJ1c2ggPSBuZXcgQnJ1c2goKSxcblxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZyA9IFJHQkEuQkxBQ0sudG9SR0JBU3RyaW5nKCksXG5cbiAgICAgICAgcHVibGljIGJydXNoV2lkdGg6IG51bWJlciA9IDEwMCxcblxuXG4gICAgKXt9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n')},33:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PcanvasLayers", function() { return PcanvasLayers; });\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\nvar PcanvasLayers = /*#__PURE__*/function () {\n  /**\n   * 临时图层,始终位于当前绘制图层的上方.\n   */\n\n  /**\n   * 当前绘制的图层.\n   */\n  function PcanvasLayers(wrapInfo) {\n    _classCallCheck(this, PcanvasLayers);\n\n    this.wrapInfo = wrapInfo;\n    this.tempLayer = void 0;\n    this.layers = void 0;\n    this.focusedLayerDetail = void 0;\n  }\n\n  _createClass(PcanvasLayers, [{\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(layers) {\n        var wrapInfo, wrap, cover, lastElement;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                wrapInfo = this.wrapInfo;\n                wrap = wrapInfo.wrap, cover = wrapInfo.cover;\n                lastElement = cover;\n                this.layers = layers;\n                layers.forEach(function (layer, index) {\n                  var canvas = layer.canvas,\n                      layerId = layer.layerId,\n                      visible = layer.visible;\n                  wrap.insertBefore(canvas, lastElement);\n                  lastElement = canvas;\n\n                  if (!visible) {\n                    canvas.className = \'unvisible\';\n                  }\n                });\n                this.tempLayer = _workStorage__WEBPACK_IMPORTED_MODULE_0__[/* LayerDetail */ "a"].create(wrapInfo);\n                wrap.insertBefore(this.tempLayer.canvas, cover); // console.log(\'this.tempLayer: \', this.tempLayer.layerId)\n\n                this.focusedLayerDetail = layers[0];\n\n              case 8:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "getCanvas",\n    value: function getCanvas() {\n      return this.tempLayer.canvas;\n    }\n  }, {\n    key: "applyTempCanvas",\n    value: function applyTempCanvas() {\n      var ctx = this.focusedLayerDetail.canvas.getContext(\'2d\');\n      var tempCtx = this.tempLayer.canvas.getContext(\'2d\');\n\n      if (ctx && tempCtx) {\n        var _this$tempLayer$canva = this.tempLayer.canvas,\n            width = _this$tempLayer$canva.width,\n            height = _this$tempLayer$canva.height;\n        ctx.drawImage(this.tempLayer.canvas, 0, 0, width, height);\n        tempCtx.clearRect(0, 0, width, height);\n      }\n    }\n  }, {\n    key: "getFocusDetail",\n    value: function getFocusDetail() {\n      return this.focusedLayerDetail;\n    }\n  }, {\n    key: "focusLayer",\n    value: function focusLayer(layerDetail) {\n      var nextLayer = this.layers[this.layers.indexOf(layerDetail) - 1];\n      var nextCanvas = nextLayer && nextLayer.canvas && nextLayer !== this.tempLayer ? nextLayer.canvas : this.wrapInfo.cover;\n      this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas, nextCanvas);\n      this.focusedLayerDetail = layerDetail; // TOFIX: update templyer in layers.\n    }\n  }, {\n    key: "addLayer",\n    value: function addLayer(newLayer) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var wrap = this.wrapInfo.wrap;\n      var oldLayerDetail = this.layers[index - 1];\n      var ele = oldLayerDetail && oldLayerDetail.canvas || this.wrapInfo.cover;\n      wrap.insertBefore(newLayer.canvas, ele);\n      this.layers.splice(index, 0, newLayer);\n      return newLayer;\n    }\n  }, {\n    key: "removeLayer",\n    value: function removeLayer(layerDetail) {\n      var index = this.layers.indexOf(layerDetail);\n\n      if (index > -1) {\n        this.wrapInfo.wrap.removeChild(layerDetail.canvas);\n        this.layers.splice(index, 1);\n      } else {\n        console.warn(\'layerDetail has been removed\');\n      }\n\n      return {\n        index: index,\n        isFocus: this.focusedLayerDetail === layerDetail\n      };\n    }\n  }, {\n    key: "getContext",\n    value: function getContext() {\n      var ctx = this.tempLayer.canvas.getContext(\'2d\');\n\n      if (ctx === null) {\n        throw \'get context faliled.\';\n      }\n\n      ctx.imageSmoothingEnabled = false;\n      return ctx;\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PcanvasLayers;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PcanvasLayers, "PcanvasLayers", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.layer.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmxheWVyLnRzPzY0OWMiXSwibmFtZXMiOlsiUGNhbnZhc0xheWVycyIsIndyYXBJbmZvIiwidGVtcExheWVyIiwibGF5ZXJzIiwiZm9jdXNlZExheWVyRGV0YWlsIiwid3JhcCIsImNvdmVyIiwibGFzdEVsZW1lbnQiLCJmb3JFYWNoIiwibGF5ZXIiLCJpbmRleCIsImNhbnZhcyIsImxheWVySWQiLCJ2aXNpYmxlIiwiaW5zZXJ0QmVmb3JlIiwiY2xhc3NOYW1lIiwiTGF5ZXJEZXRhaWwiLCJjcmVhdGUiLCJjdHgiLCJnZXRDb250ZXh0IiwidGVtcEN0eCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiY2xlYXJSZWN0IiwibGF5ZXJEZXRhaWwiLCJuZXh0TGF5ZXIiLCJpbmRleE9mIiwibmV4dENhbnZhcyIsIm5ld0xheWVyIiwib2xkTGF5ZXJEZXRhaWwiLCJlbGUiLCJzcGxpY2UiLCJyZW1vdmVDaGlsZCIsImNvbnNvbGUiLCJ3YXJuIiwiaXNGb2N1cyIsImltYWdlU21vb3RoaW5nRW5hYmxlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBVU8sSUFBTUEsYUFBYjtBQUVJOzs7O0FBTUE7OztBQUtBLHlCQUE0QkMsUUFBNUIsRUFBK0M7QUFBQTs7QUFBQSxTQUFuQkEsUUFBbUIsR0FBbkJBLFFBQW1CO0FBQUEsU0FSckNDLFNBUXFDO0FBQUEsU0FOeENDLE1BTXdDO0FBQUEsU0FGckNDLGtCQUVxQztBQUFFOztBQWJyRDtBQUFBO0FBQUE7QUFBQSwyRkFnQmdCRCxNQWhCaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJZRix3QkFqQlosR0FpQnVCLEtBQUtBLFFBakI1QjtBQWtCY0ksb0JBbEJkLEdBa0I4QkosUUFsQjlCLENBa0JjSSxJQWxCZCxFQWtCb0JDLEtBbEJwQixHQWtCOEJMLFFBbEI5QixDQWtCb0JLLEtBbEJw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O0FBQUE7QUFBQTs7Ozs7Ozs7OzswQkFBYWxCLGEiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXllckRldGFpbCB9IGZyb20gXCIuLi8uLi8uLi93b3JrU3RvcmFnZVwiO1xuaW1wb3J0IHsgY29weUNhbnZhcyB9IGZyb20gJ0AvdXRpbC9jYW52YXMnXG5cbmV4cG9ydCB0eXBlIFdyYXBJbmZvID0geyBcbiAgcmVhZG9ubHkgIHdyYXA6IEhUTUxFbGVtZW50LFxuICByZWFkb25seSAgY292ZXI6IEhUTUxFbGVtZW50LFxuICByZWFkb25seSAgd2lkdGg6IG51bWJlcixcbiAgcmVhZG9ubHkgIGhlaWdodDogbnVtYmVyLFxuIH1cblxuZXhwb3J0IGNsYXNzIFBjYW52YXNMYXllcnN7XG5cbiAgICAvKipcbiAgICAgKiDkuLTml7blm77lsYIs5aeL57uI5L2N5LqO5b2T5YmN57uY5Yi25Zu+5bGC55qE5LiK5pa5LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCB0ZW1wTGF5ZXI6TGF5ZXJEZXRhaWw7XG5cbiAgICBwdWJsaWMgbGF5ZXJzOiAgTGF5ZXJEZXRhaWw8SFRNTENhbnZhc0VsZW1lbnQ+W10gXG4gICAgLyoqXG4gICAgICog5b2T5YmN57uY5Yi255qE5Zu+5bGCLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmb2N1c2VkTGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHdyYXBJbmZvOiBXcmFwSW5mbyl7fVxuXG5cbiAgICBhc3luYyBpbml0KCBsYXllcnM6IExheWVyRGV0YWlsW10pOiBQcm9taXNlPHZvaWQ+e1xuICAgICAgY29uc3Qgd3JhcEluZm8gPSB0aGlzLndyYXBJbmZvXG4gICAgICBjb25zdCB7IHdyYXAsIGNvdmVyIH0gPSB3cmFwSW5mb1xuICAgICAgbGV0IGxhc3RFbGVtZW50OiBIVE1MRWxlbWVudD0gY292ZXJcbiAgICAgIHRoaXMubGF5ZXJzID0gbGF5ZXJzXG4gICAgICBsYXllcnMuZm9yRWFjaCggKGxheWVyLGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB7IGNhbnZhcywgbGF5ZXJJZCwgdmlzaWJsZSB9ID0gbGF5ZXJcbiAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKCBjYW52YXMsIGxhc3RFbGVtZW50KTtcbiAgICAgICAgbGFzdEVsZW1lbnQgPSBjYW52YXNcbiAgICAgICAgaWYoIXZpc2libGUpe1xuICAgICAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9ICd1bnZpc2libGUnXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHRoaXMudGVtcExheWVyID0gTGF5ZXJEZXRhaWwuY3JlYXRlKHdyYXBJbmZvKVxuICAgICAgd3JhcC5pbnNlcnRCZWZvcmUoIHRoaXMudGVtcExheWVyLmNhbnZhcywgY292ZXIpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMudGVtcExheWVyOiAnLCB0aGlzLnRlbXBMYXllci5sYXllcklkKVxuICAgICAgdGhpcy5mb2N1c2VkTGF5ZXJEZXRhaWwgPSBsYXllcnNbMF1cbiAgICB9XG5cbiAgICBnZXRDYW52YXMoKTpIVE1MQ2FudmFzRWxlbWVudHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcExheWVyLmNhbnZhc1xuICAgIH1cblxuICAgIGFwcGx5VGVtcENhbnZhcygpOiB2b2lke1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmZvY3VzZWRMYXllckRldGFpbC5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICBjb25zdCB0ZW1wQ3R4ID0gdGhpcy50ZW1wTGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgaWYoY3R4ICYmIHRlbXBDdHgpe1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0ICB9ID0gdGhpcy50ZW1wTGF5ZXIuY2FudmFzXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMudGVtcExheWVyLmNhbnZhcywgMCwgMCwgd2lkdGgsIGhlaWdodClcbiAgICAgICAgICAgIHRlbXBDdHguY2xlYXJSZWN0KDAsIDAgLHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRGb2N1c0RldGFpbCgpOiBMYXllckRldGFpbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvY3VzZWRMYXllckRldGFpbFxuICAgIH1cblxuICAgIGZvY3VzTGF5ZXIobGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsKXtcbiAgICAgICAgY29uc3QgbmV4dExheWVyID0gdGhpcy5sYXllcnNbdGhpcy5sYXllcnMuaW5kZXhPZihsYXllckRldGFpbCkgLSAxXVxuICAgICAgICBjb25zdCBuZXh0Q2FudmFzID0gbmV4dExheWVyJiZuZXh0TGF5ZXIuY2FudmFzICYmIG5leHRMYXllciAhPT0gdGhpcy50ZW1wTGF5ZXIgPyBuZXh0TGF5ZXIuY2FudmFzIDogIHRoaXMud3JhcEluZm8uY292ZXJcbiAgICAgICAgdGhpcy53cmFwSW5mby53cmFwLmluc2VydEJlZm9yZSh0aGlzLnRlbXBMYXllci5jYW52YXMsIG5leHRDYW52YXMpXG4gICAgICAgIHRoaXMuZm9jdXNlZExheWVyRGV0YWlsID0gbGF5ZXJEZXRhaWxcbiAgICAgICAgLy8gVE9GSVg6IHVwZGF0ZSB0ZW1wbHllciBpbiBsYXllcnMuXG4gICAgfVxuXG4gICAgYWRkTGF5ZXIobmV3TGF5ZXI6IExheWVyRGV0YWlsLCBpbmRleCA9IDApe1xuICAgICAgICBjb25zdCB7IHdyYXAgfSA9IHRoaXMud3JhcEluZm9cbiAgICAgICAgY29uc3Qgb2xkTGF5ZXJEZXRhaWwgPSB0aGlzLmxheWVyc1tpbmRleC0xXVxuICAgICAgICBjb25zdCBlbGUgPSBvbGRMYXllckRldGFpbCYmb2xkTGF5ZXJEZXRhaWwuY2FudmFzIHx8IHRoaXMud3JhcEluZm8uY292ZXJcbiAgICAgICAgd3JhcC5pbnNlcnRCZWZvcmUobmV3TGF5ZXIuY2FudmFzLCBlbGUpXG4gICAgICAgIHRoaXMubGF5ZXJzLnNwbGljZShpbmRleCwgMCwgbmV3TGF5ZXIpXG4gICAgICAgIHJldHVybiBuZXdMYXllclxuICAgIH1cblxuXG4gICAgcmVtb3ZlTGF5ZXIobGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsKXtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxheWVycy5pbmRleE9mKGxheWVyRGV0YWlsKVxuICAgICAgICBpZihpbmRleCA+IC0xKXtcbiAgICAgICAgICAgIHRoaXMud3JhcEluZm8ud3JhcC5yZW1vdmVDaGlsZChsYXllckRldGFpbC5jYW52YXMpXG4gICAgICAgICAgICB0aGlzLmxheWVycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdsYXllckRldGFpbCBoYXMgYmVlbiByZW1vdmVkJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBpbmRleCwgaXNGb2N1czogIHRoaXMuZm9jdXNlZExheWVyRGV0YWlsID09PSBsYXllckRldGFpbH1cbiAgICB9XG5cbiAgICBnZXRDb250ZXh0KCl7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMudGVtcExheWVyLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGlmKGN0eCA9PT0gbnVsbCl7XG4gICAgICAgICAgICB0aHJvdyAnZ2V0IGNvbnRleHQgZmFsaWxlZC4nXG4gICAgICAgIH1cbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlXG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgfVxuXG5cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33\n')},5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Brush", function() { return Brush; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(27);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n/**\n * 带压感的brush，bug待修复.\n * 根据移动，与context, 控制画出的形状并填充.\n */\n\nvar Brush = /*#__PURE__*/function () {\n  function Brush() {\n    var _this = this;\n\n    _classCallCheck(this, Brush);\n\n    this.type = _types__WEBPACK_IMPORTED_MODULE_0__["BrushType"].pen;\n    this.name = \'default\';\n    this.isPainting = false;\n    this.pathList = [];\n    this.animeHandle = void 0;\n\n    this.paintPath = function (ctx) {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.beginPath();\n      var f = _this.pathList[0];\n      ctx.moveTo(f.x, f.y);\n\n      for (var i = 1; i < _this.pathList.length; i++) {\n        var _this$pathList$i = _this.pathList[i],\n            x = _this$pathList$i.x,\n            y = _this$pathList$i.y;\n        ctx.lineTo(x, y);\n      }\n\n      ctx.stroke();\n    };\n  }\n\n  _createClass(Brush, [{\n    key: "init",\n    value: function init() {}\n  }, {\n    key: "destory",\n    value: function destory() {}\n  }, {\n    key: "onStart",\n    value: function onStart(status, context) {\n      var ctx = context.curCanvasContext2D,\n          color = context.color,\n          brushWidth = context.brushWidth;\n      this.isPainting = true;\n      this.pathList.push(status);\n      ctx.strokeStyle = color;\n      ctx.lineWidth = brushWidth;\n      ctx.lineCap = \'round\';\n      ctx.lineJoin = "round";\n    }\n  }, {\n    key: "onDraw",\n    value: function onDraw(brushStatus, contx) {\n      var _this2 = this;\n\n      if (this.isPainting) {\n        var ctx = contx.curCanvasContext2D;\n\n        for (var i = 0; i < brushStatus.length; i++) {\n          this.pathList.push(brushStatus[i]);\n        }\n\n        cancelAnimationFrame(this.animeHandle);\n        this.animeHandle = requestAnimationFrame(function () {\n          _this2.paintPath(ctx);\n        });\n      }\n    }\n  }, {\n    key: "onEnd",\n    value: function onEnd(brushStatus, _ref) {\n      var _this3 = this;\n\n      var onBrushEnd = _ref.onBrushEnd;\n      requestAnimationFrame(function () {\n        _this3.isPainting = false;\n        _this3.pathList = [];\n        onBrushEnd();\n      });\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Brush;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Brush, "Brush", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC9pbmRleC50cz8yMjY2Il0sIm5hbWVzIjpbIkJydXNoIiwidHlwZSIsIkJydXNoVHlwZSIsInBlbiIsIm5hbWUiLCJpc1BhaW50aW5nIiwicGF0aExpc3QiLCJhbmltZUhhbmRsZSIsInBhaW50UGF0aCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYmVnaW5QYXRoIiwiZiIsIm1vdmVUbyIsIngiLCJ5IiwiaSIsImxlbmd0aCIsImxpbmVUbyIsInN0cm9rZSIsInN0YXR1cyIsImNvbnRleHQiLCJjdXJDYW52YXNDb250ZXh0MkQiLCJjb2xvciIsImJydXNoV2lkdGgiLCJwdXNoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJicnVzaFN0YXR1cyIsImNvbnR4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbkJydXNoRW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUVBOzs7OztBQUlPLElBQU1BLEtBQWI7QUFBQTtBQUFBOztBQUFBOztBQUFBLFNBR2FDLElBSGIsR0FHK0JDLGdEQUFTLENBQUNDLEdBSHpDO0FBQUEsU0FLYUMsSUFMYixHQUtvQixTQUxwQjtBQUFBLFNBT2NDLFVBUGQsR0FPMkIsS0FQM0I7QUFBQSxTQVNjQyxRQVRkLEdBU29DLEVBVHBDO0FBQUEsU0FXY0MsV0FYZDs7QUFBQSxTQTJDY0MsU0EzQ2QsR0EyQzBCLFVBQUNDLEdBQUQsRUFBbUM7QUFDdkRBLFNBQUcsQ0FBQ0MsU0FBSixDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBbUJELEdBQUcsQ0FBQ0UsTUFBSixDQUFXQyxLQUE5QixFQUFxQ0gsR0FBRyxDQUFDRSxNQUFKLENBQVdFLE1BQWhEO0FBQ0FKLFNBQUcsQ0FBQ0ssU0FBSjtBQUNBLFVBQU1DLENBQUMsR0FBRyxLQUFJLENBQUNULFFBQUwsQ0FBYyxDQUFkLENBQVY7QUFDQUcsU0FBRyxDQUFDTyxNQUFKLENBQVdELENBQUMsQ0FBQ0UsQ0FBYixFQUFnQkYsQ0FBQyxDQUFDRyxDQUFsQjs7QUFDQSxXQUFLLElBQUlDLENBQUMsR0FBRSxDQUFaLEVBQWVBLENBQUMsR0FBRSxLQUFJLENBQUNiLFFBQUwsQ0FBY2MsTUFBaEMsRUFBd0NELENBQUMsRUFBekMsRUFBNkM7QUFBQSwrQkFDNUIsS0FBSSxDQUFDYixRQUFMLENBQWNhLENBQWQsQ0FENEI7QUFBQSxZQUNwQ0YsQ0FEb0Msb0JBQ3BDQSxDQURvQztBQUFBLFlBQ2pDQyxDQURpQyxvQkFDakNBLENBRGlDO0FBRTNDVCxXQUFHLENBQUNZLE1BQUosQ0FBV0osQ0FBWCxFQUFhQyxDQUFiO0FBQ0Q7O0FBQ0RULFNBQUcsQ0FBQ2EsTUFBSjtBQUNELEtBckRMO0FBQUE7O0FBQUE7QUFBQTtBQUFBLDJCQWFVLENBQUU7QUFiWjtBQUFBO0FBQUEsOEJBZWEsQ0FBRTtBQWZmO0FBQUE7QUFBQSw0QkFpQllDLE1BakJaLEVBaUJpQ0MsT0FqQmpDLEVBaUIwRDtBQUFBLFVBQ3ZCZixHQUR1QixHQUNHZSxPQURILENBQzNDQyxrQkFEMkM7QUFBQSxVQUNsQkMsS0FEa0IsR0FDR0YsT0FESCxDQUNsQkUsS0FEa0I7QUFBQSxVQUNYQyxVQURXLEdBQ0dILE9BREgsQ0FDWEcsVUFEVztBQUVsRCxXQUFLdEIsVUFBTCxHQUFrQixJQUFsQjtBQUNBLFdBQUtDLFFBQUwsQ0FBY3NCLElBQWQsQ0FBbUJMLE1BQW5CO0FBQ0FkLFNBQUcsQ0FBQ29CLFdBQUosR0FBa0JILEtBQWxCO0FBQ0FqQixTQUFHLENBQUNxQixTQUFKLEdBQWdCSCxVQUFoQjtBQUNBbEIsU0FBRyxDQUFDc0IsT0FBSixHQUFhLE9BQWI7QUFDQXRCLFNBQUcsQ0FBQ3VCLFFBQUosR0FBZSxPQUFmO0FBQ0g7QUF6Qkw7QUFBQTtBQUFBLDJCQTZCV0MsV0E3QlgsRUE2QnVDQyxLQTdCdkMsRUE2Qm9FO0FBQUE7O0FBQzlELFVBQUcsS0FBSzdCLFVBQVIsRUFBbUI7QUFBQSxZQUNjSSxHQURkLEdBQ3NCeUIsS0FEdEIsQ0FDTlQsa0JBRE07O0FBRWYsYUFBSyxJQUFJTixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFFYyxXQUFXLENBQUNiLE1BQS9CLEVBQXVDRCxDQUFDLEVBQXhDLEVBQTJDO0FBQ3pDLGVBQUtiLFFBQUwsQ0FBY3NCLElBQWQsQ0FBb0JLLFdBQVcsQ0FBQ2QsQ0FBRCxDQUEvQjtBQUNEOztBQUNEZ0IsNEJBQW9CLENBQUMsS0FBSzVCLFdBQU4sQ0FBcEI7QUFFQSxhQUFLQSxXQUFMLEdBQW1CNkIscUJBQXFCLENBQUMsWUFBTTtBQUMvQyxnQkFBSSxDQUFDNUIsU0FBTCxDQUFlQyxHQUFmO0FBQ0MsU0FGdUMsQ0FBeEM7QUFHSDtBQUNGO0FBekNMO0FBQUE7QUFBQSwwQkF1RFV3QixXQXZEVixRQXVEa0U7QUFBQTs7QUFBQSxVQUE3QkksVUFBNkIsUUFBN0JBLFVBQTZCO0FBQzVERCwyQkFBcUIsQ0FBQyxZQUFNO0FBQzFCLGNBQUksQ0FBQy9CLFVBQUwsR0FBa0IsS0FBbEI7QUFDQSxjQUFJLENBQUNDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQStCLGtCQUFVO0FBQ1gsT0FKb0IsQ0FBckI7QUFLRDtBQTdETDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7Ozs7Ozs7Ozs7MEJBQWFyQyxLIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQQ2FudmFzQ29udGV4dCB9IGZyb20gXCIuLi8uLi8uLi9wY2FudmFzL3BjYW52YXMuY29udGV4dFwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsL2RhdGEvVmVjdG9yMlwiO1xuaW1wb3J0IHsgQnJ1c2hUeXBlLCBCcnVzaFN0YXR1cywgQWJzdHJhY3RCcnVzaCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICog5bim5Y6L5oSf55qEYnJ1c2jvvIxidWflvoXkv67lpI0uXG4gKiDmoLnmja7np7vliqjvvIzkuI5jb250ZXh0LCDmjqfliLbnlLvlh7rnmoTlvaLnirblubbloavlhYUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCcnVzaCAgaW1wbGVtZW50cyBBYnN0cmFjdEJydXNoIHtcblxuXG4gICAgcmVhZG9ubHkgdHlwZTogQnJ1c2hUeXBlID0gQnJ1c2hUeXBlLnBlblxuXG4gICAgcmVhZG9ubHkgbmFtZSA9ICdkZWZhdWx0J1xuXG4gICAgcHJvdGVjdGVkIGlzUGFpbnRpbmcgPSBmYWxzZVxuXG4gICAgcHJvdGVjdGVkIHBhdGhMaXN0OiBWZWN0b3IyW10gPSBbXVxuXG4gICAgcHJvdGVjdGVkIGFuaW1lSGFuZGxlOiBudW1iZXJcblxuICAgIGluaXQoKXt9XG5cbiAgICBkZXN0b3J5KCl7fVxuXG4gICAgb25TdGFydChzdGF0dXM6IEJydXNoU3RhdHVzLCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dCkge1xuICAgICAgICBjb25zdCB7Y3VyQ2FudmFzQ29udGV4dDJEOiBjdHgsIGNvbG9yLCBicnVzaFdpZHRofSA9IGNvbnRleHRcbiAgICAgICAgdGhpcy5pc1BhaW50aW5nID0gdHJ1ZVxuICAgICAgICB0aGlzLnBhdGhMaXN0LnB1c2goc3RhdHVzKVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvclxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJ1c2hXaWR0aFxuICAgICAgICBjdHgubGluZUNhcCA9J3JvdW5kJ1xuICAgICAgICBjdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG4gICAgfVxuXG4gIFxuXG4gICAgb25EcmF3KGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1c1tdLCBjb250eDogUENhbnZhc0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIGlmKHRoaXMuaXNQYWludGluZyl7XG4gICAgICAgICAgY29uc3QgIHsgY3VyQ2FudmFzQ29udGV4dDJEOiBjdHggfSA9IGNvbnR4XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8IGJydXNoU3RhdHVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMucGF0aExpc3QucHVzaCggYnJ1c2hTdGF0dXNbaV0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWVIYW5kbGUpXG5cbiAgICAgICAgICB0aGlzLmFuaW1lSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBhaW50UGF0aChjdHgpO1xuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBhaW50UGF0aCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KVxuICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICBjb25zdCBmID0gdGhpcy5wYXRoTGlzdFswXVxuICAgICAgY3R4Lm1vdmVUbyhmLngsIGYueSApXG4gICAgICBmb3IoIGxldCBpID0xOyBpPCB0aGlzLnBhdGhMaXN0Lmxlbmd0aDsgaSsrICl7XG4gICAgICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMucGF0aExpc3RbaV1cbiAgICAgICAgY3R4LmxpbmVUbyh4LHkpXG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKClcbiAgICB9XG5cbiAgICBvbkVuZChicnVzaFN0YXR1czogQnJ1c2hTdGF0dXMsIHtvbkJydXNoRW5kfTogUENhbnZhc0NvbnRleHQpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBbXVxuICAgICAgICBvbkJydXNoRW5kKClcbiAgICAgIH0pXG4gICAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')}}]);