(window.webpackJsonp=window.webpackJsonp||[]).push([[3,27,28,30,31,32,33],{10:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tool_item_color_selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var _tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _tool_item_layer_pannel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7);\n/* harmony import */ var _tool_item_save__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n\n\n\n\n\n\nconst DEFAULT_COLOR = _tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_2__["RGBA"].BLACK;\n/* harmony default export */ __webpack_exports__["default"] = (({\n  pCanvasController\n}) => {\n  const changeColor = (val = DEFAULT_COLOR) => {\n    pCanvasController.setColor(val);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (pCanvasController) {\n      pCanvasController.on(\'init\', () => changeColor());\n      return pCanvasController.off(\'init\', () => changeColor());\n    }\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: _index_less__WEBPACK_IMPORTED_MODULE_3___default.a.topToolBar\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tool_item_layer_pannel__WEBPACK_IMPORTED_MODULE_4__["default"], {\n    pCanvasController: pCanvasController\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tool_item_color_selector__WEBPACK_IMPORTED_MODULE_1__["default"], {\n    defaultValue: DEFAULT_COLOR,\n    onChange: changeColor\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_tool_item_save__WEBPACK_IMPORTED_MODULE_5__["default"], {\n    pCanvasController: pCanvasController\n  }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL2luZGV4LnRzeD9jMTc0Il0sIm5hbWVzIjpbIkRFRkFVTFRfQ09MT1IiLCJSR0JBIiwiQkxBQ0siLCJwQ2FudmFzQ29udHJvbGxlciIsImNoYW5nZUNvbG9yIiwidmFsIiwic2V0Q29sb3IiLCJ1c2VFZmZlY3QiLCJvbiIsIm9mZiIsInN0eWxlIiwidG9wVG9vbEJhciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUEsTUFBTUEsYUFBYSxHQUFHQyxtRUFBSSxDQUFDQyxLQUEzQjtBQUNlLGdFQUFDO0FBQUVDO0FBQUYsQ0FBRCxLQUEyQztBQUd0RCxRQUFNQyxXQUFXLEdBQUcsQ0FBQ0MsR0FBRyxHQUFDTCxhQUFMLEtBQXVCO0FBQ3ZDRyxxQkFBaUIsQ0FBQ0csUUFBbEIsQ0FBMkJELEdBQTNCO0FBQ0gsR0FGRDs7QUFHQUUseURBQVMsQ0FBQyxNQUFNO0FBQ1osUUFBR0osaUJBQUgsRUFBcUI7QUFDakJBLHVCQUFpQixDQUFDSyxFQUFsQixDQUFxQixNQUFyQixFQUE2QixNQUFPSixXQUFXLEVBQS9DO0FBQ0EsYUFBT0QsaUJBQWlCLENBQUNNLEdBQWxCLENBQXNCLE1BQXRCLEVBQThCLE1BQU9MLFdBQVcsRUFBaEQsQ0FBUDtBQUNIO0FBQ0osR0FMUSxFQUtQLEVBTE8sQ0FBVDtBQU9BLFNBQU87QUFBSyxhQUFTLEVBQUVNLGtEQUFLLENBQUNDO0FBQXRCLEtBQ0gsMkRBQUMsK0RBQUQ7QUFBYSxxQkFBaUIsRUFBRVI7QUFBaEMsSUFERyxFQUVILDJEQUFDLGlFQUFEO0FBQ00sZ0JBQVksRUFBRUgsYUFEcEI7QUFFTSxZQUFRLEVBQUVJO0FBRmhCLElBRkcsRUFNSCwyREFBQyx1REFBRDtBQUFVLHFCQUFpQixFQUFFRDtBQUE3QixJQU5HLENBQVA7QUFRSCxDQXJCRCIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCwgUmVhY3ROb2RlLCBSZWFjdE5vZGVBcnJheSwgQ29tcG9uZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBDb2xvclNlbGVjdG9yIGZyb20gJy4vdG9vbC1pdGVtL2NvbG9yLXNlbGVjdG9yJ1xuaW1wb3J0IHsgUkdCQSB9IGZyb20gJy4vdG9vbC1pdGVtL2NvbG9yLXNlbGVjdG9yL3JnYmEnXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9pbmRleC5sZXNzJ1xuaW1wb3J0IHsgUENhbnZhc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9wY2FudmFzJ1xuaW1wb3J0IExheWVyUGFubmVsIGZyb20gJy4vdG9vbC1pdGVtL2xheWVyLXBhbm5lbCdcbmltcG9ydCBTYXZlVG9vbCBmcm9tICcuL3Rvb2wtaXRlbS9zYXZlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvcFRvb2xCYXJQcm9wc3tcbiAgICBwQ2FudmFzQ29udHJvbGxlcjogUENhbnZhc0NvbnRyb2xsZXJcbn1cblxuY29uc3QgREVGQVVMVF9DT0xPUiA9IFJHQkEuQkxBQ0tcbmV4cG9ydCBkZWZhdWx0ICh7IHBDYW52YXNDb250cm9sbGVyIH06VG9wVG9vbEJhclByb3BzKSA9PiB7XG5cblxuICAgIGNvbnN0IGNoYW5nZUNvbG9yID0gKHZhbD1ERUZBVUxUX0NPTE9SKSA9PiB7XG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLnNldENvbG9yKHZhbClcbiAgICB9XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYocENhbnZhc0NvbnRyb2xsZXIpe1xuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub24oJ2luaXQnLCAoKSA9PiAgY2hhbmdlQ29sb3IoKSlcbiAgICAgICAgICAgIHJldHVybiBwQ2FudmFzQ29udHJvbGxlci5vZmYoJ2luaXQnLCAoKSA9PiAgY2hhbmdlQ29sb3IoKSlcbiAgICAgICAgfVxuICAgIH0sW10pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3N0eWxlLnRvcFRvb2xCYXJ9PlxuICAgICAgICA8TGF5ZXJQYW5uZWwgcENhbnZhc0NvbnRyb2xsZXI9e3BDYW52YXNDb250cm9sbGVyfS8+XG4gICAgICAgIDxDb2xvclNlbGVjdG9yXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17REVGQVVMVF9DT0xPUn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2NoYW5nZUNvbG9yfVxuICAgICAgICAvPlxuICAgICAgICA8U2F2ZVRvb2wgcENhbnZhc0NvbnRyb2xsZXI9e3BDYW52YXNDb250cm9sbGVyfSAvPlxuICAgIDwvZGl2PlxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},12:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Paint; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lauout_BasicLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(44);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_less__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _pcanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(82);\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(59);\n/* harmony import */ var _top_tool_bar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10);\n/* harmony import */ var _aside_tool_bar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\nfunction Paint() {\n  const workStateHandle = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])();\n  const [workDetail, setWorkDetail] = workStateHandle;\n  const {\n    pCanvas\n  } = Object(_pcanvas__WEBPACK_IMPORTED_MODULE_3__["usePCanvas"])();\n  const [loading, setLoading] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(true);\n  const {\n    replace\n  } = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__["useHistory"])();\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    (async () => {\n      const {\n        workId\n      } = qs__WEBPACK_IMPORTED_MODULE_5___default.a.parse(_app__WEBPACK_IMPORTED_MODULE_4__[/* history */ "b"].location.search.substr(1));\n      setLoading(true);\n      const work = await _workStorage__WEBPACK_IMPORTED_MODULE_6__[/* default */ "c"].getWorkDetail(workId);\n\n      if (work) {\n        setLoading(false);\n        setWorkDetail(work);\n      } else {\n        replace(\'./home\');\n      }\n    })();\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    return () => {// if(workDetail){\n      // \tWorkStorage.saveWork(workDetail)\n      // }\n    };\n  }, [workDetail]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lauout_BasicLayout__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"], {\n    contentClassName: _style_less__WEBPACK_IMPORTED_MODULE_2___default.a.layout,\n    headNode: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_top_tool_bar__WEBPACK_IMPORTED_MODULE_7__["default"], {\n      pCanvasController: pCanvas\n    }),\n    asideNode: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_aside_tool_bar__WEBPACK_IMPORTED_MODULE_8__["default"], {\n      pCanvasController: pCanvas\n    })\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pcanvas__WEBPACK_IMPORTED_MODULE_3__["PCanvas"], {\n    loading: loading,\n    pCanvasController: pCanvas,\n    initValue: workDetail\n  }));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvaW5kZXgudHN4P2Y4OTQiXSwibmFtZXMiOlsiUGFpbnQiLCJ3b3JrU3RhdGVIYW5kbGUiLCJ1c2VTdGF0ZSIsIndvcmtEZXRhaWwiLCJzZXRXb3JrRGV0YWlsIiwicENhbnZhcyIsInVzZVBDYW52YXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJlcGxhY2UiLCJ1c2VIaXN0b3J5IiwidXNlRWZmZWN0Iiwid29ya0lkIiwicXMiLCJwYXJzZSIsImhpc3RvcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0ciIsIndvcmsiLCJXb3JrU3RvcmFnZSIsImdldFdvcmtEZXRhaWwiLCJzdHlsZSIsImxheW91dCJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdlLFNBQVNBLEtBQVQsR0FBZ0I7QUFFOUIsUUFBTUMsZUFBZSxHQUFHQyxzREFBUSxFQUFoQztBQUNBLFFBQU0sQ0FBRUMsVUFBRixFQUFjQyxhQUFkLElBQWdDSCxlQUF0QztBQUNDLFFBQU07QUFBQ0k7QUFBRCxNQUFZQywyREFBVSxFQUE1QjtBQUNBLFFBQU0sQ0FBQ0MsT0FBRCxFQUFVQyxVQUFWLElBQXdCTixzREFBUSxDQUFDLElBQUQsQ0FBdEM7QUFDQSxRQUFNO0FBQUVPO0FBQUYsTUFBY0MsbUVBQVUsRUFBOUI7QUFFREMseURBQVMsQ0FBQyxNQUFNO0FBQ2YsS0FBQyxZQUFZO0FBQ1osWUFBTTtBQUFDQztBQUFELFVBQVdDLHlDQUFFLENBQUNDLEtBQUgsQ0FBU0Msb0RBQU8sQ0FBQ0MsUUFBUixDQUFpQkMsTUFBakIsQ0FBd0JDLE1BQXhCLENBQStCLENBQS9CLENBQVQsQ0FBakI7QUFDR1YsZ0JBQVUsQ0FBQyxJQUFELENBQVY7QUFDQSxZQUFNVyxJQUFJLEdBQUcsTUFBTUMsNERBQVcsQ0FBQ0MsYUFBWixDQUEwQlQsTUFBMUIsQ0FBbkI7O0FBQ0EsVUFBR08sSUFBSCxFQUFRO0FBQ05YLGtCQUFVLENBQUMsS0FBRCxDQUFWO0FBQ0FKLHFCQUFhLENBQUNlLElBQUQsQ0FBYjtBQUNELE9BSEQsTUFHSztBQUNIVixlQUFPLENBQUMsUUFBRCxDQUFQO0FBQ0Q7QUFFSixLQVhEO0FBWUEsR0FiUSxFQWFQLEVBYk8sQ0FBVDtBQWVBRSx5REFBUyxDQUFDLE1BQU07QUFDZixXQUFPLE1BQU0sQ0FDWjtBQUNBO0FBQ0E7QUFDQSxLQUpEO0FBS0EsR0FOUSxFQU1QLENBQUNSLFVBQUQsQ0FOTyxDQUFUO0FBUUEsU0FBTywyREFBQyxtRUFBRDtBQUNKLG9CQUFnQixFQUFFbUIsa0RBQUssQ0FBQ0MsTUFEcEI7QUFFSixZQUFRLEVBQUUsMkRBQUMscURBQUQ7QUFBWSx1QkFBaUIsRUFBRWxCO0FBQS9CLE1BRk47QUFHSixhQUFTLEVBQ1IsMkRBQUMsdURBQUQ7QUFDQyx1QkFBaUIsRUFBRUE7QUFEcEI7QUFKRyxLQVVFLDJEQUFDLGdEQUFEO0FBQ0UsV0FBTyxFQUFFRSxPQURYO0FBRUoscUJBQWlCLEVBQUVGLE9BRmY7QUFHSixhQUFTLEVBQUVGO0FBSFAsSUFWRixDQUFQO0FBaUJBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmVhY3QsIHsgIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBCYXNpY0xheW91dCBmcm9tICcuLi8uLi9sYXVvdXQvQmFzaWNMYXlvdXQnXG5pbXBvcnQgc3R5bGUgZnJvbSAnLi9zdHlsZS5sZXNzJ1xuaW1wb3J0IHsgdXNlUENhbnZhcywgUENhbnZhcyB9IGZyb20gJy4vcGNhbnZhcydcbmltcG9ydCB7aGlzdG9yeX0gZnJvbSAnLi4vLi4vYXBwJ1xuaW1wb3J0ICBxcyBmcm9tICdxcydcbmltcG9ydCBXb3JrU3RvcmFnZSwgeyBXb3JrSW5mbywgV29ya0RldGFpbCB9IGZyb20gJy4uLy4uL3dvcmtTdG9yYWdlJ1xuaW1wb3J0IFRvcFRvb2xCYXIgZnJvbSAnLi90b3AtdG9vbC1iYXInXG5pbXBvcnQgQXNpZGVUb29sQmFyIGZyb20gJy4vYXNpZGUtdG9vbC1iYXInXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWludCgpe1xuXG5cdGNvbnN0IHdvcmtTdGF0ZUhhbmRsZSA9IHVzZVN0YXRlPFdvcmtEZXRhaWw+KClcblx0Y29uc3QgWyB3b3JrRGV0YWlsLCBzZXRXb3JrRGV0YWlsIF0gPSB3b3JrU3RhdGVIYW5kbGVcbiAgY29uc3Qge3BDYW52YXN9ID0gdXNlUENhbnZhcygpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IHsgcmVwbGFjZSB9ID0gdXNlSGlzdG9yeSgpXG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3Qge3dvcmtJZH0gPSBxcy5wYXJzZShoaXN0b3J5LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkpIGFzICAoUGljazxXb3JrSW5mbywgJ3dvcmtJZCc+KVxuICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgY29uc3Qgd29yayA9IGF3YWl0IFdvcmtTdG9yYWdlLmdldFdvcmtEZXRhaWwod29ya0lkKVxuICAgICAgaWYod29yayl7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIHNldFdvcmtEZXRhaWwod29yaylcbiAgICAgIH1lbHNle1xuICAgICAgICByZXBsYWNlKCcuL2hvbWUnKVxuICAgICAgfVxuXHRcdFx0XG5cdFx0fSkoKVxuXHR9LFtdKVxuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdC8vIGlmKHdvcmtEZXRhaWwpe1xuXHRcdFx0Ly8gXHRXb3JrU3RvcmFnZS5zYXZlV29yayh3b3JrRGV0YWlsKVxuXHRcdFx0Ly8gfVxuXHRcdH1cblx0fSxbd29ya0RldGFpbF0pXG5cblx0cmV0dXJuIDxCYXNpY0xheW91dCBcblx0XHRcdFx0Y29udGVudENsYXNzTmFtZT17c3R5bGUubGF5b3V0fSBcblx0XHRcdFx0aGVhZE5vZGU9ezxUb3BUb29sQmFyIHBDYW52YXNDb250cm9sbGVyPXtwQ2FudmFzfSAvPn1cblx0XHRcdFx0YXNpZGVOb2RlPXtcblx0XHRcdFx0XHQ8QXNpZGVUb29sQmFyIFxuXHRcdFx0XHRcdFx0cENhbnZhc0NvbnRyb2xsZXI9e3BDYW52YXN9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0fVxuXHRcdFx0PlxuXHRcdFx0XHR7XG4gICAgICAgICAgPFBDYW52YXMgXG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuXHRcdFx0XHRcdFx0cENhbnZhc0NvbnRyb2xsZXI9e3BDYW52YXN9ICAgXG5cdFx0XHRcdFx0XHRpbml0VmFsdWU9e3dvcmtEZXRhaWx9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0fVxuXHQ8L0Jhc2ljTGF5b3V0PlxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n')},23:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RecordData\", function() { return RecordData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RecordInfo\", function() { return RecordInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"recordListReducer\", function() { return recordListReducer; });\n/* harmony import */ var _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15);\n/* harmony import */ var _util_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47);\n\n\nclass RecordData {\n  constructor() {\n    this.add = void 0;\n    this.remove = void 0;\n    this.modify = void 0;\n  }\n\n}\n\nconst deleteRecordFile = async ({\n  type,\n  data\n}) => {\n  switch (type) {\n    case 'add':\n      data = data;\n      await _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].remove(data.canvasPath, {\n        isFile: true\n      });\n      break;\n\n    case 'modify':\n      const {\n        fromCanvasPath,\n        toCanvasPath\n      } = data;\n      await Promise.all([_workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].remove(fromCanvasPath, {\n        isFile: true\n      }), _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].remove(toCanvasPath, {\n        isFile: true\n      })]);\n      break;\n\n    case 'remove':\n      const {\n        canvasPath\n      } = data;\n      await _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].remove(canvasPath, {\n        isFile: true\n      });\n      break;\n  }\n};\n\nclass RecordInfo {\n  constructor(type, data) {\n    this.type = type;\n    this.data = data;\n  }\n\n}\n\nconst getRevertRecor = ({\n  type,\n  data\n}) => {\n  if (type === 'add') {\n    const {\n      index,\n      canvasPath: canvas\n    } = data;\n    return new RecordInfo('remove', {\n      index,\n      canvasPath: canvas\n    });\n  }\n\n  if (type === 'modify') {\n    const {\n      index,\n      fromCanvasPath: from,\n      toCanvasPath: to\n    } = data;\n    return new RecordInfo('modify', {\n      index,\n      fromCanvasPath: to,\n      toCanvasPath: from\n    });\n  } // remove.\n\n\n  const {\n    index,\n    canvasPath: canvas\n  } = data;\n  return new RecordInfo('add', {\n    index,\n    canvasPath: canvas\n  });\n};\n\nconst handleOperate = async (record, pCanvas) => {\n  const {\n    type,\n    data\n  } = record;\n  console.log('handleOperate: ', type);\n\n  if (type === 'add') {\n    const {\n      index,\n      canvasPath\n    } = data;\n    const [file] = await _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].get(canvasPath, {\n      isDir: false\n    });\n    const canvas = await Object(_util_canvas__WEBPACK_IMPORTED_MODULE_1__[/* createImageByFile */ \"c\"])(file);\n    const layerDetail = pCanvas.addLayerContent(index, canvas, 'history');\n    pCanvas.focusLayer(layerDetail);\n    return;\n  }\n\n  if (type === 'modify') {\n    const {\n      index,\n      fromCanvasPath: from,\n      toCanvasPath\n    } = data;\n    const [file] = await _workStorage_file_system__WEBPACK_IMPORTED_MODULE_0__[/* FileApi */ \"a\"].get(toCanvasPath, {\n      isDir: false\n    });\n    const to = await Object(_util_canvas__WEBPACK_IMPORTED_MODULE_1__[/* createImageByFile */ \"c\"])(file);\n    const layerDetail = pCanvas.setLayerContent(index, to, 'history');\n    pCanvas.focusLayer(layerDetail);\n    return;\n  }\n\n  if (type === 'remove') {\n    const {\n      index\n    } = data;\n    const layerDetail = pCanvas.removeLayerByIndex(index, 'history');\n    return;\n  }\n};\n\nconst MAX_ROCORD_NUMBER = 100;\nconst recordListReducer = ({\n  cursor,\n  recorderList\n}, {\n  type,\n  payload,\n  pCanvasController\n}) => {\n  switch (type) {\n    case 'add':\n      if (cursor < recorderList.length - 1) {\n        const deleted = recorderList.splice(Math.max(cursor, 0));\n        deleted.map(record => deleteRecordFile(record));\n      }\n\n      if (MAX_ROCORD_NUMBER <= recorderList.length) {\n        const deleted = recorderList.splice(0, recorderList.length - MAX_ROCORD_NUMBER + 1);\n        deleted.map(record => deleteRecordFile(record));\n      }\n\n      cursor++;\n      payload && recorderList.push(payload); // console.log('recorlength: ',recorderList.length )\n\n      break;\n\n    case 'redo':\n      /**\n         *  state1 operate1=>  state2(current)  <=revert(operate2)  state3\n         *         cursor\n         * \n         * state1 operate1=>  state2  handle(operate2)=>  state3\n         *                                    cursor\n         */\n      if (++cursor <= recorderList.length - 1) {\n        const operate = recorderList[cursor];\n        pCanvasController && handleOperate(operate, pCanvasController);\n      }\n\n      break;\n\n    case 'undo':\n      /**\n       * state1  operate1=>  state2  operate2=> state3(current)\n       *                               cursor\n       * \n       * state1 operate1=>  state2(current)  <=handle( revert(operate2) )  state3\n       *         cursor\n       */\n      if (cursor > -1) {\n        const record = recorderList[cursor];\n        pCanvasController && handleOperate(getRevertRecor(record), pCanvasController);\n      }\n\n      cursor--;\n      break;\n  }\n\n  return {\n    cursor: Math.max(Math.min(cursor, recorderList.length - 1), -1),\n    recorderList\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvYXNpZGUtdG9vbC1iYXIvcmVjb3JkL3JlZHVjZXIudHM/NWEwYyJdLCJuYW1lcyI6WyJSZWNvcmREYXRhIiwiYWRkIiwicmVtb3ZlIiwibW9kaWZ5IiwiZGVsZXRlUmVjb3JkRmlsZSIsInR5cGUiLCJkYXRhIiwiRmlsZUFwaSIsImNhbnZhc1BhdGgiLCJpc0ZpbGUiLCJmcm9tQ2FudmFzUGF0aCIsInRvQ2FudmFzUGF0aCIsIlByb21pc2UiLCJhbGwiLCJSZWNvcmRJbmZvIiwiY29uc3RydWN0b3IiLCJnZXRSZXZlcnRSZWNvciIsImluZGV4IiwiY2FudmFzIiwiZnJvbSIsInRvIiwiaGFuZGxlT3BlcmF0ZSIsInJlY29yZCIsInBDYW52YXMiLCJjb25zb2xlIiwibG9nIiwiZmlsZSIsImdldCIsImlzRGlyIiwiY3JlYXRlSW1hZ2VCeUZpbGUiLCJsYXllckRldGFpbCIsImFkZExheWVyQ29udGVudCIsImZvY3VzTGF5ZXIiLCJzZXRMYXllckNvbnRlbnQiLCJyZW1vdmVMYXllckJ5SW5kZXgiLCJNQVhfUk9DT1JEX05VTUJFUiIsInJlY29yZExpc3RSZWR1Y2VyIiwiY3Vyc29yIiwicmVjb3JkZXJMaXN0IiwicGF5bG9hZCIsInBDYW52YXNDb250cm9sbGVyIiwibGVuZ3RoIiwiZGVsZXRlZCIsInNwbGljZSIsIk1hdGgiLCJtYXgiLCJtYXAiLCJwdXNoIiwib3BlcmF0ZSIsIm1pbiJdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVPLE1BQU1BLFVBQU4sQ0FBaUI7QUFBQTtBQUFBLFNBRXBCQyxHQUZvQjtBQUFBLFNBSXBCQyxNQUpvQjtBQUFBLFNBTXBCQyxNQU5vQjtBQUFBOztBQUFBOztBQVN4QixNQUFNQyxnQkFBZ0IsR0FBRyxPQUFPO0FBQUVDLE1BQUY7QUFBUUM7QUFBUixDQUFQLEtBQXlEO0FBQzlFLFVBQU9ELElBQVA7QUFDSSxTQUFL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QUFwRCxDQURMO0FBRUhIO0FBRkcsR0FBUDtBQUlILENBcERNIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVkdWNlciB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyBQQ2FudmFzQ29udHJvbGxlciB9IGZyb20gXCIuLi8uLi9wY2FudmFzXCJcbmltcG9ydCB7IEZpbGVBcGkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vd29ya1N0b3JhZ2UvZmlsZS1zeXN0ZW1cIlxuaW1wb3J0IHsgY3JlYXRlSW1hZ2VCeUZpbGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbC9jYW52YXNcIlxuXG5leHBvcnQgY2xhc3MgUmVjb3JkRGF0YSB7XG4gICAgXG4gICAgYWRkOiB7IGluZGV4OiBudW1iZXIsIGNhbnZhc1BhdGg6IHN0cmluZyB9XG5cbiAgICByZW1vdmU6IHsgaW5kZXg6IG51bWJlciwgY2FudmFzUGF0aDogc3RyaW5nIH1cblxuICAgIG1vZGlmeTogeyBmcm9tQ2FudmFzUGF0aDogc3RyaW5nLCB0b0NhbnZhc1BhdGg6IHN0cmluZywgaW5kZXg6IG51bWJlciB9XG59XG5cbmNvbnN0IGRlbGV0ZVJlY29yZEZpbGUgPSBhc3luYyAoeyB0eXBlLCBkYXRhICB9OiBSZWNvcmRJbmZvPGtleW9mIFJlY29yZERhdGE+KSA9PiB7XG4gICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgZGF0YSA9IGRhdGEgYXMgUmVjb3JkRGF0YVsnYWRkJ11cbiAgICAgICAgICAgIGF3YWl0IEZpbGVBcGkucmVtb3ZlKGRhdGEuY2FudmFzUGF0aCwge2lzRmlsZTogdHJ1ZX0pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW9kaWZ5JzpcbiAgICAgICAgICAgIGNvbnN0IHsgZnJvbUNhbnZhc1BhdGgsIHRvQ2FudmFzUGF0aH0gPSBkYXRhIGFzIFJlY29yZERhdGFbJ21vZGlmeSddXG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbIFxuICAgICAgICAgICAgICAgIEZpbGVBcGkucmVtb3ZlKGZyb21DYW52YXNQYXRoLCB7aXNGaWxlOiB0cnVlfSksXG4gICAgICAgICAgICAgICAgRmlsZUFwaS5yZW1vdmUodG9DYW52YXNQYXRoLCB7aXNGaWxlOiB0cnVlfSksXG4gICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZW1vdmUnOiBcbiAgICAgICAgICAgIGNvbnN0IHsgY2FudmFzUGF0aCB9ID0gZGF0YSBhcyBSZWNvcmREYXRhWydyZW1vdmUnXVxuICAgICAgICAgICAgYXdhaXQgRmlsZUFwaS5yZW1vdmUoY2FudmFzUGF0aCwge2lzRmlsZTogdHJ1ZX0pXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVjb3JkSW5mbyA8VCBleHRlbmRzIGtleW9mIFJlY29yZERhdGE+e1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFQsXG4gICAgICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IFJlY29yZERhdGFbVF1cbiAgICApe31cbiAgXG59XG5cbmNvbnN0IGdldFJldmVydFJlY29yID08VCBleHRlbmRzIGtleW9mIFJlY29yZERhdGE+KCB7dHlwZSwgZGF0YX0gOiBSZWNvcmRJbmZvPFQ+KTogUmVjb3JkSW5mbzxrZXlvZiBSZWNvcmREYXRhPiA9PiB7XG4gICAgaWYodHlwZSA9PT0gJ2FkZCcpe1xuICAgICAgICBjb25zdCB7IGluZGV4LCBjYW52YXNQYXRoOiBjYW52YXMgfSA9IGRhdGEgYXMgUmVjb3JkRGF0YVsnYWRkJ11cbiAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRJbmZvKCdyZW1vdmUnLCB7aW5kZXgsIGNhbnZhc1BhdGg6IGNhbnZhc30pXG4gICAgfVxuICAgIGlmKHR5cGUgPT09ICdtb2RpZnknKXtcbiAgICAgICAgY29uc3QgeyBpbmRleCwgZnJvbUNhbnZhc1BhdGg6IGZyb20sIHRvQ2FudmFzUGF0aDogdG8gfSA9IGRhdGEgYXMgUmVjb3JkRGF0YVsnbW9kaWZ5J11cbiAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRJbmZvKCdtb2RpZnknLCB7aW5kZXgsIGZyb21DYW52YXNQYXRoOiB0bywgdG9DYW52YXNQYXRoOiBmcm9tIH0pXG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlLlxuICAgIGNvbnN0IHsgaW5kZXgsIGNhbnZhc1BhdGg6IGNhbnZhcyB9ID0gZGF0YSBhcyBSZWNvcmREYXRhWydyZW1vdmUnXVxuICAgIHJldHVybiBuZXcgUmVjb3JkSW5mbygnYWRkJywge2luZGV4LCBjYW52YXNQYXRoOiBjYW52YXN9KVxufVxuXG5jb25zdCAgaGFuZGxlT3BlcmF0ZSA9IGFzeW5jIDxUIGV4dGVuZHMga2V5b2YgUmVjb3JkRGF0YT4oIHJlY29yZCA6IFJlY29yZEluZm88VD4sIHBDYW52YXM6IFBDYW52YXNDb250cm9sbGVyKSA9PiB7XG4gICAgY29uc3QgeyB0eXBlLCBkYXRhIH0gPSByZWNvcmRcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlT3BlcmF0ZTogJywgdHlwZSlcbiAgICBpZih0eXBlID09PSAnYWRkJyl7XG4gICAgICAgIGNvbnN0IHtpbmRleCwgY2FudmFzUGF0aH0gPSBkYXRhIGFzIFJlY29yZERhdGFbJ2FkZCddXG4gICAgICAgIGNvbnN0IFtmaWxlXSA9IGF3YWl0IEZpbGVBcGkuZ2V0KGNhbnZhc1BhdGgsIHtpc0RpcjpmYWxzZX0pXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGF3YWl0IGNyZWF0ZUltYWdlQnlGaWxlKGZpbGUpXG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gcENhbnZhcy5hZGRMYXllckNvbnRlbnQoIGluZGV4LCBjYW52YXMsICdoaXN0b3J5JyApXG4gICAgICAgIHBDYW52YXMuZm9jdXNMYXllcihsYXllckRldGFpbClcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmKHR5cGUgPT09ICdtb2RpZnknKXtcbiAgICAgICAgY29uc3Qge2luZGV4LCBmcm9tQ2FudmFzUGF0aDogZnJvbSwgdG9DYW52YXNQYXRofSA9IGRhdGEgYXMgUmVjb3JkRGF0YVsnbW9kaWZ5J11cbiAgICAgICAgY29uc3QgW2ZpbGVdID0gYXdhaXQgRmlsZUFwaS5nZXQodG9DYW52YXNQYXRoLCB7aXNEaXI6ZmFsc2V9KVxuICAgICAgICBjb25zdCB0byA9IGF3YWl0IGNyZWF0ZUltYWdlQnlGaWxlKGZpbGUpXG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gcENhbnZhcy5zZXRMYXllckNvbnRlbnQoIGluZGV4LCB0bywgJ2hpc3RvcnknIClcbiAgICAgICAgcENhbnZhcy5mb2N1c0xheWVyKGxheWVyRGV0YWlsKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYodHlwZSA9PT0gJ3JlbW92ZScpe1xuICAgICAgICBjb25zdCB7aW5kZXggfSA9IGRhdGEgYXMgUmVjb3JkRGF0YVsncmVtb3ZlJ11cbiAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSBwQ2FudmFzLnJlbW92ZUxheWVyQnlJbmRleChpbmRleCwgJ2hpc3RvcnknKVxuICAgICAgICByZXR1cm5cbiAgICB9XG5cbn1cblxuZXhwb3J0IHR5cGUgUmVjb3JkZXJJbmZvID17Y3Vyc29yOiBudW1iZXIsIHJlY29yZGVyTGlzdDogUmVjb3JkSW5mbzxrZXlvZiBSZWNvcmREYXRhPltdfVxuZXhwb3J0IHR5cGUgUmVjb3JkZXJBY3Rpb24gPSB7IHR5cGU6ICdhZGQnfCdyZWRvJ3wndW5kbycsIHBheWxvYWQ/OiBSZWNvcmRJbmZvPGtleW9mIFJlY29yZERhdGE+LCBwQ2FudmFzQ29udHJvbGxlcj86IFBDYW52YXNDb250cm9sbGVyIH1cblxuY29uc3QgTUFYX1JPQ09SRF9OVU1CRVIgPSAxMDBcbmV4cG9ydCBjb25zdCByZWNvcmRMaXN0UmVkdWNlcjogUmVkdWNlcjxSZWNvcmRlckluZm8sIFJlY29yZGVyQWN0aW9uPiA9ICAoXG4gICAge2N1cnNvciwgcmVjb3JkZXJMaXN0fSwgXG4gICAge3R5cGUsIHBheWxvYWQsIHBDYW52YXNDb250cm9sbGVyfVxuKSA9PiB7XG4gICAgc3dpdGNoKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgIGlmKCBjdXJzb3IgPCByZWNvcmRlckxpc3QubGVuZ3RoLTEpe1xuICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZCA9ICByZWNvcmRlckxpc3Quc3BsaWNlKE1hdGgubWF4KGN1cnNvciwgMCkpXG4gICAgICAgICAgICAgICBkZWxldGVkLm1hcCggcmVjb3JkID0+IGRlbGV0ZVJlY29yZEZpbGUocmVjb3JkKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE1BWF9ST0NPUkRfTlVNQkVSIDw9IHJlY29yZGVyTGlzdC5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWQgID0gcmVjb3JkZXJMaXN0LnNwbGljZSgwLCByZWNvcmRlckxpc3QubGVuZ3RoIC0gTUFYX1JPQ09SRF9OVU1CRVIgKyAxKVxuICAgICAgICAgICAgICAgIGRlbGV0ZWQubWFwKCByZWNvcmQgPT4gZGVsZXRlUmVjb3JkRmlsZShyZWNvcmQpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3Vyc29yKytcbiAgICAgICAgICAgIHBheWxvYWQmJnJlY29yZGVyTGlzdC5wdXNoKHBheWxvYWQpXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVjb3JsZW5ndGg6ICcscmVjb3JkZXJMaXN0Lmxlbmd0aCApXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVkbyc6XG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICBzdGF0ZTEgb3BlcmF0ZTE9PiAgc3RhdGUyKGN1cnJlbnQpICA8PXJldmVydChvcGVyYXRlMikgIHN0YXRlM1xuICAgICAgICAgICAgICogICAgICAgICBjdXJzb3JcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogc3RhdGUxIG9wZXJhdGUxPT4gIHN0YXRlMiAgaGFuZGxlKG9wZXJhdGUyKT0+ICBzdGF0ZTNcbiAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmKCsrY3Vyc29yPD0gcmVjb3JkZXJMaXN0Lmxlbmd0aCAtMSApe1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGUgPSByZWNvcmRlckxpc3RbY3Vyc29yXVxuICAgICAgICAgICAgICAgIHBDYW52YXNDb250cm9sbGVyJiYgaGFuZGxlT3BlcmF0ZSggb3BlcmF0ZSwgcENhbnZhc0NvbnRyb2xsZXIgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VuZG8nOiBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogc3RhdGUxICBvcGVyYXRlMT0+ICBzdGF0ZTIgIG9wZXJhdGUyPT4gc3RhdGUzKGN1cnJlbnQpXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3JcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogc3RhdGUxIG9wZXJhdGUxPT4gIHN0YXRlMihjdXJyZW50KSAgPD1oYW5kbGUoIHJldmVydChvcGVyYXRlMikgKSAgc3RhdGUzXG4gICAgICAgICAgICAgKiAgICAgICAgIGN1cnNvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZihjdXJzb3IgPiAtMSl7XG4gICAgICAgICAgICAgICBjb25zdCByZWNvcmQgPSByZWNvcmRlckxpc3RbY3Vyc29yXVxuICAgICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXImJiBoYW5kbGVPcGVyYXRlKGdldFJldmVydFJlY29yKHJlY29yZCksIHBDYW52YXNDb250cm9sbGVyIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnNvci0tXG4gICAgICAgICAgICBicmVha1xuXG4gICAgfVxuICAgIHJldHVybiB7IFxuICAgICAgICBjdXJzb3I6IE1hdGgubWF4KE1hdGgubWluKGN1cnNvciwgcmVjb3JkZXJMaXN0Lmxlbmd0aCAtMSksIC0xKSwgXG4gICAgICAgIHJlY29yZGVyTGlzdCBcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n")},24:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(37);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _rgba__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);\n\n\n\n\n\nconst drawCircleFragment = (ctx, {\n  pixX: x,\n  pixY: y,\n  pixR: r,\n  pixWidth: width,\n  start,\n  end\n}, color) => {\n  const lR = r - width;\n  const point1 = {\n    x: x + Math.cos(start) * lR,\n    y: y + Math.sin(start) * lR\n  };\n  const point2 = {\n    x: x + Math.cos(start) * r,\n    y: y + Math.sin(start) * r\n  };\n  const point4 = {\n    x: x + Math.cos(end) * lR,\n    y: y + Math.sin(end) * lR\n  };\n  const colorStr = color.toRGBAString();\n  ctx.beginPath();\n  ctx.fillStyle = colorStr;\n  ctx.strokeStyle = colorStr;\n  ctx.moveTo(point1.x, point1.y);\n  ctx.lineTo(point2.x, point2.y);\n  ctx.arc(x, y, r, start, end);\n  ctx.lineTo(point4.x, point4.y);\n  ctx.arc(x, y, lR, end, start, true);\n  ctx.closePath();\n  ctx.fill();\n  ctx.stroke();\n};\n\nconst drawCircle = (ctx, circleInfo) => {\n  const standadColors = [new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 255, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 255, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 255, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 0, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 0)];\n  const lerpDegree = Math.PI * 2 / 6;\n\n  for (let i = 0; i < standadColors.length - 1; i++) {\n    const colors = _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].Lerp(standadColors[i], standadColors[i + 1], 255);\n    const start = i * lerpDegree;\n    const end = (i + 1) * lerpDegree;\n    const dtDegree = (end - start) / colors.length;\n\n    for (let j = 0; j < colors.length - 1; j++) {\n      drawCircleFragment(ctx, { ...circleInfo,\n        start: start + dtDegree * j,\n        end: start + dtDegree * (j + 1)\n      }, colors[j]);\n    }\n  }\n};\n\nconst drawSelectArea = (ctx, {\n  pixX: x,\n  pixY: y,\n  pixR: r,\n  pixWidth: width\n}, standardColor) => {\n  const curR = Math.sin(Math.PI * 0.25) * (r - width);\n  const w = curR * 2;\n  ctx.clearRect(x - curR, y - curR, w, w);\n  const gradient = ctx.createLinearGradient(x - curR, y + curR, x - curR, y - curR);\n  gradient.addColorStop(0, standardColor);\n  gradient.addColorStop(1, \'white\');\n  ctx.fillStyle = gradient;\n  ctx.fillRect(x - curR, y - curR, w, w);\n  const gradient2 = ctx.createLinearGradient(x - curR, y - curR, x + curR, y - curR);\n  gradient2.addColorStop(0, \'black\');\n  gradient2.addColorStop(1, \'rgba(0,0,0,0)\');\n  ctx.fillStyle = gradient2;\n  ctx.fillRect(x - curR, y - curR, w, w);\n};\n\nconst isInSelectArea = (position, {\n  x,\n  y,\n  width,\n  r\n}) => {\n  const halfW = Math.sin(Math.PI * 0.25) * (r - width);\n  const minX = x - halfW;\n  const maxX = x + halfW;\n  const minY = y - halfW;\n  const maxY = y + halfW;\n  return position.x > minX && position.x < maxX && position.y > minY && position.y < maxY;\n};\n\nconst getPointType = (position, circleInfo) => {\n  const {\n    x,\n    y,\n    width,\n    r\n  } = circleInfo;\n  const dis = (position.x - x) ** 2 + (position.y - y) ** 2;\n  const maxDis = r ** 2;\n  const minDis = (r - width) ** 2;\n  const minX = x - 0.;\n\n  if (dis > minDis && dis < maxDis) {\n    return \'circle\';\n  } else if (isInSelectArea(position, circleInfo)) {\n    return \'round\';\n  } else {\n    return null;\n  }\n};\n\nconst getCirclePosition = (position, {\n  x,\n  y,\n  width,\n  r\n}) => {\n  const middleR = r - 0.5 * width;\n  const dx = position.x - x;\n  const dy = position.y - y;\n  const dist = Math.sqrt(dx ** 2 + dy ** 2);\n  return {\n    x: x + dx * middleR / dist,\n    y: y + dy * middleR / dist\n  };\n};\n\nconst getSelectPoint = (position, circleInfo) => {\n  const {\n    x,\n    y,\n    width,\n    r\n  } = circleInfo;\n  const minR = Math.sin(Math.PI * 0.25) * (r - width);\n  const dx = position.x - x;\n  const dy = position.y - y;\n  const dist = Math.sqrt(dx ** 2 + dy ** 2);\n\n  if (isInSelectArea(position, circleInfo)) {\n    return position;\n  }\n};\n\nconst getStandardColor = (point, {\n  x,\n  y\n}) => {\n  const disX = point.x - x;\n  const disY = y - point.y;\n  const atan2 = Math.atan2(disY, disX);\n  const deg = atan2 >= 0 ? atan2 : atan2 + 2 * Math.PI;\n  const hPercent = 1 - deg / (Math.PI * 2);\n  const perPercent = 1 / 6;\n  const colors = [new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 255, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 255, 0), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 255, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](0, 0, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 255), new _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"](255, 0, 0)];\n\n  for (let i = 0; i < 6; i++) {\n    const minP = i * perPercent;\n    const maxP = (i + 1) * perPercent;\n\n    if (hPercent > minP && hPercent < maxP) {\n      return _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].getLerpColor(colors[i], colors[i + 1], 1 - (maxP - hPercent) / perPercent);\n    }\n\n    if (hPercent === minP) {\n      return colors[i];\n    }\n\n    if (hPercent === maxP) {\n      return colors[i + 1];\n    }\n  }\n\n  return _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].BLACK;\n};\n/**\n * \n * @param point \n * @param x 中心坐标x\n * @param y 中心 y坐标\n * @param r 半径\n */\n\n\nconst getSelectColor = (point, color, x, y, r) => {\n  const startX = x - r;\n  const startY = y - r;\n  const width = r * 2;\n  const l = 1 - Math.max(Math.min((point.y - startY) / width, 1), 0);\n  const s = Math.max(Math.min((point.x - startX) / width, 1), 0);\n  return _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].mix(_rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].mix(color, _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].WHITE, l), _rgba__WEBPACK_IMPORTED_MODULE_3__["RGBA"].BLACK, 1 - s);\n};\n\nconst handleChange = lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()((onChange, circlePoint, selectPoint, cirleInfo) => {\n  const standColor = getStandardColor(circlePoint, {\n    x: cirleInfo.x,\n    y: cirleInfo.y\n  });\n  const r = Math.cos(Math.PI * 0.25) * cirleInfo.r - cirleInfo.width;\n  onChange && onChange(getSelectColor(selectPoint, standColor, cirleInfo.x, cirleInfo.y, r));\n}, 200);\n\n/* harmony default export */ __webpack_exports__["default"] = (({\n  value,\n  onChange\n}) => {\n  const [circlePoint, setCirclePoint] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])({\n    x: 0,\n    y: 0\n  });\n  const [selectPoint, setSelectPoint] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])({\n    x: 0,\n    y: 0\n  });\n  const [pointType, setPointType] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null);\n  const [cirleInfo, setCircleInfo] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])();\n  const [ctx, setCtx] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])();\n  const operateInfo = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])({\n    isSelecting: false\n  });\n  const canvas = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {\n    // TODO show position acording value.\n    console.log(value);\n  }, [value]);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {\n    if (canvas.current) {\n      const ctx = canvas.current.getContext(\'2d\');\n      const size = canvas.current.clientWidth * devicePixelRatio;\n      canvas.current.width = size;\n      canvas.current.height = size;\n\n      if (ctx) {\n        setCtx(ctx);\n        const halfWidth = canvas.current.clientWidth * 0.5;\n        const pixHalfWidth = canvas.current.width * 0.5;\n        const cirleInfo = {\n          x: halfWidth,\n          y: halfWidth,\n          r: halfWidth - 10,\n          width: 30,\n          pixX: pixHalfWidth,\n          pixY: pixHalfWidth,\n          pixR: pixHalfWidth - 10 * devicePixelRatio,\n          pixWidth: 30 * devicePixelRatio\n        };\n        drawSelectArea(ctx, cirleInfo, \'rgb(255,0,0)\');\n        drawCircle(ctx, cirleInfo);\n        setCircleInfo(cirleInfo);\n        setCirclePoint({\n          x: halfWidth + cirleInfo.r,\n          y: halfWidth\n        });\n        setSelectPoint({\n          x: halfWidth,\n          y: halfWidth\n        });\n      }\n    }\n  }, [canvas.current]);\n\n  const onPointMove = ({\n    nativeEvent: {\n      offsetX: x,\n      offsetY: y\n    }\n  }) => {\n    if (!operateInfo.current.isSelecting) {\n      return;\n    }\n\n    if (cirleInfo && pointType) {\n      if (pointType === \'circle\' && ctx) {\n        setCirclePoint(getCirclePosition({\n          x,\n          y\n        }, cirleInfo));\n        const sC = getStandardColor({\n          x,\n          y\n        }, {\n          x: cirleInfo.x,\n          y: cirleInfo.y\n        });\n        drawSelectArea(ctx, cirleInfo, sC.toRGBAString());\n      }\n\n      if (pointType === \'round\') {\n        const p = getSelectPoint({\n          x,\n          y\n        }, cirleInfo);\n\n        if (p) {\n          setSelectPoint(p);\n        }\n      }\n    }\n  };\n\n  const onPointDown = ({\n    nativeEvent: {\n      offsetX: x,\n      offsetY: y\n    }\n  }) => {\n    if (cirleInfo) {\n      operateInfo.current.isSelecting = true;\n      setPointType(getPointType({\n        x,\n        y\n      }, cirleInfo));\n      const positionType = getPointType({\n        x,\n        y\n      }, cirleInfo);\n\n      if (positionType === \'circle\') {\n        setCirclePoint(getCirclePosition({\n          x,\n          y\n        }, cirleInfo));\n      }\n\n      if (positionType === \'round\') {\n        setSelectPoint({\n          x,\n          y\n        });\n      }\n    }\n  };\n\n  const onPointOut = () => {\n    operateInfo.current.isSelecting = false;\n    setPointType(null);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(() => cirleInfo && handleChange(onChange, circlePoint, selectPoint, cirleInfo), [circlePoint, selectPoint]);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.colorPannelWrap\n  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("canvas", {\n    ref: canvas,\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.colorPannel\n  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.circlePoint,\n    style: {\n      transform: `translate3d(${circlePoint.x - 5}px, ${circlePoint.y - 5}px, 0)`\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {\n    style: {\n      transform: `translate3d(${selectPoint.x - 5}px, ${selectPoint.y - 5}px, 0)`\n    },\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.selectPoint\n  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.canvasCover,\n    style: {\n      height: `${cirleInfo && cirleInfo.x * 2}px`\n    },\n    onPointerDown: onPointDown,\n    onPointerUp: onPointOut,\n    onPointerMove: onPointMove\n  }));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9jb2xvci1wYW5uZWwudHN4PzBhNDUiXSwibmFtZXMiOlsiZHJhd0NpcmNsZUZyYWdtZW50IiwiY3R4IiwicGl4WCIsIngiLCJwaXhZIiwieSIsInBpeFIiLCJyIiwicGl4V2lkdGgiLCJ3aWR0aCIsInN0YXJ0IiwiZW5kIiwiY29sb3IiLCJsUiIsInBvaW50MSIsIk1hdGgiLCJjb3MiLCJzaW4iLCJwb2ludDIiLCJwb2ludDQiLCJjb2xvclN0ciIsInRvUkdCQVN0cmluZyIsImJlZ2luUGF0aCIsImZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwibW92ZVRvIiwibGluZVRvIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsInN0cm9rZSIsImRyYXdDaXJjbGUiLCJjaXJjbGVJbmZvIiwic3RhbmRhZENvbG9ycyIsIlJHQkEiLCJsZXJwRGVncmVlIiwiUEkiLCJpIiwibGVuZ3RoIiwiY29sb3JzIiwiTGVycCIsImR0RGVncmVlIiwiaiIsImRyYXdTZWxlY3RBcmVhIiwic3RhbmRhcmRDb2xvciIsImN1clIiLCJ3IiwiY2xlYXJSZWN0IiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImZpbGxSZWN0IiwiZ3JhZGllbnQyIiwiaXNJblNlbGVjdEFyZWEiLCJwb3NpdGlvbiIsImhhbGZXIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsImdldFBvaW50VHlwZSIsImRpcyIsIm1heERpcyIsIm1pbkRpcyIsImdldENpcmNsZVBvc2l0aW9uIiwibWlkZGxlUiIsImR4IiwiZHkiLCJkaXN0Iiwic3FydCIsImdldFNlbGVjdFBvaW50IiwibWluUiIsImdldFN0YW5kYXJkQ29sb3IiLCJwb2ludCIsImRpc1giLCJkaXNZIiwiYXRhbjIiLCJkZWciLCJoUGVyY2VudCIsInBlclBlcmNlbnQiLCJtaW5QIiwibWF4UCIsImdldExlcnBDb2xvciIsIkJMQUNLIiwiZ2V0U2VsZWN0Q29sb3IiLCJzdGFydFgiLCJzdGFydFkiLCJsIiwibWF4IiwibWluIiwicyIsIm1peCIsIldISVRFIiwiaGFuZGxlQ2hhbmdlIiwib25DaGFuZ2UiLCJjaXJjbGVQb2ludCIsInNlbGVjdFBvaW50IiwiY2lybGVJbmZvIiwic3RhbmRDb2xvciIsInZhbHVlIiwic2V0Q2lyY2xlUG9pbnQiLCJ1c2VTdGF0ZSIsInNldFNlbGVjdFBvaW50IiwicG9pbnRUeXBlIiwic2V0UG9pbnRUeXBlIiwic2V0Q2lyY2xlSW5mbyIsInNldEN0eCIsIm9wZXJhdGVJbmZvIiwidXNlUmVmIiwiaXNTZWxlY3RpbmciLCJjYW52YXMiLCJ1c2VFZmZlY3QiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudCIsImdldENvbnRleHQiLCJzaXplIiwiY2xpZW50V2lkdGgiLCJkZXZpY2VQaXhlbFJhdGlvIiwiaGVpZ2h0IiwiaGFsZldpZHRoIiwicGl4SGFsZldpZHRoIiwib25Qb2ludE1vdmUiLCJuYXRpdmVFdmVudCIsIm9mZnNldFgiLCJvZmZzZXRZIiwic0MiLCJwIiwib25Qb2ludERvd24iLCJwb3NpdGlvblR5cGUiLCJvblBvaW50T3V0IiwidXNlTWVtbyIsInN0eWxlIiwiY29sb3JQYW5uZWxXcmFwIiwiY29sb3JQYW5uZWwiLCJ0cmFuc2Zvcm0iLCJjYW52YXNDb3ZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBOztBQU9BLE1BQU1BLGtCQUFrQixHQUFHLENBQUNDLEdBQUQsRUFBZ0M7QUFBRUMsTUFBSSxFQUFFQyxDQUFSO0FBQVVDLE1BQUksRUFBRUMsQ0FBaEI7QUFBbUJDLE1BQUksRUFBRUMsQ0FBekI7QUFBNEJDLFVBQVEsRUFBRUMsS0FBdEM7QUFBNkNDLE9BQTdDO0FBQW9EQztBQUFwRCxDQUFoQyxFQUErR0MsS0FBL0csS0FBK0g7QUFFekosUUFBTUMsRUFBRSxHQUFHTixDQUFDLEdBQUdFLEtBQWY7QUFFQSxRQUFN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QUFFQyxTQUFLLEVBQUU7QUFBQ3dDLGVBQVMsRUFBRSxlQUFjeEMsV0FBVyxDQUFDNUYsQ0FBWixHQUFlLENBQUUsT0FBTTRGLFdBQVcsQ0FBQzFGLENBQVosR0FBZSxDQUFFO0FBQWxFO0FBRlIsSUFUTSxFQWFOO0FBQ0MsU0FBSyxFQUFFO0FBQUNrSSxlQUFTLEVBQUUsZUFBY3ZDLFdBQVcsQ0FBQzdGLENBQVosR0FBZSxDQUFFLE9BQU02RixXQUFXLENBQUMzRixDQUFaLEdBQWUsQ0FBRTtBQUFsRSxLQURSO0FBRUMsYUFBUyxFQUFFK0gsa0RBQUssQ0FBQ3BDO0FBRmxCLElBYk0sRUFrQk47QUFDQyxhQUFTLEVBQUVvQyxrREFBSyxDQUFDSSxXQURsQjtBQUVDLFNBQUssRUFBRTtBQUFDakIsWUFBTSxFQUFHLEdBQUd0QixTQUFTLElBQUdBLFNBQVMsQ0FBQzlGLENBQVYsR0FBYyxDQUFFO0FBQXpDLEtBRlI7QUFHQyxpQkFBYSxFQUFFNkgsV0FIaEI7QUFJQyxlQUFXLEVBQUVFLFVBSmQ7QUFLQyxpQkFBYSxFQUFFUjtBQUxoQixJQWxCTSxDQUFQO0FBMEJBLENBNUdEIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlIGZyb20gJy4vaW5kZXgubGVzcydcbmltcG9ydCB7IGRlYm91bmNlfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBSR0JBIH0gZnJvbSAnLi9yZ2JhJ1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWwvZGF0YS9WZWN0b3IyJ1xuXG50eXBlIENpcmNsZUluZm8gPSBWZWN0b3IyICYgeyByOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIHBpeFg6IG51bWJlciwgcGl4WTogbnVtYmVyLCBwaXhSOiBudW1iZXIsIHBpeFdpZHRoOiBudW1iZXIgfVxuXG50eXBlIENpcmNsZUZyYWdtZW50SW5mbyA9IHsgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIgfSAmIENpcmNsZUluZm9cblxuY29uc3QgZHJhd0NpcmNsZUZyYWdtZW50ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB7IHBpeFg6IHgscGl4WTogeSwgcGl4UjogciwgcGl4V2lkdGg6IHdpZHRoLCBzdGFydCwgZW5kIH06IENpcmNsZUZyYWdtZW50SW5mbywgY29sb3I6IFJHQkEpID0+IHtcblx0XG5cdGNvbnN0IGxSID0gciAtIHdpZHRoXG5cblx0Y29uc3QgcG9pbnQxID0ge1xuXHRcdHg6IHggKyBNYXRoLmNvcyhzdGFydCkgKiBsUixcblx0XHR5OiB5ICsgTWF0aC5zaW4oc3RhcnQpICogbFIsXG5cdH1cblx0Y29uc3QgcG9pbnQyID0ge1xuXHRcdHg6IHggKyBNYXRoLmNvcyhzdGFydCkgKiByLFxuXHRcdHk6IHkgKyBNYXRoLnNpbihzdGFydCkgKiByLFxuXHR9XG5cdGNvbnN0IHBvaW50NCA9IHtcblx0XHR4OiB4ICsgTWF0aC5jb3MoZW5kKSAqIGxSLFxuXHRcdHk6IHkgKyBNYXRoLnNpbihlbmQpICogbFIsXG5cdH1cblx0Y29uc3QgY29sb3JTdHIgPSBjb2xvci50b1JHQkFTdHJpbmcoKVxuXHRjdHguYmVnaW5QYXRoKClcblx0Y3R4LmZpbGxTdHlsZSA9IGNvbG9yU3RyXG5cdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yU3RyXG5cdGN0eC5tb3ZlVG8ocG9pbnQxLngsIHBvaW50MS55KVxuXHRjdHgubGluZVRvKHBvaW50Mi54LCBwb2ludDIueSlcblx0Y3R4LmFyYyh4LCB5LCByLCBzdGFydCwgZW5kKVxuXHRjdHgubGluZVRvKHBvaW50NC54LCBwb2ludDQueSlcblx0Y3R4LmFyYyh4LCB5LCBsUiwgZW5kLCBzdGFydCwgdHJ1ZSlcblx0Y3R4LmNsb3NlUGF0aCgpXG5cdGN0eC5maWxsKClcblx0Y3R4LnN0cm9rZSgpXG59XG5cbmNvbnN0IGRyYXdDaXJjbGUgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNpcmNsZUluZm86IENpcmNsZUluZm8pID0+IHtcblx0Y29uc3Qgc3RhbmRhZENvbG9ycyA9IFtcblx0XHRuZXcgUkdCQSgyNTUsIDAsIDApLFxuXHRcdG5ldyBSR0JBKDI1NSwgMjU1LCAwKSxcblx0XHRuZXcgUkdCQSgwLCAyNTUsIDApLFxuXHRcdG5ldyBSR0JBKDAsIDI1NSwgMjU1KSxcblx0XHRuZXcgUkdCQSgwLCAwLCAyNTUpLFxuXHRcdG5ldyBSR0JBKDI1NSwgMCwgMjU1KSxcblx0XHRuZXcgUkdCQSgyNTUsIDAsIDApLFxuXHRdXG5cdGNvbnN0IGxlcnBEZWdyZWUgPSBNYXRoLlBJICogMiAvIDZcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzdGFuZGFkQ29sb3JzLmxlbmd0aCAtIDE7IGkrKykge1xuXHRcdGNvbnN0IGNvbG9ycyA9IFJHQkEuTGVycChzdGFuZGFkQ29sb3JzW2ldLCBzdGFuZGFkQ29sb3JzW2kgKyAxXSwgMjU1KVxuXHRcdGNvbnN0IHN0YXJ0ID0gaSAqIGxlcnBEZWdyZWVcblx0XHRjb25zdCBlbmQgPSAoaSArIDEpICogbGVycERlZ3JlZVxuXHRcdGNvbnN0IGR0RGVncmVlID0gKGVuZCAtIHN0YXJ0KSAvIGNvbG9ycy5sZW5ndGhcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IGNvbG9ycy5sZW5ndGggLSAxOyBqKyspIHtcblx0XHRcdGRyYXdDaXJjbGVGcmFnbWVudChjdHgsIHsgLi4uY2lyY2xlSW5mbywgc3RhcnQ6IHN0YXJ0ICsgZHREZWdyZWUgKiBqLCBlbmQ6IHN0YXJ0ICsgZHREZWdyZWUgKiAoaiArIDEpIH0sIGNvbG9yc1tqXSlcblx0XHR9XG5cdH1cbn1cblxuY29uc3QgZHJhd1NlbGVjdEFyZWEgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHtwaXhYOiB4LHBpeFk6IHksIHBpeFI6IHIsIHBpeFdpZHRoOiB3aWR0aH06IENpcmNsZUluZm8sIHN0YW5kYXJkQ29sb3I6IHN0cmluZykgPT4ge1xuXHRjb25zdCBjdXJSID0gIE1hdGguc2luKE1hdGguUEkgKiAwLjI1KSAqIChyIC0gd2lkdGgpXG5cdGNvbnN0IHcgPSBjdXJSICogMlxuXHRjdHguY2xlYXJSZWN0KHgtY3VyUiwgeS1jdXJSICwgdywgdylcblx0Y29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeC1jdXJSLCB5K2N1clIsIHgtY3VyUiwgeS1jdXJSIClcblx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIHN0YW5kYXJkQ29sb3IpXG5cdGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCd3aGl0ZScpXG5cdGN0eC5maWxsU3R5bGUgPSBncmFkaWVudFxuXHRjdHguZmlsbFJlY3QoeC1jdXJSLCB5LWN1clIgLCB3LCB3KVxuXHRjb25zdCBncmFkaWVudDIgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeC1jdXJSLCB5LWN1clIsIHggKyBjdXJSLCB5IC0gY3VyUiApXG5cdGdyYWRpZW50Mi5hZGRDb2xvclN0b3AoMCwgJ2JsYWNrJylcblx0Z3JhZGllbnQyLmFkZENvbG9yU3RvcCgxLCdyZ2JhKDAsMCwwLDApJylcblx0Y3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50MlxuXHRjdHguZmlsbFJlY3QoeC1jdXJSLCB5LWN1clIgLCB3LCB3KVxufVxuXG5jb25zdCBpc0luU2VsZWN0QXJlYSA9IChwb3NpdGlvbjogVmVjdG9yMiwge3gseSx3aWR0aCxyfTogQ2lyY2xlSW5mbykgPT4ge1xuXHRjb25zdCBoYWxmVyA9ICAgTWF0aC5zaW4oTWF0aC5QSSAqIDAuMjUpICogKHIgLSB3aWR0aClcblx0Y29uc3QgbWluWCA9IHggLSBoYWxmV1xuXHRjb25zdCBtYXhYID0geCArIGhhbGZXXG5cdGNvbnN0IG1pblkgPSB5IC0gaGFsZldcblx0Y29uc3QgbWF4WSA9IHkgKyBoYWxmV1xuXHRyZXR1cm4gcG9zaXRpb24ueCA+IG1pblggJiZcbiAgICBwb3NpdGlvbi54IDwgbWF4WCAmJlxuICAgIHBvc2l0aW9uLnkgPiBtaW5ZICYmXG4gICAgcG9zaXRpb24ueSA8IG1heFkgXG59XG5cbmNvbnN0IGdldFBvaW50VHlwZSA9IChwb3NpdGlvbjogVmVjdG9yMiwgY2lyY2xlSW5mbzogQ2lyY2xlSW5mbyk6ICdjaXJjbGUnfCAncm91bmQnfCBudWxsID0+IHtcblx0Y29uc3Qge3gseSx3aWR0aCxyfSA9IGNpcmNsZUluZm9cblx0Y29uc3QgZGlzID0gKHBvc2l0aW9uLnggLSB4ICkgKiogMiArIChwb3NpdGlvbi55IC0geSkgKiogMlxuXHRjb25zdCBtYXhEaXMgPSByICoqMlxuXHRjb25zdCBtaW5EaXMgPSAoci0gd2lkdGgpICoqIDJcblx0Y29uc3QgbWluWCA9IHggLSAwLlxuXHRpZihkaXMgPiBtaW5EaXMgJiYgZGlzIDwgbWF4RGlzKXtcblx0XHRyZXR1cm4gJ2NpcmNsZSdcblx0fWVsc2UgaWYoaXNJblNlbGVjdEFyZWEocG9zaXRpb24sIGNpcmNsZUluZm8pKXtcblx0XHRyZXR1cm4gJ3JvdW5kJ1xuXHR9ZWxzZXtcblx0XHRyZXR1cm4gbnVsbFxuXHR9XG4gICAgIFxufVxuXG5jb25zdCBnZXRDaXJjbGVQb3NpdGlvbiA9IChwb3NpdGlvbjogVmVjdG9yMiwge3gseSx3aWR0aCxyfTogQ2lyY2xlSW5mbykgPT4ge1xuXHRjb25zdCBtaWRkbGVSID0gciAtIDAuNSAqIHdpZHRoIFxuXHRjb25zdCBkeCA9IHBvc2l0aW9uLnggLXhcblx0Y29uc3QgZHkgPSBwb3NpdGlvbi55IC15XG5cdGNvbnN0IGRpc3QgPSBNYXRoLnNxcnQoIGR4ICoqMiArIGR5ICoqMiApXG5cdHJldHVybiB7XG5cdFx0eDogeCArIGR4ICogbWlkZGxlUi8gZGlzdCxcblx0XHR5OiB5ICsgZHkgKiBtaWRkbGVSIC8gZGlzdFxuXHR9XG59XG5cbmNvbnN0IGdldFNlbGVjdFBvaW50ID0gKHBvc2l0aW9uOiBWZWN0b3IyLGNpcmNsZUluZm86IENpcmNsZUluZm8pID0+IHtcblx0Y29uc3QgIHt4LHksd2lkdGgscn0gPSBjaXJjbGVJbmZvXG5cdGNvbnN0IG1pblIgPSAgTWF0aC5zaW4oTWF0aC5QSSAqIDAuMjUpICogKHIgLSB3aWR0aClcblx0Y29uc3QgZHggPSBwb3NpdGlvbi54IC14XG5cdGNvbnN0IGR5ID0gcG9zaXRpb24ueSAteVxuXHRjb25zdCBkaXN0ID0gTWF0aC5zcXJ0KCBkeCAqKjIgKyBkeSAqKjIgKVxuXHRpZihpc0luU2VsZWN0QXJlYShwb3NpdGlvbiwgY2lyY2xlSW5mbykpe1xuXHRcdHJldHVybiBwb3NpdGlvblxuXHR9XG59XG5cbmNvbnN0IGdldFN0YW5kYXJkQ29sb3IgPSAocG9pbnQ6IFZlY3RvcjIsIHt4LHl9OiBWZWN0b3IyKSA9PiB7XG5cdGNvbnN0IGRpc1ggPSBwb2ludC54IC0geFxuXHRjb25zdCBkaXNZID0gIHkgLSBwb2ludC55XG5cdGNvbnN0IGF0YW4yID0gTWF0aC5hdGFuMihkaXNZLCBkaXNYKVxuXHRjb25zdCBkZWcgPSBhdGFuMiA+PSAwPyBhdGFuMjogYXRhbjIrIDIqIE1hdGguUElcblx0Y29uc3QgaFBlcmNlbnQgPSAxLSBkZWcgLyhNYXRoLlBJKjIpXG5cdGNvbnN0IHBlclBlcmNlbnQgPSAxLzZcblx0Y29uc3QgY29sb3JzID0gW1xuXHRcdG5ldyBSR0JBKDI1NSwgMCwgMCksXG5cdFx0bmV3IFJHQkEoMjU1LCAyNTUsIDApLFxuXHRcdG5ldyBSR0JBKDAsIDI1NSwgMCksXG5cdFx0bmV3IFJHQkEoMCwgMjU1LCAyNTUpLFxuXHRcdG5ldyBSR0JBKDAsIDAsIDI1NSksXG5cdFx0bmV3IFJHQkEoMjU1LCAwLCAyNTUpLFxuXHRcdG5ldyBSR0JBKDI1NSwgMCwgMCksXG5cdF1cblx0Zm9yKGxldCBpID0wOyBpPCA2OyBpKyspe1xuXHRcdGNvbnN0IG1pblAgPSBpICpwZXJQZXJjZW50XG5cdFx0Y29uc3QgbWF4UCA9IChpKzEpKnBlclBlcmNlbnRcblx0XHRpZihoUGVyY2VudCA+IG1pblAgJiZoUGVyY2VudCA8IG1heFAgKXtcblx0XHRcdHJldHVybiBSR0JBLmdldExlcnBDb2xvcihjb2xvcnNbaV0sIGNvbG9yc1tpKzFdLDEtIChtYXhQIC0gaFBlcmNlbnQpL3BlclBlcmNlbnQpXG5cdFx0fVxuXHRcdGlmKGhQZXJjZW50PT09IG1pblApe1xuXHRcdFx0cmV0dXJuIGNvbG9yc1tpXVxuXHRcdH1cblx0XHRpZihoUGVyY2VudCA9PT0gbWF4UCl7XG5cdFx0XHRyZXR1cm4gY29sb3JzW2krMV1cblx0XHR9XG5cdH1cblx0cmV0dXJuIFJHQkEuQkxBQ0tcblxufSBcbi8qKlxuICogXG4gKiBAcGFyYW0gcG9pbnQgXG4gKiBAcGFyYW0geCDkuK3lv4PlnZDmoId4XG4gKiBAcGFyYW0geSDkuK3lv4MgeeWdkOagh1xuICogQHBhcmFtIHIg5Y2K5b6EXG4gKi9cbmNvbnN0IGdldFNlbGVjdENvbG9yID0gKHBvaW50OiBWZWN0b3IyLCBjb2xvcjogUkdCQSwgeDogbnVtYmVyLCB5Om51bWJlciwgcjpudW1iZXIgKSA9PiB7XG5cdGNvbnN0IHN0YXJ0WCA9IHggLSByXG5cdGNvbnN0IHN0YXJ0WSA9IHkgLSByXG5cdGNvbnN0IHdpZHRoID0gciAqMlxuXHRjb25zdCBsID0gMS0gTWF0aC5tYXgoTWF0aC5taW4oKHBvaW50LnkgLXN0YXJ0WSkvd2lkdGgsIDEpLCAwKVxuXHRjb25zdCBzID0gTWF0aC5tYXgoTWF0aC5taW4oKHBvaW50LnggLSBzdGFydFgpL3dpZHRoLDEpLCAwKVxuXHRyZXR1cm4gUkdCQS5taXgoUkdCQS5taXgoY29sb3IsIFJHQkEuV0hJVEUsIGwpLCBSR0JBLkJMQUNLLCAxLXMgKVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yUGFubmVsUHJvcHMge1xuICAgIFxuICAgIHZhbHVlPzogUkdCQVxuXG4gICAgb25DaGFuZ2U/OiAoY29sb3I6IFJHQkEpID0+IHZvaWQgXG59XG5cbmNvbnN0IGhhbmRsZUNoYW5nZSA9IGRlYm91bmNlKChvbkNoYW5nZTogKChjb2xvcjogUkdCQSkgPT4gdm9pZCkgfCB1bmRlZmluZWQgLCBjaXJjbGVQb2ludDpWZWN0b3IyLCBzZWxlY3RQb2ludDogVmVjdG9yMiwgY2lybGVJbmZvOkNpcmNsZUluZm8pID0+IHtcblx0Y29uc3Qgc3RhbmRDb2xvciA9IGdldFN0YW5kYXJkQ29sb3IoY2lyY2xlUG9pbnQse3g6Y2lybGVJbmZvLngsIHk6IGNpcmxlSW5mby55fSlcblx0Y29uc3QgciA9IE1hdGguY29zKE1hdGguUEkgKjAuMjUpICogY2lybGVJbmZvLnIgLSBjaXJsZUluZm8ud2lkdGhcblx0b25DaGFuZ2UgJiYgb25DaGFuZ2UoIGdldFNlbGVjdENvbG9yKHNlbGVjdFBvaW50LCBzdGFuZENvbG9yLCBjaXJsZUluZm8ueCwgY2lybGVJbmZvLnksIHIpKVxufSwyMDApXG5cbmV4cG9ydCBkZWZhdWx0ICh7IHZhbHVlLCBvbkNoYW5nZSB9OiBDb2xvclBhbm5lbFByb3BzKSA9PiB7XG5cblx0Y29uc3QgW2NpcmNsZVBvaW50LCBzZXRDaXJjbGVQb2ludF0gPSB1c2VTdGF0ZSh7eDogMCwgeTowfSlcblx0Y29uc3QgWyBzZWxlY3RQb2ludCwgc2V0U2VsZWN0UG9pbnQgXSA9IHVzZVN0YXRlKHt4OiAwLCB5OjB9KVxuXHRjb25zdCBbIHBvaW50VHlwZSwgIHNldFBvaW50VHlwZSBdID0gdXNlU3RhdGU8J2NpcmNsZSd8J3JvdW5kJ3wgbnVsbD4obnVsbClcblx0Y29uc3QgW2NpcmxlSW5mbywgc2V0Q2lyY2xlSW5mbyBdID0gdXNlU3RhdGU8Q2lyY2xlSW5mbz4oKVxuXHRjb25zdCBbY3R4LCBzZXRDdHhdID0gdXNlU3RhdGU8Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPigpXG5cdGNvbnN0IG9wZXJhdGVJbmZvID0gdXNlUmVmKHsgaXNTZWxlY3Rpbmc6IGZhbHNlIH0pXG5cdGNvbnN0IGNhbnZhcyA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbClcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBUT0RPIHNob3cgcG9zaXRpb24gYWNvcmRpbmcgdmFsdWUuXG5cdFx0Y29uc29sZS5sb2codmFsdWUpXG5cdH0sIFt2YWx1ZV0pXG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZihjYW52YXMuY3VycmVudCl7XG5cdFx0XHRjb25zdCBjdHggPSBjYW52YXMuY3VycmVudC5nZXRDb250ZXh0KCcyZCcpXG5cdFx0XHRjb25zdCBzaXplID0gY2FudmFzLmN1cnJlbnQuY2xpZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvXG5cdFx0XHRjYW52YXMuY3VycmVudC53aWR0aCA9IHNpemVcblx0XHRcdGNhbnZhcy5jdXJyZW50LmhlaWdodCA9IHNpemVcblx0XHRcdGlmIChjdHgpIHtcblx0XHRcdFx0c2V0Q3R4KGN0eClcblx0XHRcdFx0Y29uc3QgaGFsZldpZHRoID0gY2FudmFzLmN1cnJlbnQuY2xpZW50V2lkdGggKiAwLjVcblx0XHRcdFx0Y29uc3QgcGl4SGFsZldpZHRoID0gY2FudmFzLmN1cnJlbnQud2lkdGggKiAwLjVcblx0XHRcdFx0Y29uc3QgY2lybGVJbmZvPSB7IFxuXHRcdFx0XHRcdHg6IGhhbGZXaWR0aCwgeTogaGFsZldpZHRoLCByOiBoYWxmV2lkdGgtMTAsIHdpZHRoOiAzMCwgXG5cdFx0XHRcdFx0cGl4WDogcGl4SGFsZldpZHRoLCBwaXhZOiBwaXhIYWxmV2lkdGgsIHBpeFI6IHBpeEhhbGZXaWR0aCAtIDEwICogZGV2aWNlUGl4ZWxSYXRpbyxcblx0XHRcdFx0XHRwaXhXaWR0aDogMzAgKiBkZXZpY2VQaXhlbFJhdGlvICBcblx0XHRcdFx0fVxuXHRcdFx0XHRkcmF3U2VsZWN0QXJlYShjdHgsIGNpcmxlSW5mbywgJ3JnYigyNTUsMCwwKScpXG5cdFx0XHRcdGRyYXdDaXJjbGUoY3R4LCBjaXJsZUluZm8pXG5cdFx0XHRcdHNldENpcmNsZUluZm8oY2lybGVJbmZvKVxuXHRcdFx0XHRzZXRDaXJjbGVQb2ludCh7eDogaGFsZldpZHRoICsgY2lybGVJbmZvLnIsIHk6IGhhbGZXaWR0aH0pXG5cdFx0XHRcdHNldFNlbGVjdFBvaW50KHt4OiBoYWxmV2lkdGgsIHk6IGhhbGZXaWR0aH0pXG5cdFx0XHR9XG5cdFx0fVxuXHR9LCBbY2FudmFzLmN1cnJlbnRdKVxuXG5cdGNvbnN0IG9uUG9pbnRNb3ZlID0gKCB7IG5hdGl2ZUV2ZW50OiB7b2Zmc2V0WDogeCwgb2Zmc2V0WTogeX19OiBSZWFjdC5Qb2ludGVyRXZlbnQpID0+IHtcblx0XHRpZighb3BlcmF0ZUluZm8uY3VycmVudC5pc1NlbGVjdGluZyl7XG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cdFx0aWYoY2lybGVJbmZvICYmIHBvaW50VHlwZSApe1xuXHRcdFx0aWYocG9pbnRUeXBlID09PSAnY2lyY2xlJyYmY3R4KXtcblx0XHRcdFx0c2V0Q2lyY2xlUG9pbnQoZ2V0Q2lyY2xlUG9zaXRpb24oe3gseX0sIGNpcmxlSW5mbykpXG5cdFx0XHRcdGNvbnN0IHNDID0gZ2V0U3RhbmRhcmRDb2xvcih7eCx5fSwge3g6Y2lybGVJbmZvLngsIHk6Y2lybGVJbmZvLnl9KVxuXHRcdFx0XHRkcmF3U2VsZWN0QXJlYShjdHgsIGNpcmxlSW5mbyxzQy50b1JHQkFTdHJpbmcoKSlcblx0XHRcdH1cblx0XHRcdGlmKHBvaW50VHlwZSA9PT0gJ3JvdW5kJyl7XG5cdFx0XHRcdGNvbnN0IHAgPSBnZXRTZWxlY3RQb2ludCh7eCx5fSwgY2lybGVJbmZvKVxuXHRcdFx0XHRpZihwKXtcblx0XHRcdFx0XHRzZXRTZWxlY3RQb2ludChwKVxuICAgICAgICAgICAgICAgICAgIFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgb25Qb2ludERvd24gPSAoIHsgbmF0aXZlRXZlbnQ6IHtvZmZzZXRYOiB4LCBvZmZzZXRZOiB5fX06IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xuXHRcdGlmKGNpcmxlSW5mbyApe1xuXHRcdFx0b3BlcmF0ZUluZm8uY3VycmVudC5pc1NlbGVjdGluZyA9IHRydWU7XG5cdFx0XHRzZXRQb2ludFR5cGUoZ2V0UG9pbnRUeXBlKHt4LHl9LCBjaXJsZUluZm8pKVxuXHRcdFx0Y29uc3QgcG9zaXRpb25UeXBlID0gZ2V0UG9pbnRUeXBlKHt4LHl9LCBjaXJsZUluZm8pXG5cdFx0XHRpZihwb3NpdGlvblR5cGUgPT09ICdjaXJjbGUnKXtcblx0XHRcdFx0c2V0Q2lyY2xlUG9pbnQoZ2V0Q2lyY2xlUG9zaXRpb24oe3gseX0sIGNpcmxlSW5mbykpXG5cdFx0XHR9XG5cdFx0XHRpZihwb3NpdGlvblR5cGUgPT09ICdyb3VuZCcpe1xuXHRcdFx0XHRzZXRTZWxlY3RQb2ludCh7eCx5fSlcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjb25zdCBvblBvaW50T3V0ID0gKCkgPT4ge1xuXHRcdG9wZXJhdGVJbmZvLmN1cnJlbnQuaXNTZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRzZXRQb2ludFR5cGUobnVsbClcblx0fVxuXG5cdHVzZU1lbW8oKCkgPT4gY2lybGVJbmZvICYmIGhhbmRsZUNoYW5nZShvbkNoYW5nZSwgY2lyY2xlUG9pbnQsIHNlbGVjdFBvaW50LCBjaXJsZUluZm8pLFtjaXJjbGVQb2ludCwgc2VsZWN0UG9pbnRdKVxuXG4gICBcblxuXHRyZXR1cm4gPGRpdlxuXHRcdCBcdGNsYXNzTmFtZT17c3R5bGUuY29sb3JQYW5uZWxXcmFwfVxuXHRcdFx0XG5cdFx0ID5cblx0XHQ8Y2FudmFzIFxuXHRcdFx0cmVmPXtjYW52YXN9IFxuXHRcdFx0Y2xhc3NOYW1lPXtzdHlsZS5jb2xvclBhbm5lbH1cblx0XHQ+XG5cdFx0PC9jYW52YXM+XG5cdFx0PGRpdiBcblx0XHRcdGNsYXNzTmFtZT17c3R5bGUuY2lyY2xlUG9pbnR9XG5cdFx0XHRzdHlsZT17e3RyYW5zZm9ybTpgdHJhbnNsYXRlM2QoJHtjaXJjbGVQb2ludC54IC01fXB4LCAke2NpcmNsZVBvaW50LnkgLTV9cHgsIDApYH19XG5cdFx0PjwvZGl2PlxuXHRcdDxkaXYgXG5cdFx0XHRzdHlsZT17e3RyYW5zZm9ybTpgdHJhbnNsYXRlM2QoJHtzZWxlY3RQb2ludC54IC01fXB4LCAke3NlbGVjdFBvaW50LnkgLTV9cHgsIDApYH19XG5cdFx0XHRjbGFzc05hbWU9e3N0eWxlLnNlbGVjdFBvaW50fVxuXHRcdD5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IFxuXHRcdFx0Y2xhc3NOYW1lPXtzdHlsZS5jYW52YXNDb3Zlcn1cblx0XHRcdHN0eWxlPXt7aGVpZ2h0OiBgJHsgY2lybGVJbmZvICYmY2lybGVJbmZvLnggKiAyfXB4YH19XG5cdFx0XHRvblBvaW50ZXJEb3duPXtvblBvaW50RG93bn1cblx0XHRcdG9uUG9pbnRlclVwPXtvblBvaW50T3V0fVxuXHRcdFx0b25Qb2ludGVyTW92ZT17b25Qb2ludE1vdmV9XG5cdFx0PjwvZGl2PlxuXHQ8L2Rpdj5cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},37:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"colorBar":"colorBar_22b99","colorPannelWrap":"colorPannelWrap_94f56","colorPannel":"colorPannel_02c11","circlePoint":"circlePoint_0a8ba","selectPoint":"selectPoint_5aa22","canvasCover":"canvasCover_4958d"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9pbmRleC5sZXNzPzI2ZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQkFBa0IiLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiY29sb3JCYXJcIjpcImNvbG9yQmFyXzIyYjk5XCIsXCJjb2xvclBhbm5lbFdyYXBcIjpcImNvbG9yUGFubmVsV3JhcF85NGY1NlwiLFwiY29sb3JQYW5uZWxcIjpcImNvbG9yUGFubmVsXzAyYzExXCIsXCJjaXJjbGVQb2ludFwiOlwiY2lyY2xlUG9pbnRfMGE4YmFcIixcInNlbGVjdFBvaW50XCI6XCJzZWxlY3RQb2ludF81YWEyMlwiLFwiY2FudmFzQ292ZXJcIjpcImNhbnZhc0NvdmVyXzQ5NThkXCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///37\n')},38:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"recordBtn":"recordBtn_81954","recordBtnActive":"recordBtnActive_a74d3"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvYXNpZGUtdG9vbC1iYXIvcmVjb3JkL2luZGV4Lmxlc3M/MDY5MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtCQUFrQiIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJyZWNvcmRCdG5cIjpcInJlY29yZEJ0bl84MTk1NFwiLFwicmVjb3JkQnRuQWN0aXZlXCI6XCJyZWNvcmRCdG5BY3RpdmVfYTc0ZDNcIn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n')},39:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"layerPannel":"layerPannel_e799a","layerDrawer":"layerDrawer_edc15","pannelWrap":"pannelWrap_b4fbf","canvases":"canvases_b0d45","active":"active_1674e"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9sYXllci1wYW5uZWwvc3R5bGUubGVzcz81YmI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0JBQWtCIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxheWVyUGFubmVsXCI6XCJsYXllclBhbm5lbF9lNzk5YVwiLFwibGF5ZXJEcmF3ZXJcIjpcImxheWVyRHJhd2VyX2VkYzE1XCIsXCJwYW5uZWxXcmFwXCI6XCJwYW5uZWxXcmFwX2I0ZmJmXCIsXCJjYW52YXNlc1wiOlwiY2FudmFzZXNfYjBkNDVcIixcImFjdGl2ZVwiOlwiYWN0aXZlXzE2NzRlXCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39\n')},4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(48);\n/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(38);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _util_canvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47);\n/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23);\n/* harmony import */ var _workStorage_file_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15);\n\n\n\n\n\n\n\n\nconst saveRecordCanvas = async canvas => {\n  const fileName = `record_${Date.now()}_${lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()()}.png`;\n  const blob = await Object(_util_canvas__WEBPACK_IMPORTED_MODULE_4__[/* toBlob */ \"e\"])(canvas);\n  const canvasPath = `record/${fileName}`;\n\n  if (blob) {\n    await _workStorage_file_system__WEBPACK_IMPORTED_MODULE_6__[/* FileApi */ \"a\"].save({\n      type: 'image/png',\n      data: blob,\n      path: canvasPath\n    });\n  }\n\n  return canvasPath;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (({\n  pCanvasController\n}) => {\n  const [{\n    cursor,\n    recorderList\n  }, dispatchRecord] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useReducer\"])(_reducer__WEBPACK_IMPORTED_MODULE_5__[\"recordListReducer\"], {\n    cursor: -1,\n    recorderList: []\n  });\n  const canUndo = cursor >= 0;\n  const canRedo = cursor < recorderList.length - 1;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(() => {\n    const onAddLayer = async event => {\n      const {\n        data: {\n          layerDetail: {\n            canvas\n          },\n          index\n        },\n        tag: creator\n      } = event;\n      if (creator === 'history') return;\n      const canvasPath = await saveRecordCanvas(canvas);\n      dispatchRecord({\n        type: 'add',\n        payload: new _reducer__WEBPACK_IMPORTED_MODULE_5__[\"RecordInfo\"]('add', {\n          index,\n          canvasPath\n        })\n      });\n    };\n\n    const onContentChange = async event => {\n      const {\n        data: {\n          layerDetail: {\n            canvas\n          },\n          preContent,\n          index\n        },\n        tag: creator\n      } = event;\n      if (creator === 'history') return;\n      dispatchRecord({\n        type: 'add',\n        payload: new _reducer__WEBPACK_IMPORTED_MODULE_5__[\"RecordInfo\"]('modify', {\n          index,\n          fromCanvasPath: await saveRecordCanvas(preContent),\n          toCanvasPath: await saveRecordCanvas(canvas)\n        })\n      });\n    };\n\n    const onRemoveLayer = async event => {\n      const {\n        data: {\n          layerDetail: {\n            canvas\n          },\n          index\n        },\n        tag: creator\n      } = event;\n      if (creator === 'history') return;\n      const canvasPath = await saveRecordCanvas(canvas);\n      dispatchRecord({\n        type: 'add',\n        payload: new _reducer__WEBPACK_IMPORTED_MODULE_5__[\"RecordInfo\"]('remove', {\n          index,\n          canvasPath\n        })\n      });\n    };\n\n    pCanvasController.on('addLayer', onAddLayer);\n    pCanvasController.on('contentChange', onContentChange);\n    pCanvasController.on('removeLayer', onRemoveLayer);\n    return () => {\n      pCanvasController.off('addLayer', onAddLayer);\n      pCanvasController.off('contentChange', onContentChange);\n      pCanvasController.off('removeLayer', onRemoveLayer);\n      _workStorage_file_system__WEBPACK_IMPORTED_MODULE_6__[/* FileApi */ \"a\"].remove('record');\n    };\n  }, []);\n\n  const redo = () => {\n    dispatchRecord({\n      type: 'redo',\n      pCanvasController\n    });\n  };\n\n  const undo = () => {\n    dispatchRecord({\n      type: 'undo',\n      pCanvasController\n    });\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: `${_index_less__WEBPACK_IMPORTED_MODULE_3___default.a.recordBtn} ${canRedo && _index_less__WEBPACK_IMPORTED_MODULE_3___default.a.recordBtnActive || ''} `,\n    onPointerUp: canRedo && redo || undefined\n  }, \"redo\"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_2__[\"Divider\"], null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: `${_index_less__WEBPACK_IMPORTED_MODULE_3___default.a.recordBtn} ${canUndo && _index_less__WEBPACK_IMPORTED_MODULE_3___default.a.recordBtnActive || ''}`,\n    onPointerUp: canUndo && undo || undefined\n  }, \"undo\"));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvYXNpZGUtdG9vbC1iYXIvcmVjb3JkL2luZGV4LnRzeD9mOTg3Il0sIm5hbWVzIjpbInNhdmVSZWNvcmRDYW52YXMiLCJjYW52YXMiLCJmaWxlTmFtZSIsIkRhdGUiLCJub3ciLCJibG9iIiwidG9CbG9iIiwiY2FudmFzUGF0aCIsIkZpbGVBcGkiLCJzYXZlIiwidHlwZSIsImRhdGEiLCJwYXRoIiwicENhbnZhc0NvbnRyb2xsZXIiLCJjdXJzb3IiLCJyZWNvcmRlckxpc3QiLCJkaXNwYXRjaFJlY29yZCIsInVzZVJlZHVjZXIiLCJyZWNvcmRMaXN0UmVkdWNlciIsImNhblVuZG8iLCJjYW5SZWRvIiwibGVuZ3RoIiwidXNlRWZmZWN0Iiwib25BZGRMYXllciIsImV2ZW50IiwibGF5ZXJEZXRhaWwiLCJpbmRleCIsInRhZyIsImNyZWF0b3IiLCJwYXlsb2FkIiwiUmVjb3JkSW5mbyIsIm9uQ29udGVudENoYW5nZSIsInByZUNvbnRlbnQiLCJmcm9tQ2FudmFzUGF0aCIsInRvQ2FudmFzUGF0aCIsIm9uUmVtb3ZlTGF5ZXIiLCJvbiIsIm9mZiIsInJlbW92ZSIsInJlZG8iLCJ1bmRvIiwic3R5bGVzIiwicmVjb3JkQnRuIiwicmVjb3JkQnRuQWN0aXZlIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUtBLE1BQU1BLGdCQUFnQixHQUFHLE1BQU9DLE1BQVAsSUFBcUM7QUFDMUQsUUFBTUMsUUFBUSxHQUFJLFVBQVNDLElBQUksQ0FBQ0MsR0FBTCxFQUFXLElBQUcsd0RBQVcsTUFBcEQ7QUFDQSxRQUFNQyxJQUFJLEdBQUcsTUFBTUMsbUVBQU0sQ0FBQ0wsTUFBRCxDQUF6QjtBQUNBLFFBQU1NLFVBQVUsR0FBSSxVQUFTTCxRQUFTLEVBQXRDOztBQUNBLE1BQUdHLElBQUgsRUFBUTtBQUNKLFVBQU1HLHdFQUFPLENBQUNDLElB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QWxCLENBQXNCLFVBQXRCLEVBQWtDZCxVQUFsQztBQUNBVix1QkFBaUIsQ0FBQ3dCLEdBQWxCLENBQXNCLGVBQXRCLEVBQXVDTixlQUF2QztBQUNBbEIsdUJBQWlCLENBQUN3QixHQUFsQixDQUFzQixhQUF0QixFQUFxQ0YsYUFBckM7QUFDQTNCLDhFQUFPLENBQUM4QixNQUFSLENBQWUsUUFBZjtBQUNILEtBTEQ7QUFNSCxHQTVDUSxFQTRDUCxFQTVDTyxDQUFUOztBQThDQSxRQUFNQyxJQUFJLEdBQUcsTUFBTTtBQUNmdkIsa0JBQWMsQ0FBQztBQUFFTixVQUFJLEVBQUMsTUFBUDtBQUFjRztBQUFkLEtBQUQsQ0FBZDtBQUVILEdBSEQ7O0FBS0EsUUFBTTJCLElBQUksR0FBRyxNQUFNO0FBQ2hCeEIsa0JBQWMsQ0FBQztBQUFFTixVQUFJLEVBQUUsTUFBUjtBQUFnQkc7QUFBaEIsS0FBRCxDQUFkO0FBQ0YsR0FGRDs7QUFHQSxTQUFPLDJEQUFDLDhDQUFELFFBQ0g7QUFBTSxhQUFTLEVBQUksR0FBRTRCLGtEQUFNLENBQUNDLFNBQVUsSUFBR3RCLE9BQU8sSUFBRXFCLGtEQUFNLENBQUNFLGVBQWhCLElBQWlDLEVBQUcsR0FBN0U7QUFBaUYsZUFBVyxFQUFFdkIsT0FBTyxJQUFFbUIsSUFBVCxJQUFnQks7QUFBOUcsWUFERyxFQUVILDJEQUFDLDRDQUFELE9BRkcsRUFHSDtBQUFNLGFBQVMsRUFBRyxHQUFFSCxrREFBTSxDQUFDQyxTQUFVLElBQUd2QixPQUFPLElBQUVzQixrREFBTSxDQUFDRSxlQUFoQixJQUFrQyxFQUFHLEVBQTdFO0FBQWlGLGVBQVcsRUFBRXhCLE9BQU8sSUFBRXFCLElBQVQsSUFBZUk7QUFBN0csWUFIRyxDQUFQO0FBS0gsQ0FuRUQiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge0ZyYWdtZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZVJlZHVjZXIsIFJlZHVjZXJ9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRGl2aWRlciB9IGZyb20gJ2FudGQnXG5pbXBvcnQgeyBQQ2FudmFzQ29udHJvbGxlciwgQ2FudmFzRXZlbnREYXRhIH0gZnJvbSAnLi4vLi4vcGNhbnZhcydcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5sZXNzJ1xuaW1wb3J0IHsgIHRvQmxvYiB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvY2FudmFzJ1xuaW1wb3J0IHsgcmVjb3JkTGlzdFJlZHVjZXIsIFJlY29yZEluZm8gfSBmcm9tICcuL3JlZHVjZXInXG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IEZpbGVBcGkgfSBmcm9tICcuLi8uLi8uLi8uLi93b3JrU3RvcmFnZS9maWxlLXN5c3RlbSdcbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkUHJvcHMge1xuICAgIHBDYW52YXNDb250cm9sbGVyOlBDYW52YXNDb250cm9sbGVyXG59XG5cbmNvbnN0IHNhdmVSZWNvcmRDYW52YXMgPSBhc3luYyAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZpbGVOYW1lID0gYHJlY29yZF8ke0RhdGUubm93KCl9XyR7dW5pcXVlSWQoKX0ucG5nYFxuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB0b0Jsb2IoY2FudmFzKVxuICAgIGNvbnN0IGNhbnZhc1BhdGggPSBgcmVjb3JkLyR7ZmlsZU5hbWV9YFxuICAgIGlmKGJsb2Ipe1xuICAgICAgICBhd2FpdCBGaWxlQXBpLnNhdmUoeyB0eXBlOiAnaW1hZ2UvcG5nJywgZGF0YTogYmxvYiwgcGF0aDogY2FudmFzUGF0aCB9KVxuICAgIH1cbiAgICByZXR1cm4gIGNhbnZhc1BhdGhcbn1cblxuZXhwb3J0IGRlZmF1bHQgKHsgcENhbnZhc0NvbnRyb2xsZXIgfTogUmVjb3JkUHJvcHMpID0+IHtcblxuICAgIGNvbnN0IFsge2N1cnNvciwgcmVjb3JkZXJMaXN0fSwgZGlzcGF0Y2hSZWNvcmQgXSA9IHVzZVJlZHVjZXIocmVjb3JkTGlzdFJlZHVjZXIsIHsgY3Vyc29yOiAtMSwgcmVjb3JkZXJMaXN0OiBbXX0pXG5cbiAgICBjb25zdCBjYW5VbmRvID0gY3Vyc29yID49IDBcblxuICAgIGNvbnN0IGNhblJlZG8gPSBjdXJzb3IgPCByZWNvcmRlckxpc3QubGVuZ3RoIC0xXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IG9uQWRkTGF5ZXIgPSBhc3luYyAoZXZlbnQ6IENhbnZhc0V2ZW50RGF0YVsnYWRkTGF5ZXInXSApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtkYXRhOiB7bGF5ZXJEZXRhaWw6IHtjYW52YXN9LCBpbmRleH0sIHRhZzogY3JlYXRvcn0gPSBldmVudFxuICAgICAgICAgICAgaWYoY3JlYXRvciA9PT0gJ2hpc3RvcnknKSByZXR1cm5cbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNQYXRoID0gYXdhaXQgc2F2ZVJlY29yZENhbnZhcyhjYW52YXMpXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hSZWNvcmQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYWRkJyxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogbmV3IFJlY29yZEluZm8oJ2FkZCcsIHtpbmRleCwgY2FudmFzUGF0aCB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbkNvbnRlbnRDaGFuZ2U9IGFzeW5jIChldmVudDogQ2FudmFzRXZlbnREYXRhWydjb250ZW50Q2hhbmdlJ10pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHtkYXRhOiB7IGxheWVyRGV0YWlsOiAge2NhbnZhc30sIHByZUNvbnRlbnQsIGluZGV4fSwgdGFnOiBjcmVhdG9yICB9ID0gZXZlbnRcbiAgICAgICAgICAgIGlmKGNyZWF0b3IgPT09ICdoaXN0b3J5JykgcmV0dXJuXG4gICAgICAgICAgICBkaXNwYXRjaFJlY29yZCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2FkZCcsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDpuZXcgUmVjb3JkSW5mbygnbW9kaWZ5Jywge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCwgXG4gICAgICAgICAgICAgICAgICAgIGZyb21DYW52YXNQYXRoOiAgYXdhaXQgc2F2ZVJlY29yZENhbnZhcyhwcmVDb250ZW50KSwgIFxuICAgICAgICAgICAgICAgICAgICB0b0NhbnZhc1BhdGg6IGF3YWl0IHNhdmVSZWNvcmRDYW52YXMoY2FudmFzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb25SZW1vdmVMYXllciA9ICBhc3luYyAoZXZlbnQ6IENhbnZhc0V2ZW50RGF0YVsncmVtb3ZlTGF5ZXInXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyAgZGF0YToge2xheWVyRGV0YWlsOntjYW52YXN9LCBpbmRleH0sIHRhZzogY3JlYXRvciB9ID0gZXZlbnRcbiAgICAgICAgICAgIGlmKGNyZWF0b3IgPT09ICdoaXN0b3J5JykgcmV0dXJuXG4gICAgICAgICAgICBjb25zdCBjYW52YXNQYXRoID0gYXdhaXQgc2F2ZVJlY29yZENhbnZhcyhjYW52YXMpXG4gICAgICAgICAgICBkaXNwYXRjaFJlY29yZCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2FkZCcsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDogbmV3IFJlY29yZEluZm8oJ3JlbW92ZScsIHtpbmRleCwgY2FudmFzUGF0aCB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uKCdhZGRMYXllcicsIG9uQWRkTGF5ZXIpXG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uKCdjb250ZW50Q2hhbmdlJywgb25Db250ZW50Q2hhbmdlKVxuICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5vbigncmVtb3ZlTGF5ZXInLCBvblJlbW92ZUxheWVyKVxuICAgICAgICByZXR1cm4gICgpID0+IHtcbiAgICAgICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9mZignYWRkTGF5ZXInLCBvbkFkZExheWVyKVxuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub2ZmKCdjb250ZW50Q2hhbmdlJywgb25Db250ZW50Q2hhbmdlKVxuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub2ZmKCdyZW1vdmVMYXllcicsIG9uUmVtb3ZlTGF5ZXIpXG4gICAgICAgICAgICBGaWxlQXBpLnJlbW92ZSgncmVjb3JkJylcbiAgICAgICAgfVxuICAgIH0sW10pXG5cbiAgICBjb25zdCByZWRvID0gKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaFJlY29yZCh7IHR5cGU6J3JlZG8nLHBDYW52YXNDb250cm9sbGVyIH0pXG4gICAgICAgXG4gICAgfVxuXG4gICAgY29uc3QgdW5kbyA9ICgpID0+IHtcbiAgICAgICBkaXNwYXRjaFJlY29yZCh7IHR5cGU6ICd1bmRvJywgcENhbnZhc0NvbnRyb2xsZXIgfSlcbiAgICB9XG4gICAgcmV0dXJuIDxGcmFnbWVudD5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXsgYCR7c3R5bGVzLnJlY29yZEJ0bn0gJHtjYW5SZWRvJiZzdHlsZXMucmVjb3JkQnRuQWN0aXZlfHwnJ30gYH0gb25Qb2ludGVyVXA9e2NhblJlZG8mJnJlZG98fCB1bmRlZmluZWR9PnJlZG88L3NwYW4+XG4gICAgICAgIDxEaXZpZGVyLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgJHtzdHlsZXMucmVjb3JkQnRufSAke2NhblVuZG8mJnN0eWxlcy5yZWNvcmRCdG5BY3RpdmUgfHwnJ31gIH0gb25Qb2ludGVyVXA9e2NhblVuZG8mJnVuZG98fHVuZGVmaW5lZH0gPnVuZG88L3NwYW4+XG4gICAgPC9GcmFnbWVudD5cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n")},41:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"asideTool":"asideTool_faaa6"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvYXNpZGUtdG9vbC1iYXIvaW5kZXgubGVzcz85OTlhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0JBQWtCIiwiZmlsZSI6IjQxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImFzaWRlVG9vbFwiOlwiYXNpZGVUb29sX2ZhYWE2XCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///41\n')},42:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"topToolBar":"topToolBar_7b6e5"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL2luZGV4Lmxlc3M/ZWJhZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtCQUFrQiIsImZpbGUiOiI0Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJ0b3BUb29sQmFyXCI6XCJ0b3BUb29sQmFyXzdiNmU1XCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n')},44:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"layout":"layout_72e38"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvc3R5bGUubGVzcz8zYjNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0JBQWtCIiwiZmlsZSI6IjQ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImxheW91dFwiOlwibGF5b3V0XzcyZTM4XCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///44\n')},5:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _color_pannel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(24);\n/* harmony import */ var _rgba__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21);\n\n\n\n // import { PainterTooolProps } from \'../../toolbar\'\n\n // import { ToolTypes } from \'../../pannel/painter/interface\'\n// import { PaintContext } from \'../../..\'\n\n/* harmony default export */ __webpack_exports__["default"] = (({\n  value,\n  onChange,\n  defaultValue\n}) => {\n  const [showColorPanel, setShowColorPannel] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);\n  const [rgba, setRGBA] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(defaultValue || _rgba__WEBPACK_IMPORTED_MODULE_4__["RGBA"].BLACK);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (value) {\n      setRGBA(value);\n      return;\n    }\n  }, [value]);\n\n  const modaleChange = () => {\n    setShowColorPannel(val => !val);\n  };\n\n  const onColorChange = val => {\n    setRGBA(val);\n    onChange && onChange(val);\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    style: {\n      backgroundColor: rgba.toRGBAString()\n    },\n    className: _index_less__WEBPACK_IMPORTED_MODULE_1___default.a.colorBar,\n    onPointerUp: modaleChange\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_2__["Drawer"], {\n    title: "colors",\n    visible: showColorPanel,\n    onClose: modaleChange,\n    mask: false\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_color_pannel__WEBPACK_IMPORTED_MODULE_3__["default"], {\n    value: rgba,\n    onChange: onColorChange\n  })));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9pbmRleC50c3g/NWU3MCJdLCJuYW1lcyI6WyJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZGVmYXVsdFZhbHVlIiwic2hvd0NvbG9yUGFuZWwiLCJzZXRTaG93Q29sb3JQYW5uZWwiLCJ1c2VTdGF0ZSIsInJnYmEiLCJzZXRSR0JBIiwiUkdCQSIsIkJMQUNLIiwidXNlRWZmZWN0IiwibW9kYWxlQ2hhbmdlIiwidmFsIiwib25Db2xvckNoYW5nZSIsImJhY2tncm91bmRDb2xvciIsInRvUkdCQVN0cmluZyIsInN0eWxlIiwiY29sb3JCYXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtDQUVBOztDQUVBO0FBQ0E7O0FBUWdCLGdFQUFDO0FBQUNBLE9BQUQ7QUFBUUMsVUFBUjtBQUFrQkM7QUFBbEIsQ0FBRCxLQUF5RDtBQUN4RSxRQUFNLENBQUNDLGNBQUQsRUFBaUJDLGtCQUFqQixJQUF1Q0Msc0RBQVEsQ0FBQyxLQUFELENBQXJEO0FBQ0EsUUFBTSxDQUFDQyxJQUFELEVBQU9DLE9BQVAsSUFBa0JGLHNEQUFRLENBQUNILFlBQVksSUFBR00sMENBQUksQ0FBQ0MsS0FBckIsQ0FBaEM7QUFFQUMseURBQVMsQ0FBQyxNQUFNO0FBQ2YsUUFBR1YsS0FBSCxFQUFTO0FBQ1JPLGFBQU8sQ0FBQ1AsS0FBRCxDQUFQO0FBQ0E7QUFDQTtBQUNELEdBTFEsRUFLTixDQUFFQSxLQUFGLENBTE0sQ0FBVDs7QUFVQSxRQUFNVyxZQUFZLEdBQUcsTUFBTTtBQUMxQlAsc0JBQWtCLENBQUNRLEdBQUcsSUFBSSxDQUFDQSxHQUFULENBQWxCO0FBQ0EsR0FGRDs7QUFJQSxRQUFNQyxhQUFhLEdBQUlELEdBQUQsSUFBYztBQUNuQ0wsV0FBTyxDQUFDSyxHQUFELENBQVA7QUFDQVgsWUFBUSxJQUFJQSxRQUFRLENBQUNXLEdBQUQsQ0FBcEI7QUFDQSxHQUhEOztBQUtBLFNBQU8sMkRBQUMsOENBQUQsUUFDTjtBQUNDLFNBQUssRUFBRTtBQUFDRSxxQkFBZSxFQUFFUixJQUFJLENBQUNTLFlBQUw7QUFBbEIsS0FEUjtBQUVDLGFBQVMsRUFBRUMsa0RBQUssQ0FBQ0MsUUFGbEI7QUFHQyxlQUFXLEVBQUVOO0FBSGQsSUFETSxFQVFOLDJEQUFDLDJDQUFEO0FBQ0MsU0FBSyxFQUFDLFFBRFA7QUFFQyxXQUFPLEVBQUVSLGNBRlY7QUFHQyxXQUFPLEVBQUVRLFlBSFY7QUFJQyxRQUFJLEVBQUU7QUFKUCxLQU1DLDJEQUFDLHFEQUFEO0FBQ0MsU0FBSyxFQUFFTCxJQURSO0FBRUMsWUFBUSxFQUFFTztBQUZYLElBTkQsQ0FSTSxDQUFQO0FBcUJBLENBNUNEIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIEZyYWdtZW50LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdHlsZSBmcm9tICcuL2luZGV4Lmxlc3MnXG5pbXBvcnQgeyBEcmF3ZXIgfSBmcm9tICdhbnRkJ1xuaW1wb3J0IENvbG9yUGFubmVsIGZyb20gJy4vY29sb3ItcGFubmVsJ1xuLy8gaW1wb3J0IHsgUGFpbnRlclRvb29sUHJvcHMgfSBmcm9tICcuLi8uLi90b29sYmFyJ1xuaW1wb3J0IHsgUkdCQSB9IGZyb20gJy4vcmdiYSdcbi8vIGltcG9ydCB7IFRvb2xUeXBlcyB9IGZyb20gJy4uLy4uL3Bhbm5lbC9wYWludGVyL2ludGVyZmFjZSdcbi8vIGltcG9ydCB7IFBhaW50Q29udGV4dCB9IGZyb20gJy4uLy4uLy4uJ1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yU2VsZWN0b3JQcm9wcyB7XG4gICAgb25DaGFuZ2U/OiAodmFsdWU6IFJHQkEpID0+IHZvaWRcblx0dmFsdWU/OiBSR0JBLFxuXHRkZWZhdWx0VmFsdWU/OiBSR0JBLFxufVxuXG5leHBvcnQgZGVmYXVsdCAgKHt2YWx1ZSwgb25DaGFuZ2UsIGRlZmF1bHRWYWx1ZX06IENvbG9yU2VsZWN0b3JQcm9wcykgPT4ge1xuXHRjb25zdCBbc2hvd0NvbG9yUGFuZWwsIHNldFNob3dDb2xvclBhbm5lbF0gPSB1c2VTdGF0ZShmYWxzZSlcblx0Y29uc3QgW3JnYmEsIHNldFJHQkFdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlfHwgUkdCQS5CTEFDSylcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmKHZhbHVlKXtcblx0XHRcdHNldFJHQkEodmFsdWUpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cdH0sIFsgdmFsdWUgXSlcblxuXG5cbiAgICBcblx0Y29uc3QgbW9kYWxlQ2hhbmdlID0gKCkgPT4ge1xuXHRcdHNldFNob3dDb2xvclBhbm5lbCh2YWwgPT4gIXZhbClcblx0fVxuXG5cdGNvbnN0IG9uQ29sb3JDaGFuZ2UgPSAodmFsOlJHQkEpID0+IHtcblx0XHRzZXRSR0JBKHZhbClcblx0XHRvbkNoYW5nZSAmJiBvbkNoYW5nZSh2YWwpXG5cdH1cblxuXHRyZXR1cm4gPEZyYWdtZW50PlxuXHRcdDxkaXYgXG5cdFx0XHRzdHlsZT17e2JhY2tncm91bmRDb2xvcjogcmdiYS50b1JHQkFTdHJpbmcoKX19XG5cdFx0XHRjbGFzc05hbWU9e3N0eWxlLmNvbG9yQmFyfVxuXHRcdFx0b25Qb2ludGVyVXA9e21vZGFsZUNoYW5nZX0gXG5cdFx0PlxuICAgICAgICBcblx0XHQ8L2Rpdj5cblx0XHQ8RHJhd2VyXG5cdFx0XHR0aXRsZT1cImNvbG9yc1wiXG5cdFx0XHR2aXNpYmxlPXtzaG93Q29sb3JQYW5lbH1cblx0XHRcdG9uQ2xvc2U9e21vZGFsZUNoYW5nZX1cblx0XHRcdG1hc2s9e2ZhbHNlfVxuXHRcdD5cblx0XHRcdDxDb2xvclBhbm5lbCBcblx0XHRcdFx0dmFsdWU9e3JnYmF9IFxuXHRcdFx0XHRvbkNoYW5nZT17b25Db2xvckNoYW5nZX1cblx0XHRcdC8+XG5cdFx0PC9EcmF3ZXI+XG5cdDwvRnJhZ21lbnQ+XG4gICAgXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},6:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SaveTool; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);\n\n\nfunction SaveTool({\n  pCanvasController\n}) {\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (pCanvasController) {\n      const updateLayer = ({\n        data: {\n          workId,\n          layerDetail\n        }\n      }) => {\n        _workStorage__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].saveLayerDetail(workId, layerDetail);\n      };\n\n      const addLayer = ({\n        data: {\n          workId,\n          layerDetail,\n          index\n        }\n      }) => {\n        _workStorage__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].saveLayerDetail(workId, layerDetail, index);\n      };\n\n      pCanvasController.on('contentChange', updateLayer);\n      pCanvasController.on('addLayer', addLayer);\n      return () => {\n        pCanvasController.off('contentChange', updateLayer);\n        pCanvasController.off('addLayer', addLayer);\n      };\n    }\n  }, [pCanvasController]);\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9zYXZlL2luZGV4LnRzeD9mNmVjIl0sIm5hbWVzIjpbIlNhdmVUb29sIiwicENhbnZhc0NvbnRyb2xsZXIiLCJ1c2VFZmZlY3QiLCJ1cGRhdGVMYXllciIsImRhdGEiLCJ3b3JrSWQiLCJsYXllckRldGFpbCIsIldvcmtTdG9yYWdlIiwic2F2ZUxheWVyRGV0YWlsIiwiYWRkTGF5ZXIiLCJpbmRleCIsIm9uIiwib2ZmIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU9lLFNBQVNBLFFBQVQsQ0FBa0I7QUFBQ0M7QUFBRCxDQUFsQixFQUFxRDtBQUNsRUMseURBQVMsQ0FBQyxNQUFNO0FBQ2QsUUFBR0QsaUJBQUgsRUFBcUI7QUFFbkIsWUFBTUUsV0FBVyxHQUFHLENBQUU7QUFBQ0MsWUFBSSxFQUFFO0FBQUVDLGdCQUFGO0FBQVVDO0FBQVY7QUFBUCxPQUFGLEtBQTBFO0FBQzVGQyxvRUFBVyxDQUFDQyxlQUFaLENBQTRCSCxNQUE1QixFQUFvQ0MsV0FBcEM7QUFDRCxPQUZEOztBQUdBLFlBQU1HLFFBQVEsR0FBRyxDQUFFO0FBQUVMLFlBQUksRUFBRTtBQUFFQyxnQkFBRjtBQUFVQyxxQkFBVjtBQUF1Qkk7QUFBdkI7QUFBUixPQUFGLEtBQTRFO0FBQzNGSCxvRUFBVyxDQUFDQyxlQUFaLENBQTRCSCxNQUE1QixFQUFvQ0MsV0FBcEMsRUFBaURJLEtBQWpEO0FBQ0QsT0FGRDs7QUFJQVQsdUJBQWlCLENBQUNVLEVBQWxCLENBQXFCLGVBQXJCLEVBQXNDUixXQUF0QztBQUNFRix1QkFBaUIsQ0FBQ1UsRUFBbEIsQ0FBcUIsVUFBckIsRUFBaUNGLFFBQWpDO0FBQ0YsYUFBTyxNQUFNO0FBQ1hSLHlCQUFpQixDQUFDVyxHQUFsQixDQUFzQixlQUF0QixFQUF1Q1QsV0FBdkM7QUFDQUYseUJBQWlCLENBQUNXLEdBQWxCLENBQXNCLFVBQXRCLEVBQWtDSCxRQUFsQztBQUNELE9BSEQ7QUFJRDtBQUNGLEdBakJRLEVBaUJOLENBQUNSLGlCQUFELENBakJNLENBQVQ7QUFrQkEsU0FBTyxJQUFQO0FBQ0QiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvcFRvb2xCYXJQcm9wcyB9IGZyb20gXCIuLi8uLlwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgV29ya1N0b3JhZ2UsIHsgTGF5ZXJEZXRhaWwgfSBmcm9tIFwiQC93b3JrU3RvcmFnZVwiO1xuaW1wb3J0IHsgQ2FudmFzRXZlbnQsIENhbnZhc0V2ZW50RGF0YSB9IGZyb20gXCJAL3BhZ2VzL3BhaW50L3BjYW52YXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTYXZlVG9vbFByb3BzIGV4dGVuZHMgVG9wVG9vbEJhclByb3Bze1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNhdmVUb29sKHtwQ2FudmFzQ29udHJvbGxlcn06IFNhdmVUb29sUHJvcHMpe1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmKHBDYW52YXNDb250cm9sbGVyKXtcbiAgICAgXG4gICAgICBjb25zdCB1cGRhdGVMYXllciA9ICgge2RhdGE6IHsgd29ya0lkLCBsYXllckRldGFpbCB9fSA6IENhbnZhc0V2ZW50RGF0YVsnY29udGVudENoYW5nZSddICkgPT4ge1xuICAgICAgICBXb3JrU3RvcmFnZS5zYXZlTGF5ZXJEZXRhaWwod29ya0lkLCBsYXllckRldGFpbClcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFkZExheWVyID0gKCB7IGRhdGE6IHsgd29ya0lkLCBsYXllckRldGFpbCwgaW5kZXggfSB9OiBDYW52YXNFdmVudERhdGFbJ2FkZExheWVyJ10pID0+IHtcbiAgICAgICAgV29ya1N0b3JhZ2Uuc2F2ZUxheWVyRGV0YWlsKHdvcmtJZCwgbGF5ZXJEZXRhaWwsIGluZGV4KVxuICAgICAgfVxuICBcbiAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uKCdjb250ZW50Q2hhbmdlJywgdXBkYXRlTGF5ZXIpXG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uKCdhZGRMYXllcicsIGFkZExheWVyKVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub2ZmKCdjb250ZW50Q2hhbmdlJywgdXBkYXRlTGF5ZXIpXG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9mZignYWRkTGF5ZXInLCBhZGRMYXllcilcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtwQ2FudmFzQ29udHJvbGxlcl0pXG4gIHJldHVybiBudWxsXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},7:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external "React"\nvar external_React_ = __webpack_require__(0);\nvar external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);\n\n// EXTERNAL MODULE: external "antd"\nvar external_antd_ = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/pages/paint/top-tool-bar/tool-item/layer-pannel/style.less\nvar style = __webpack_require__(39);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./node_modules/lodash/uniqBy.js\nvar uniqBy = __webpack_require__(67);\nvar uniqBy_default = /*#__PURE__*/__webpack_require__.n(uniqBy);\n\n// CONCATENATED MODULE: ./src/hooks/use-copy-layer.ts\n\n\nconst mapCanvas = (srcCanvas, targetCanvas) => {\n  const targetCtx = targetCanvas.getContext(\'2d\');\n\n  if (targetCtx) {\n    targetCtx.clearRect(0, 0, targetCanvas.width, targetCanvas.height);\n    targetCtx.drawImage(srcCanvas, 0, 0, srcCanvas.width, srcCanvas.height, 0, 0, targetCanvas.width, targetCanvas.height);\n  }\n};\n\nconst copCanvas = (needCopyRef, canvasesRef) => {\n  const needCopyLayers = uniqBy_default()(needCopyRef.current, ({\n    layerId\n  }) => layerId);\n\n  const cnvasMap = canvasesRef.current; // console.log(\'c...\', needCopyLayers)\n\n  const needCopys = [...needCopyLayers];\n  needCopys.forEach(la => {\n    const srcCanvas = cnvasMap[la.layerId];\n\n    if (srcCanvas) {\n      console.log(\'map..\', la.layerId);\n      mapCanvas(la.canvas, srcCanvas);\n      const ind = needCopyRef.current.findIndex(({\n        layerId\n      }) => layerId === la.layerId);\n      needCopyRef.current.splice(ind, 1);\n    }\n  });\n};\n\n/* harmony default export */ var use_copy_layer = ((layers, needCopyRef, canvasesRef) => {\n  const copyCanvas = () => copCanvas(needCopyRef, canvasesRef);\n\n  Object(external_React_["useEffect"])(copyCanvas, [layers]);\n  return {\n    copyCanvas\n  };\n});\n// CONCATENATED MODULE: ./src/pages/paint/top-tool-bar/tool-item/layer-pannel/index.tsx\n\n\n\n\n/* harmony default export */ var layer_pannel = __webpack_exports__["default"] = (({\n  pCanvasController\n}) => {\n  const [layers, setLayers] = Object(external_React_["useState"])([]);\n  const canvasesRef = Object(external_React_["useRef"])({});\n  const needUpdateRef = Object(external_React_["useRef"])([]);\n  const {\n    copyCanvas\n  } = use_copy_layer(layers, needUpdateRef, canvasesRef);\n  const [activeLayerId, setActiveLayerId] = Object(external_React_["useState"])(\'\');\n  const [showLayerDraw, setShowLayerDraw] = Object(external_React_["useState"])(false);\n\n  const showLayerPannel = () => {\n    setShowLayerDraw(show => {\n      if (!show) {\n        setTimeout(copyCanvas);\n      }\n\n      return !show;\n    });\n  };\n\n  Object(external_React_["useEffect"])(() => {\n    const init = async () => {\n      const allLayers = await pCanvasController.getLayers();\n      let layers = [...allLayers];\n      needUpdateRef.current.push(...allLayers);\n      setLayers(pre => [...pre, ...layers]);\n    };\n\n    pCanvasController.on(\'init\', init);\n    return () => pCanvasController.off(\'init\', init);\n  }, []);\n  Object(external_React_["useEffect"])(() => {\n    const onFocusLayer = ({\n      data: {\n        layerDetail\n      }\n    }) => {\n      console.log(\'onFocusLayer...\');\n      setActiveLayerId(layerDetail.layerId);\n    };\n\n    const onAddLayer = ({\n      data: {\n        layerDetail\n      }\n    }) => {\n      console.log(\'onAddLayer\');\n      needUpdateRef.current.push(layerDetail);\n      setLayers(preLayers => [layerDetail, ...preLayers]);\n    };\n\n    const onRemoveLayer = ({\n      data: {\n        layerDetail\n      }\n    }) => {\n      setLayers(preLayers => {\n        const index = preLayers.indexOf(layerDetail);\n\n        if (index > -1) {\n          preLayers.splice(index, 1);\n        }\n\n        return [...preLayers];\n      });\n    };\n\n    const onContentChange = ({\n      data: {\n        layerDetail\n      },\n      tag: creator\n    }) => {\n      if (layerDetail) {\n        needUpdateRef.current.push(layerDetail);\n        setTimeout(copyCanvas);\n\n        if (creator === \'user\') {\n          setShowLayerDraw(false);\n        }\n      }\n    };\n\n    pCanvasController.on(\'addLayer\', onAddLayer);\n    pCanvasController.on(\'contentChange\', onContentChange);\n    pCanvasController.on(\'focusLayer\', onFocusLayer);\n    pCanvasController.on(\'removeLayer\', onRemoveLayer);\n    return () => {\n      pCanvasController.off(\'contentChange\', onContentChange);\n      pCanvasController.off(\'addLayer\', onAddLayer);\n      pCanvasController.off(\'focusLayer\', onFocusLayer);\n      pCanvasController.off(\'removeLayer\', onRemoveLayer);\n    };\n  }, []);\n\n  const addLayer = () => {\n    pCanvasController.addLayer();\n  };\n\n  const focusLayer = layerDetail => {\n    pCanvasController.focusLayer(layerDetail);\n  };\n\n  const onRemove = layerDetail => {\n    pCanvasController.removeLayer(layerDetail);\n  };\n\n  const listItemLRender = (layer, index) => {\n    const {\n      visible,\n      layerId,\n      name\n    } = layer;\n    return external_React_default.a.createElement(external_antd_["List"].Item, {\n      className: layerId === activeLayerId ? style_default.a.active : \'\'\n    }, external_React_default.a.createElement(external_antd_["List"].Item.Meta, {\n      avatar: external_React_default.a.createElement("canvas", {\n        onPointerUp: () => focusLayer(layer),\n        key: layerId,\n        id: layerId,\n        ref: ref => {\n          canvasesRef.current[layerId] = ref;\n        },\n        className: style_default.a.canvases,\n        width: "45",\n        height: "45"\n      }),\n      title: external_React_default.a.createElement("span", null, `layer ${layers.length - index}`),\n      description: external_React_default.a.createElement("div", null, external_React_default.a.createElement("span", null, visible ? "visible" : "unvisible"), external_React_default.a.createElement("span", {\n        onPointerUp: () => onRemove(layer)\n      }, "remove"))\n    }));\n  };\n\n  return external_React_default.a.createElement("div", null, external_React_default.a.createElement(external_antd_["Tag"], {\n    onPointerUp: showLayerPannel\n  }, "111"), external_React_default.a.createElement(external_antd_["Drawer"], {\n    title: null,\n    width: 200,\n    visible: showLayerDraw,\n    onClose: showLayerPannel,\n    mask: false,\n    className: style_default.a.layerDrawer\n  }, external_React_default.a.createElement(external_antd_["List"], {\n    header: external_React_default.a.createElement("span", {\n      onPointerUp: addLayer\n    }, "addlayer +"),\n    className: style_default.a.pannelWrap,\n    itemLayout: "horizontal",\n    dataSource: layers,\n    rowKey: "layerId",\n    renderItem: listItemLRender\n  })));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlLWNvcHktbGF5ZXIudHM/OGI2YyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9sYXllci1wYW5uZWwvaW5kZXgudHN4PzA3YmYiXSwibmFtZXMiOlsibWFwQ2FudmFzIiwic3JjQ2FudmFzIiwidGFyZ2V0Q2FudmFzIiwidGFyZ2V0Q3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiY29wQ2FudmFzIiwibmVlZENvcHlSZWYiLCJjYW52YXNlc1JlZiIsIm5lZWRDb3B5TGF5ZXJzIiwiY3VycmVudCIsImxheWVySWQiLCJjbnZhc01hcCIsIm5lZWRDb3B5cyIsImZvckVhY2giLCJsYSIsImNvbnNvbGUiLCJsb2ciLCJjYW52YXMiLCJpbmQiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJsYXllcnMiLCJjb3B5Q2FudmFzIiwidXNlRWZmZWN0IiwicENhbnZhc0NvbnRyb2xsZXIiLCJzZXRMYXllcnMiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIm5lZWRVcGRhdGVSZWYiLCJ1c2VDb3B5TGF5ZXIiLCJhY3RpdmVMYXllcklkIiwic2V0QWN0aXZlTGF5ZXJJZCIsInNob3dMYXllckRyYXciLCJzZXRTaG93TGF5ZXJEcmF3Iiwic2hvd0xheWVyUGFubmVsIiwic2hvdyIsInNldFRpbWVvdXQiLCJpbml0IiwiYWxsTGF5ZXJzIiwiZ2V0TGF5ZXJzIiwicHVzaCIsInByZSIsIm9uIiwib2ZmIiwib25Gb2N1c0xheWVyIiwiZGF0YSIsImxheWVyRGV0YWlsIiwib25BZGRMYXllciIsInByZUxheWVycyIsIm9uUmVtb3ZlTGF5ZXIiLCJpbmRleCIsImluZGV4T2YiLCJvbkNvbnRlbnRDaGFuZ2UiLCJ0YWciLCJjcmVhdG9yIiwiYWRkTGF5ZXIiLCJmb2N1c0xheWVyIiwib25SZW1vdmUiLCJyZW1vdmVMYXllciIsImxpc3RJdGVtTFJlbmRlciIsImxheWVyIiwidmlzaWJsZSIsIm5hbWUiLCJzdHlsZXMiLCJhY3RpdmUiLCJyZWYiLCJjYW52YXNlcyIsImxlbmd0aCIsImxheWVyRHJhd2VyIiwicGFubmVsV3JhcCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUtPLE1BQU1BLFNBQVMsR0FBRyxDQUFDQyxTQUFELEVBQThCQyxZQUE5QixLQUFrRTtBQUN2RixRQUFNQyxTQUFTLEdBQUdELFlBQVksQ0FBQ0UsVUFBYixDQUF3QixJQUF4QixDQUFsQjs7QUFDQSxNQUFHRCxTQUFILEVBQWE7QUFDVEEsYUFBUyxDQUFDRSxTQUFWLENBQW9CLENBQXBCLEVBQXNCLENBQXRCLEVBQXdCSCxZQUFZLENBQUNJLEtBQXJDLEVBQTRDSixZQUFZLENBQUNLLE1BQXpEO0FBQ0FKLGFBQVMsQ0FBQ0ssU0FBVixDQUFvQlAsU0FBcEIsRUFBK0IsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUNBLFNBQVMsQ0FBQ0ssS0FBL0MsRUFBc0RMLFNBQVMsQ0FBQ00sTUFBaEUsRUFBd0UsQ0FBeEUsRUFBMkUsQ0FBM0UsRUFBOEVMLFlBQVksQ0FBQ0ksS0FBM0YsRUFBa0dKLFlBQVksQ0FBQ0ssTUFBL0c7QUFDSDtBQUNKLENBTk07O0FBT1AsTUFBTUUsU0FBUyxHQUFHLENBQ2RDLFdBRGMsRUFFZEMsV0FGYyxLQUdiO0FBQ0QsUUFBTUMsY0FBNkIsR0FBRSxpQkFBT0YsV0FBVyxDQUFDRyxPQUFuQixFQUE0QixDQUFDO0FBQUNDO0FBQUQsR0FBRCxLQUEyQkEsT0FBdkQsQ0FBckM7O0FBQ0EsUUFBTUMsUUFBUSxHQUFHSixXQUFXLENBQUNFLE9BQTdCLENBRkMsQ0FHRDs7QUFFQSxRQUFNRyxTQUFTLEdBQUcsQ0FBQyxHQUFHSixjQUFKLENBQWxCO0FBQ0FJLFdBQVMsQ0FBQ0MsT0FBVixDQUFtQkMsRUFBRSxJQUFJO0FBQ3ZCLFVBQU1qQixTQUFTLEdBQUdjLFFBQVEsQ0FBQ0csRUFBRSxDQUFDSixPQUFKLENBQTFCOztBQUNF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LFdBQUcsRUFBR3VELEdBQUQsSUFBMEI7QUFDM0IxRCxxQkFBVyxDQUFDRSxPQUFaLENBQW9CQyxPQUFwQixJQUErQnVELEdBQS9CO0FBQ0gsU0FOTDtBQU9JLGlCQUFTLEVBQUVGLGVBQU0sQ0FBQ0csUUFQdEI7QUFRSSxhQUFLLEVBQUMsSUFSVjtBQVNJLGNBQU0sRUFBQztBQVRYLFFBRko7QUFjSSxXQUFLLEVBQUUscURBQVEsU0FBUTdDLE1BQU0sQ0FBQzhDLE1BQVAsR0FBZ0JqQixLQUFNLEVBQXRDLENBZFg7QUFlSSxpQkFBVyxFQUNQLG9EQUNJLHFEQUFPVyxPQUFPLEdBQUUsU0FBRixHQUFhLFdBQTNCLENBREosRUFFSTtBQUFNLG1CQUFXLEVBQUcsTUFBTUosUUFBUSxDQUFDRyxLQUFEO0FBQWxDLGtCQUZKO0FBaEJSLE1BSEQsQ0FBUDtBQTBCQyxHQTVCTDs7QUE4QkEsU0FBTyxvREFDSyx1Q0FBQyxxQkFBRDtBQUFLLGVBQVcsRUFBRTFCO0FBQWxCLFdBREwsRUFFSyx1Q0FBQyx3QkFBRDtBQUNJLFNBQUssRUFBRSxJQURYO0FBRUksU0FBSyxFQUFFLEdBRlg7QUFHSSxXQUFPLEVBQUVGLGFBSGI7QUFJSSxXQUFPLEVBQUVFLGVBSmI7QUFLSSxRQUFJLEVBQUUsS0FMVjtBQU1JLGFBQVMsRUFBRTZCLGVBQU0sQ0FBQ0s7QUFOdEIsS0FRSSx1Q0FBQyxzQkFBRDtBQUNJLFVBQU0sRUFBRTtBQUFNLGlCQUFXLEVBQUViO0FBQW5CLG9CQURaO0FBRUksYUFBUyxFQUFFUSxlQUFNLENBQUNNLFVBRnRCO0FBR0ksY0FBVSxFQUFDLFlBSGY7QUFJSSxjQUFVLEVBQUVoRCxNQUpoQjtBQUtJLFVBQU0sRUFBQyxTQUxYO0FBTUksY0FBVSxFQUFFc0M7QUFOaEIsSUFSSixDQUZMLENBQVA7QUFvQkgsQ0E3SUQiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheWVyRGV0YWlsIH0gZnJvbSBcIi4uL3dvcmtTdG9yYWdlXCJcbmltcG9ydCB7IHVzZUVmZmVjdCwgTXV0YWJsZVJlZk9iamVjdCB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1bmlxQnkgfSBmcm9tICdsb2Rhc2gnXG5cbmV4cG9ydCB0eXBlIENhbnZhc01hcCA9IHtbbGF5ZXJJZDpzdHJpbmddOkhUTUxDYW52YXNFbGVtZW50fVxuXG5leHBvcnQgY29uc3QgbWFwQ2FudmFzID0gKHNyY0NhbnZhczpIVE1MQ2FudmFzRWxlbWVudCwgdGFyZ2V0Q2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmKHRhcmdldEN0eCl7XG4gICAgICAgIHRhcmdldEN0eC5jbGVhclJlY3QoMCwwLHRhcmdldENhbnZhcy53aWR0aCwgdGFyZ2V0Q2FudmFzLmhlaWdodClcbiAgICAgICAgdGFyZ2V0Q3R4LmRyYXdJbWFnZShzcmNDYW52YXMsIDAsIDAsIHNyY0NhbnZhcy53aWR0aCwgc3JjQ2FudmFzLmhlaWdodCwgMCwgMCwgdGFyZ2V0Q2FudmFzLndpZHRoLCB0YXJnZXRDYW52YXMuaGVpZ2h0KVxuICAgIH1cbn1cbmNvbnN0IGNvcENhbnZhcyA9ICggICBcbiAgICBuZWVkQ29weVJlZjogTXV0YWJsZVJlZk9iamVjdDxMYXllckRldGFpbFtdPiwgXG4gICAgY2FudmFzZXNSZWY6IE11dGFibGVSZWZPYmplY3Q8Q2FudmFzTWFwPlxuKSA9PiB7XG4gICAgY29uc3QgbmVlZENvcHlMYXllcnM6IExheWVyRGV0YWlsW10gPXVuaXFCeShuZWVkQ29weVJlZi5jdXJyZW50LCAoe2xheWVySWR9OkxheWVyRGV0YWlsKSA9PiBsYXllcklkIClcbiAgICBjb25zdCBjbnZhc01hcCA9IGNhbnZhc2VzUmVmLmN1cnJlbnRcbiAgICAvLyBjb25zb2xlLmxvZygnYy4uLicsIG5lZWRDb3B5TGF5ZXJzKVxuXG4gICAgY29uc3QgbmVlZENvcHlzID0gWy4uLm5lZWRDb3B5TGF5ZXJzXVxuICAgIG5lZWRDb3B5cy5mb3JFYWNoKCBsYSA9PiB7XG4gICAgICBjb25zdCBzcmNDYW52YXMgPSBjbnZhc01hcFtsYS5sYXllcklkXVxuICAgICAgICBpZihzcmNDYW52YXMpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21hcC4uJywgbGEubGF5ZXJJZClcbiAgICAgICAgICAgIG1hcENhbnZhcyhsYS5jYW52YXMsIHNyY0NhbnZhcyApXG4gICAgICAgICAgICBjb25zdCBpbmQgPSBuZWVkQ29weVJlZi5jdXJyZW50LmZpbmRJbmRleCggKHtsYXllcklkfSkgPT4gbGF5ZXJJZCA9PT0gbGEubGF5ZXJJZCApXG4gICAgICAgICAgICBuZWVkQ29weVJlZi5jdXJyZW50LnNwbGljZShpbmQsIDEpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCAoXG4gICAgbGF5ZXJzOiBMYXllckRldGFpbFtdLCBcbiAgICBuZWVkQ29weVJlZjogTXV0YWJsZVJlZk9iamVjdDxMYXllckRldGFpbFtdPiwgXG4gICAgY2FudmFzZXNSZWY6IE11dGFibGVSZWZPYmplY3Q8Q2FudmFzTWFwPlxuICAgICkgPT4ge1xuICAgIGNvbnN0IGNvcHlDYW52YXMgPSAoKSA9PiBjb3BDYW52YXMobmVlZENvcHlSZWYsIGNhbnZhc2VzUmVmKVxuICAgIHVzZUVmZmVjdChjb3B5Q2FudmFzLCBbbGF5ZXJzXSlcbiAgICByZXR1cm4geyBjb3B5Q2FudmFzIH1cbn1cblxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZVJlZiwgTXV0YWJsZVJlZk9iamVjdCwgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBUb29sdGlwLCBMaXN0LCBEcmF3ZXIsIFRhZywgRGl2aWRlciB9IGZyb20gJ2FudGQnXG5pbXBvcnQgeyBQQ2FudmFzQ29udHJvbGxlciwgQ2FudmFzRXZlbnREYXRhIH0gZnJvbSAnLi4vLi4vLi4vcGNhbnZhcy9wY252YXMuY29udHJvbGxlcidcbmltcG9ydCB7IExheWVyRGV0YWlsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vd29ya1N0b3JhZ2UnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vc3R5bGUubGVzcydcbmltcG9ydCB1c2VDb3B5TGF5ZXIgZnJvbSAnLi4vLi4vLi4vLi4vLi4vaG9va3MvdXNlLWNvcHktbGF5ZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgIExheWVyUHJvcHN7XG4gICAgcENhbnZhc0NvbnRyb2xsZXI6IFBDYW52YXNDb250cm9sbGVyXG59XG5cblxuZXhwb3J0IGRlZmF1bHQgKHsgcENhbnZhc0NvbnRyb2xsZXIgfTogTGF5ZXJQcm9wcykgPT4ge1xuXG4gICAgY29uc3QgW2xheWVycywgc2V0TGF5ZXJzXSA9IHVzZVN0YXRlPExheWVyRGV0YWlsW10+KFtdKVxuXG4gICAgY29uc3QgY2FudmFzZXNSZWYgPSB1c2VSZWY8e1tsYXllcklkOiBzdHJpbmddOkhUTUxDYW52YXNFbGVtZW50fT4oe30pXG5cbiAgICBjb25zdCBuZWVkVXBkYXRlUmVmID0gdXNlUmVmPExheWVyRGV0YWlsW10+KFtdKVxuXG4gICAgY29uc3QgeyBjb3B5Q2FudmFzIH0gPSAgdXNlQ29weUxheWVyKGxheWVycywgbmVlZFVwZGF0ZVJlZiwgY2FudmFzZXNSZWYpXG5cbiAgICBjb25zdCBbIGFjdGl2ZUxheWVySWQsIHNldEFjdGl2ZUxheWVySWQgXSA9IHVzZVN0YXRlKCcnKVxuXG4gICAgY29uc3QgWyBzaG93TGF5ZXJEcmF3LCBzZXRTaG93TGF5ZXJEcmF3IF0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAgXG4gICAgY29uc3Qgc2hvd0xheWVyUGFubmVsID0gKCkgPT4ge1xuICAgICAgICBzZXRTaG93TGF5ZXJEcmF3KCBzaG93ID0+IHtcbiAgICAgICAgICAgIGlmKCFzaG93KXtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChjb3B5Q2FudmFzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFzaG93XG4gICAgICAgIH0pXG4gICAgfVxuICAgXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxsTGF5ZXJzID0gYXdhaXQgcENhbnZhc0NvbnRyb2xsZXIuZ2V0TGF5ZXJzKCkgXG4gICAgICAgICAgICBsZXQgbGF5ZXJzOiBMYXllckRldGFpbFtdID1bLi4uYWxsTGF5ZXJzXVxuICAgICAgICAgICAgbmVlZFVwZGF0ZVJlZi5jdXJyZW50LnB1c2goLi4uYWxsTGF5ZXJzKVxuICAgICAgICAgICAgc2V0TGF5ZXJzKHByZSA9PiBbLi4ucHJlLC4uLmxheWVyc10pXG4gICAgICAgIH1cbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub24oJ2luaXQnLCBpbml0KVxuICAgICAgIHJldHVybiAoKSA9PiBwQ2FudmFzQ29udHJvbGxlci5vZmYoJ2luaXQnLCBpbml0KVxuICAgIH0sW10pXG4gICBcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG5cbiAgICAgICAgY29uc3Qgb25Gb2N1c0xheWVyID0gKCB7ZGF0YToge2xheWVyRGV0YWlsfX06IENhbnZhc0V2ZW50RGF0YVsnZm9jdXNMYXllciddKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnb25Gb2N1c0xheWVyLi4uJylcbiAgICAgICAgICAgIHNldEFjdGl2ZUxheWVySWQobGF5ZXJEZXRhaWwubGF5ZXJJZClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbkFkZExheWVyID0gKCB7ZGF0YToge2xheWVyRGV0YWlsfX06IENhbnZhc0V2ZW50RGF0YVsnYWRkTGF5ZXInXSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ29uQWRkTGF5ZXInKVxuICAgICAgICAgICAgbmVlZFVwZGF0ZVJlZi5jdXJyZW50LnB1c2gobGF5ZXJEZXRhaWwpXG4gICAgICAgICAgICBzZXRMYXllcnMoIHByZUxheWVycyA9PiAgW2xheWVyRGV0YWlsLCAuLi5wcmVMYXllcnNdKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9uUmVtb3ZlTGF5ZXIgPSAoIHsgZGF0YTp7bGF5ZXJEZXRhaWx9fTpDYW52YXNFdmVudERhdGFbJ3JlbW92ZUxheWVyJ10pID0+IHtcbiAgICAgICAgICAgIHNldExheWVycyggcHJlTGF5ZXJzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHByZUxheWVycy5pbmRleE9mKGxheWVyRGV0YWlsKVxuICAgICAgICAgICAgICAgIGlmKGluZGV4ID4gLTEpe1xuICAgICAgICAgICAgICAgICAgICBwcmVMYXllcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZUxheWVyc11cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb25Db250ZW50Q2hhbmdlID0gKHsgZGF0YTp7IGxheWVyRGV0YWlsfSwgdGFnOiBjcmVhdG9yfTpDYW52YXNFdmVudERhdGFbJ2NvbnRlbnRDaGFuZ2UnXSkgPT4ge1xuICAgICAgICAgICAgaWYobGF5ZXJEZXRhaWwpe1xuICAgICAgICAgICAgICAgIG5lZWRVcGRhdGVSZWYuY3VycmVudC5wdXNoKGxheWVyRGV0YWlsKVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY29weUNhbnZhcylcbiAgICAgICAgICAgICAgICBpZihjcmVhdG9yID09PSAndXNlcicpe1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93TGF5ZXJEcmF3KCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub24oJ2FkZExheWVyJywgb25BZGRMYXllcilcbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub24oJ2NvbnRlbnRDaGFuZ2UnLCBvbkNvbnRlbnRDaGFuZ2UpXG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uKCdmb2N1c0xheWVyJywgb25Gb2N1c0xheWVyKVxuICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5vbigncmVtb3ZlTGF5ZXInLCBvblJlbW92ZUxheWVyKVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub2ZmKCdjb250ZW50Q2hhbmdlJywgb25Db250ZW50Q2hhbmdlKVxuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub2ZmKCdhZGRMYXllcicsIG9uQWRkTGF5ZXIpXG4gICAgICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5vZmYoJ2ZvY3VzTGF5ZXInLCBvbkZvY3VzTGF5ZXIpXG4gICAgICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5vZmYoJ3JlbW92ZUxheWVyJywgb25SZW1vdmVMYXllcilcbiAgICAgICAgfVxuICAgIH0sIFtdKVxuICAgXG5cbiAgICBjb25zdCBhZGRMYXllciA9KCkgPT4ge1xuICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5hZGRMYXllcigpXG4gICAgfVxuXG4gICAgY29uc3QgZm9jdXNMYXllciA9IChsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpID0+IHtcbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIuZm9jdXNMYXllcihsYXllckRldGFpbClcbiAgICB9XG5cbiAgICBjb25zdCBvblJlbW92ZSA9IChsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpID0+IHtcbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIucmVtb3ZlTGF5ZXIobGF5ZXJEZXRhaWwpXG4gICAgfVxuXG4gICAgY29uc3QgbGlzdEl0ZW1MUmVuZGVyID0gKCBsYXllcjogTGF5ZXJEZXRhaWwsIGluZGV4OiBudW1iZXIgKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdmlzaWJsZSwgbGF5ZXJJZCwgbmFtZSB9ID0gbGF5ZXJcbiAgICAgICAgcmV0dXJuIDxMaXN0Lkl0ZW1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2xheWVySWQgPT09IGFjdGl2ZUxheWVySWQ/IHN0eWxlcy5hY3RpdmUgOiAnJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGlzdC5JdGVtLk1ldGFcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyPXtcbiAgICAgICAgICAgICAgICAgICAgPGNhbnZhcyBcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlclVwPXsoKSA9PiBmb2N1c0xheWVyKGxheWVyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bGF5ZXJJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtsYXllcklkfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsocmVmOkhUTUxDYW52YXNFbGVtZW50KT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNlc1JlZi5jdXJyZW50W2xheWVySWRdID0gcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICB9fSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhbnZhc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCI0NVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiNDVcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDwvY2FudmFzPn1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9ezxzcGFuPntgbGF5ZXIgJHtsYXllcnMubGVuZ3RoIC0gaW5kZXh9YH08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17IFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dmlzaWJsZT8gXCJ2aXNpYmxlXCI6IFwidW52aXNpYmxlXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIG9uUG9pbnRlclVwPXsgKCkgPT4gb25SZW1vdmUobGF5ZXIpfSA+cmVtb3ZlPC9zcGFuPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9MaXN0Lkl0ZW0+XG4gICAgICAgIH1cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgICAgICAgIDxUYWcgb25Qb2ludGVyVXA9e3Nob3dMYXllclBhbm5lbH0+MTExPC9UYWc+XG4gICAgICAgICAgICAgICAgPERyYXdlclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17bnVsbH1cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezIwMH1cbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZT17c2hvd0xheWVyRHJhd31cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17c2hvd0xheWVyUGFubmVsfVxuICAgICAgICAgICAgICAgICAgICBtYXNrPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMubGF5ZXJEcmF3ZXJ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8TGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyPXs8c3BhbiBvblBvaW50ZXJVcD17YWRkTGF5ZXJ9PmFkZGxheWVyICs8L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucGFubmVsV3JhcH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1MYXlvdXQ9XCJob3Jpem9udGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U9e2xheWVyc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0tleT1cImxheWVySWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVySXRlbT17bGlzdEl0ZW1MUmVuZGVyfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRHJhd2VyPlxuICAgICAgICAgICAgPC9kaXY+XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7\n')},77:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Home; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_less__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(93);\n\n\n\n\n\nfunction Home({\n  className = \'\',\n  headNode = null,\n  asideClass = \'\',\n  asideNode = null,\n  children = null,\n  beforeBack,\n  showBackButton = true,\n  contentClassName = \'\'\n}) {\n  const onGoBack = async () => {\n    if (beforeBack && (await beforeBack()) || !beforeBack) {\n      _app__WEBPACK_IMPORTED_MODULE_2__[/* history */ "b"].goBack();\n    }\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {\n    className: `${_style_less__WEBPACK_IMPORTED_MODULE_1___default.a.section} ${className}`\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, showBackButton && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__["Button"], {\n    ghost: true,\n    onPointerUp: onGoBack,\n    shape: "circle",\n    size: "small",\n    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_4__[/* default */ "a"], null)\n  }),  false && false, headNode), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: _style_less__WEBPACK_IMPORTED_MODULE_1___default.a.wrapper\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", {\n    className: asideClass\n  }, asideNode), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {\n    className: contentClassName\n  }, children)));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGF1b3V0L0Jhc2ljTGF5b3V0LnRzeD80MWQyIl0sIm5hbWVzIjpbIkhvbWUiLCJjbGFzc05hbWUiLCJoZWFkTm9kZSIsImFzaWRlQ2xhc3MiLCJhc2lkZU5vZGUiLCJjaGlsZHJlbiIsImJlZm9yZUJhY2siLCJzaG93QmFja0J1dHRvbiIsImNvbnRlbnRDbGFzc05hbWUiLCJvbkdvQmFjayIsImhpc3RvcnkiLCJnb0JhY2siLCJzdHlsZSIsInNlY3Rpb24iLCJwcm9jZXNzIiwid3JhcHBlciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFlLFNBQVNBLElBQVQsQ0FBZTtBQUMxQkMsV0FBUyxHQUFDLEVBRGdCO0FBRTFCQyxVQUFRLEdBQUMsSUFGaUI7QUFHMUJDLFlBQVUsR0FBQyxFQUhlO0FBSTFCQyxXQUFTLEdBQUMsSUFKZ0I7QUFLMUJDLFVBQVEsR0FBQyxJQUxpQjtBQU0xQkMsWUFOMEI7QUFPMUJDLGdCQUFjLEdBQUUsSUFQVTtBQVExQkMsa0JBQWdCLEdBQUM7QUFSUyxDQUFmLEVBU0s7QUFFaEIsUUFBTUMsUUFBUSxHQUFHLFlBQVk7QUFDekIsUUFBSUgsVUFBVSxLQUFJLE1BQU1BLFVBQVUsRUFBcEIsQ0FBWCxJQUFxQyxDQUFDQSxVQUF6QyxFQUFvRDtBQUNoREksMERBQU8sQ0FBQ0MsTUFBUjtBQUNIO0FBQ0osR0FKRDs7QUFNQSxTQUFPO0FBQ0gsYUFBUyxFQUFHLEdBQUVDLGtEQUFLLENBQUNDLE9BQVEsSUFBR1osU0FBVTtBQUR0QyxLQUdQLDJFQUVPTSxjQUFjLElBQ2QsMkRBQUMsMkNBQUQ7QUFDQyxTQUFLLEVBQUUsSUFEUjtBQUVDLGVBQVcsRUFBRUUsUUFGZDtBQUdDLFNBQUssRUFBQyxRQUhQO0FBSUMsUUFBSSxFQUFDLE9BSk47QUFLQyxRQUFJLEVBQUUsMkRBQUMsaUVBQUQ7QUFMUCxJQUhQLEVBWVFLLE1BQUEsSUFDQSxLQWJSLEVBcUJLWixRQXJCTCxDQUhPLEVBMEJQO0FBQUssYUFBUyxFQUFFVSxrREFBSyxDQUFDRztBQUF0QixLQUNJO0FBQU8sYUFBUyxFQUFFWjtBQUFsQixLQUNLQyxTQURMLENBREosRUFJSTtBQUFNLGFBQVMsRUFBRUk7QUFBakIsS0FDS0gsUUFETCxDQUpKLENBMUJPLENBQVA7QUFtQ0giLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUmVhY3RFbGVtZW50LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBzdHlsZSBmcm9tICcuL3N0eWxlLmxlc3MnXG5pbXBvcnQgeyBoaXN0b3J5IH0gZnJvbSAnLi4vYXBwJ1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnYW50ZCdcbmltcG9ydCB7IExlZnRPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2ljTGF5b3V0UHJvcHMge1xuICAgIGNvbnRlbnRDbGFzc05hbWU/OiBzdHJpbmcsXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nXG4gICAgaGVhZE5vZGU/OiBSZWFjdE5vZGUsXG4gICAgYXNpZGVDbGFzcz86c3RyaW5nLFxuICAgIGFzaWRlTm9kZT86UmVhY3ROb2RlLCBcbiAgICBjaGlsZHJlbj86UmVhY3ROb2RlLFxuICAgIGJlZm9yZUJhY2s/OiAoKSA9PiBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbixcbiAgICBzaG93QmFja0J1dHRvbj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSAoe1xuICAgIGNsYXNzTmFtZT0nJywgXG4gICAgaGVhZE5vZGU9bnVsbCwgXG4gICAgYXNpZGVDbGFzcz0nJywgXG4gICAgYXNpZGVOb2RlPW51bGwsIFxuICAgIGNoaWxkcmVuPW51bGwsIFxuICAgIGJlZm9yZUJhY2ssIFxuICAgIHNob3dCYWNrQnV0dG9uID10cnVlLFxuICAgIGNvbnRlbnRDbGFzc05hbWU9JycsXG59OiBCYXNpY0xheW91dFByb3BzKXtcbiAgICBcbiAgICBjb25zdCBvbkdvQmFjayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYoKGJlZm9yZUJhY2sgJiYgYXdhaXQgYmVmb3JlQmFjaygpKXx8ICFiZWZvcmVCYWNrKXtcbiAgICAgICAgICAgIGhpc3RvcnkuZ29CYWNrKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiA8c2VjdGlvbiBcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtzdHlsZS5zZWN0aW9ufSAke2NsYXNzTmFtZX1gfVxuICAgID5cbiAgICA8aGVhZGVyPlxuICAgICAgICB7XG4gICAgICAgICAgIHNob3dCYWNrQnV0dG9uICYmIFxuICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgZ2hvc3Q9e3RydWV9XG4gICAgICAgICAgICBvblBvaW50ZXJVcD17b25Hb0JhY2t9XG4gICAgICAgICAgICBzaGFwZT1cImNpcmNsZVwiXG4gICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgaWNvbj17PExlZnRPdXRsaW5lZCAvPn1cbiAgICAgICAgICAgID48L0J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5CVUlMRF9FTlYgPT09ICdkZXZlbG9wbWVudCcmJlxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgIGdob3N0PXt0cnVlfVxuICAgICAgICAgICAgb25Qb2ludGVyVXA9eygpID0+IGxvY2F0aW9uLnJlbG9hZCgpfVxuICAgICAgICAgICAgc2hhcGU9XCJjaXJjbGVcIlxuICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgID5yZWxvYWQ8L0J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAge2hlYWROb2RlfVxuICAgIDwvaGVhZGVyPlxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZS53cmFwcGVyfT5cbiAgICAgICAgPGFzaWRlIGNsYXNzTmFtZT17YXNpZGVDbGFzc30gPlxuICAgICAgICAgICAge2FzaWRlTm9kZX1cbiAgICAgICAgPC9hc2lkZT5cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPXtjb250ZW50Q2xhc3NOYW1lfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9tYWluPlxuICAgIDwvZGl2PlxuPC9zZWN0aW9uPlxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///77\n')},78:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"section":"section_c21f7","wrapper":"wrapper_e44d8"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGF1b3V0L3N0eWxlLmxlc3M/Y2U2ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtCQUFrQiIsImZpbGUiOiI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWN0aW9uXCI6XCJzZWN0aW9uX2MyMWY3XCIsXCJ3cmFwcGVyXCI6XCJ3cmFwcGVyX2U0NGQ4XCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///78\n')},9:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _record__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4);\n\n\n\n\nconst defaultWidth = 1;\nconst defaultOpacity = 1;\n/* harmony default export */ __webpack_exports__["default"] = (({\n  pCanvasController\n}) => {\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (pCanvasController) {\n      const onInit = () => {\n        pCanvasController.setBrushWidth(defaultWidth);\n        pCanvasController.setOpacity(defaultOpacity);\n      };\n\n      pCanvasController.on(\'init\', onInit);\n      return () => pCanvasController.off(\'init\', onInit);\n    }\n\n    pCanvasController && pCanvasController;\n  }, []);\n\n  const onWidthChange = width => {\n    pCanvasController && pCanvasController.setBrushWidth(width);\n  };\n\n  const onOpacityChange = op => {\n    pCanvasController && pCanvasController.setOpacity(op);\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: _index_less__WEBPACK_IMPORTED_MODULE_2___default.a.asideTool\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Divider"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Slider"], {\n    defaultValue: defaultWidth,\n    vertical: true,\n    min: 1,\n    max: 200,\n    step: 1,\n    onChange: onWidthChange\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Divider"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Slider"], {\n    vertical: true,\n    defaultValue: defaultOpacity,\n    min: 0,\n    max: 1,\n    step: 0.01,\n    onChange: onOpacityChange\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Divider"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_record__WEBPACK_IMPORTED_MODULE_3__["default"], {\n    pCanvasController: pCanvasController\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_1__["Divider"], null));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvYXNpZGUtdG9vbC1iYXIvaW5kZXgudHN4P2I3NGEiXSwibmFtZXMiOlsiZGVmYXVsdFdpZHRoIiwiZGVmYXVsdE9wYWNpdHkiLCJwQ2FudmFzQ29udHJvbGxlciIsInVzZUVmZmVjdCIsIm9uSW5pdCIsInNldEJydXNoV2lkdGgiLCJzZXRPcGFjaXR5Iiwib24iLCJvZmYiLCJvbldpZHRoQ2hhbmdlIiwid2lkdGgiLCJvbk9wYWNpdHlDaGFuZ2UiLCJvcCIsInN0eWxlcyIsImFzaWRlVG9vbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBTUEsTUFBTUEsWUFBWSxHQUFHLENBQXJCO0FBRUEsTUFBTUMsY0FBYyxHQUFHLENBQXZCO0FBQ2UsZ0VBQUM7QUFBQ0M7QUFBRCxDQUFELEtBQTJDO0FBRXREQyx5REFBUyxDQUFDLE1BQU07QUFDWixRQUFHRCxpQkFBSCxFQUFxQjtBQUNqQixZQUFNRSxNQUFNLEdBQUcsTUFBTTtBQUNqQkYseUJBQWlCLENBQUNHLGFBQWxCLENBQWdDTCxZQUFoQztBQUNBRSx5QkFBaUIsQ0FBQ0ksVUFBbEIsQ0FBNkJMLGNBQTdCO0FBQ0gsT0FIRDs7QUFJQUMsdUJBQWlCLENBQUNLLEVBQWxCLENBQXFCLE1BQXJCLEVBQTZCSCxNQUE3QjtBQUNELGFBQU8sTUFBTUYsaUJBQWlCLENBQUNNLEdBQWxCLENBQXNCLE1BQXRCLEVBQThCSixNQUE5QixDQUFiO0FBQ0Y7O0FBQ0RGLHFCQUFpQixJQUFJQSxpQkFBckI7QUFDSCxHQVZRLEVBVVAsRUFWTyxDQUFUOztBQVlBLFFBQU1PLGFBQWEsR0FBSUMsS0FBRCxJQUFtQjtBQUNyQ1IscUJBQWlCLElBQUlBLGlCQUFpQixDQUFDRyxhQUFsQixDQUFnQ0ssS0FBaEMsQ0FBckI7QUFDSCxHQUZEOztBQUdBLFFBQU1DLGVBQWUsR0FBSUMsRUFBRCxJQUFlO0FBQ25DVixxQkFBaUIsSUFBSUEsaUJBQWlCLENBQUNJLFVBQWxCLENBQTZCTSxFQUE3QixDQUFyQjtBQUNILEdBRkQ7O0FBSUEsU0FBTztBQUFLLGFBQVMsRUFBRUMsa0RBQU0sQ0FBQ0M7QUFBdkIsS0FDSCwyREFBQyw0Q0FBRCxPQURHLEVBRUMsMkRBQUMsMkNBQUQ7QUFDSSxnQkFBWSxFQUFFZCxZQURsQjtBQUVJLFlBQVEsTUFGWjtBQUdJLE9BQUcsRUFBRSxDQUhUO0FBR1ksT0FBRyxFQUFFLEdBSGpCO0FBR3NCLFFBQUksRUFBRSxDQUg1QjtBQUlJLFlBQVEsRUFBRVM7QUFKZCxJQUZELEVBUUMsMkRBQUMsNENBQUQsT0FSRCxFQVNDLDJEQUFDLDJDQUFEO0FBQ0ksWUFBUSxNQURaO0FBRUksZ0JBQVksRUFBRVIsY0FGbEI7QUFHSSxPQUFHLEVBQUUsQ0FIVDtBQUdZLE9BQUcsRUFBRSxDQUhqQjtBQUdvQixRQUFJLEVBQUUsSUFIMUI7QUFJSSxZQUFRLEVBQUVVO0FBSmQsSUFURCxFQWVDLDJEQUFDLDRDQUFELE9BZkQsRUFnQkMsMkRBQUMsK0NBQUQ7QUFBUSxxQkFBaUIsRUFBRVQ7QUFBM0IsSUFoQkQsRUFpQkgsMkRBQUMsNENBQUQsT0FqQkcsQ0FBUDtBQXFCSCxDQTFDRCIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUENhbnZhc0NvbnRyb2xsZXIgfSBmcm9tICcuLi9wY2FudmFzJ1xuaW1wb3J0IHsgU2xpZGVyLCBEaXZpZGVyIH0gZnJvbSAnYW50ZCdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5sZXNzJ1xuaW1wb3J0IFJlY29yZCBmcm9tICcuL3JlY29yZCdcblxuZXhwb3J0IGludGVyZmFjZSBBc2lkZVRvb2xCYXJQcm9wcyB7XG4gICAgcENhbnZhc0NvbnRyb2xsZXI6UENhbnZhc0NvbnRyb2xsZXJcbn1cblxuY29uc3QgZGVmYXVsdFdpZHRoID0gMTtcblxuY29uc3QgZGVmYXVsdE9wYWNpdHkgPSAxO1xuZXhwb3J0IGRlZmF1bHQgKHtwQ2FudmFzQ29udHJvbGxlcn06QXNpZGVUb29sQmFyUHJvcHMpID0+IHtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmKHBDYW52YXNDb250cm9sbGVyKXtcbiAgICAgICAgICAgIGNvbnN0IG9uSW5pdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5zZXRCcnVzaFdpZHRoKGRlZmF1bHRXaWR0aClcbiAgICAgICAgICAgICAgICBwQ2FudmFzQ29udHJvbGxlci5zZXRPcGFjaXR5KGRlZmF1bHRPcGFjaXR5KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub24oJ2luaXQnLCBvbkluaXQpXG4gICAgICAgICAgIHJldHVybiAoKSA9PiBwQ2FudmFzQ29udHJvbGxlci5vZmYoJ2luaXQnLCBvbkluaXQpXG4gICAgICAgIH1cbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIgJiYgcENhbnZhc0NvbnRyb2xsZXJcbiAgICB9LFtdKVxuXG4gICAgY29uc3Qgb25XaWR0aENoYW5nZSA9ICh3aWR0aDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHBDYW52YXNDb250cm9sbGVyICYmIHBDYW52YXNDb250cm9sbGVyLnNldEJydXNoV2lkdGgod2lkdGgpXG4gICAgfVxuICAgIGNvbnN0IG9uT3BhY2l0eUNoYW5nZSA9IChvcDpudW1iZXIpID0+IHtcbiAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIgJiYgcENhbnZhc0NvbnRyb2xsZXIuc2V0T3BhY2l0eShvcClcbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5hc2lkZVRvb2x9ID5cbiAgICAgICAgPERpdmlkZXIvPlxuICAgICAgICAgICAgPFNsaWRlclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFdpZHRofSBcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbCBcbiAgICAgICAgICAgICAgICBtaW49ezF9IG1heD17MjAwfSBzdGVwPXsxfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtvbldpZHRoQ2hhbmdlfSBcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8RGl2aWRlci8+XG4gICAgICAgICAgICA8U2xpZGVyIFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsIFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdE9wYWNpdHl9XG4gICAgICAgICAgICAgICAgbWluPXswfSBtYXg9ezF9IHN0ZXA9ezAuMDF9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e29uT3BhY2l0eUNoYW5nZX0gXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgICAgIDxSZWNvcmQgcENhbnZhc0NvbnRyb2xsZXI9e3BDYW52YXNDb250cm9sbGVyfS8+XG4gICAgICAgIDxEaXZpZGVyLz5cbiAgICAgICBcbiAgICA8L2Rpdj5cbiAgIFxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')}}]);