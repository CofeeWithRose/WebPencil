(window.webpackJsonp=window.webpackJsonp||[]).push([[1,14],{28:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasEvent", function() { return CanvasEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvasController", function() { return PCanvasController; });\n/* harmony import */ var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(27);\n/* harmony import */ var _pcanvas_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32);\n/* harmony import */ var _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67);\n/* harmony import */ var _pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33);\n/* harmony import */ var _util_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99);\n/* harmony import */ var _util_canvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\nvar CanvasEvent = /*#__PURE__*/function () {\n  function CanvasEvent(data) {\n    var tag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n\n    _classCallCheck(this, CanvasEvent);\n\n    this.data = data;\n    this.tag = tag;\n  }\n\n  _createClass(CanvasEvent, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return CanvasEvent;\n}();\n\nvar pointEvent2BrunshStatus = function pointEvent2BrunshStatus(_ref) {\n  var x = _ref.offsetX,\n      y = _ref.offsetY,\n      tiltX = _ref.tiltX,\n      tiltY = _ref.tiltY,\n      pressure = _ref.pressure;\n  // console.log(\'pressure...\', pressure)\n  pressure = pressure > 1 ? pressure * 0.01 : pressure === 0 ? 1 : pressure;\n  return new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_2__["BrushStatus"](x, y, pressure, tiltX, tiltY);\n};\n\n/**\n * 用于控制PCanvascontroller component 的对象.\n * \n * // TODO\n * 对的操作放入组件中.\n */\nvar PCanvasController = /*#__PURE__*/function (_PEventEmiter) {\n  _inherits(PCanvasController, _PEventEmiter);\n\n  function PCanvasController() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PCanvasController);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PCanvasController)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.context = void 0;\n    _this.layerManager = void 0;\n    _this.color = _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"].BLACK;\n    _this.pointerIds = {};\n    _this.workId = void 0;\n    return _this;\n  }\n\n  _createClass(PCanvasController, [{\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2, workDetail) {\n        var wrap, cover, _workDetail$workInfo, width, height, workId;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                wrap = _ref2.wrap, cover = _ref2.cover;\n                _workDetail$workInfo = workDetail.workInfo, width = _workDetail$workInfo.width, height = _workDetail$workInfo.height, workId = _workDetail$workInfo.workId;\n                wrap.style.width = "".concat(width, "px");\n                wrap.style.height = "".concat(height, "px");\n                this.workId = workId;\n                this.layerManager = new _pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__["PcanvasLayers"]({\n                  cover: cover,\n                  wrap: wrap,\n                  width: width,\n                  height: height\n                });\n                _context.next = 8;\n                return this.layerManager.init(workDetail.layers);\n\n              case 8:\n                this.context = new _pcanvas_context__WEBPACK_IMPORTED_MODULE_1__["PCanvasContext"](this.layerManager.getCanvas(), this.layerManager.getContext(), width, height);\n                this.emit(\'init\', new CanvasEvent(null));\n                this.emit(\'focusLayer\', new CanvasEvent({\n                  layerDetail: this.layerManager.getFocusDetail()\n                })); // logCanvasData(\'init: \', this.layerManager.layers[0].canvas)\n\n              case 11:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init(_x, _x2) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "setColor",\n    value: function setColor(_ref3) {\n      var r = _ref3.r,\n          g = _ref3.g,\n          b = _ref3.b;\n      var color = new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"](r, g, b, this.color.a);\n      this.setRGBA(color);\n    }\n  }, {\n    key: "setRGBA",\n    value: function setRGBA(color) {\n      this.context.color = color.toRGBAString();\n      this.color = color;\n      this.emit(\'colorchange\', new CanvasEvent({\n        color: color\n      }));\n    }\n  }, {\n    key: "setOpacity",\n    value: function setOpacity(opacity) {\n      var _this$color = this.color,\n          r = _this$color.r,\n          g = _this$color.g,\n          b = _this$color.b;\n      var color = new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"](r, g, b, opacity);\n      this.setRGBA(color);\n    }\n  }, {\n    key: "getLayers",\n    value: function getLayers() {\n      return _toConsumableArray(this.layerManager.layers);\n    }\n  }, {\n    key: "addLayer",\n    value: function addLayer() {\n      var layerDetail = this.layerManager.addLayer(_workStorage__WEBPACK_IMPORTED_MODULE_3__[/* LayerDetail */ "a"].create(this.layerManager.wrapInfo));\n      this.layerManager.focusLayer(layerDetail);\n      var index = this.layerManager.layers.indexOf(layerDetail);\n      this.emit(\'addLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }));\n      this.emit(\'focusLayer\', new CanvasEvent({\n        layerDetail: layerDetail\n      }));\n    }\n  }, {\n    key: "addLayerContent",\n    value: function addLayerContent(index, canvas) {\n      var creator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \'user\';\n      var width = canvas.width,\n          height = canvas.height;\n      var layerDetail = _workStorage__WEBPACK_IMPORTED_MODULE_3__[/* LayerDetail */ "a"].create({\n        width: width,\n        height: height\n      });\n      var ctx = layerDetail.canvas.getContext(\'2d\');\n      ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n      this.layerManager.addLayer(layerDetail, index);\n      this.emit(\'addLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }, creator));\n      return layerDetail;\n    }\n  }, {\n    key: "setLayerContent",\n    value: function setLayerContent(index, canvas) {\n      var creator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \'user\';\n      var layerDetail = this.layerManager.layers[index];\n      var oldCanvas = layerDetail.canvas;\n      var width = oldCanvas.width,\n          height = oldCanvas.height;\n      var preContent = Object(_util_canvas__WEBPACK_IMPORTED_MODULE_6__[/* copyCanvas */ "a"])(layerDetail.canvas);\n      var ctx = layerDetail.canvas.getContext(\'2d\');\n      ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, width, height);\n      ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n      this.emit(\'contentChange\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index,\n        preContent: preContent\n      }, creator));\n      return layerDetail;\n    }\n  }, {\n    key: "focusLayer",\n    value: function focusLayer(layerDetail) {\n      this.layerManager.focusLayer(layerDetail);\n      this.emit(\'focusLayer\', new CanvasEvent({\n        layerDetail: layerDetail\n      }));\n    }\n  }, {\n    key: "removeLayer",\n    value: function removeLayer(layerDetail) {\n      var creator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n\n      var _this$layerManager$re = this.layerManager.removeLayer(layerDetail),\n          index = _this$layerManager$re.index,\n          isFocus = _this$layerManager$re.isFocus;\n\n      this.emit(\'removeLayer\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: layerDetail,\n        index: index\n      }, creator));\n\n      if (isFocus) {\n        var _layerDetail = this.layerManager.layers[0];\n        this.focusLayer(_layerDetail);\n        this.emit(\'focusLayer\', new CanvasEvent({\n          layerDetail: _layerDetail\n        }, creator));\n      }\n    }\n  }, {\n    key: "removeLayerByIndex",\n    value: function removeLayerByIndex(index) {\n      var creator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'user\';\n      var layerDetail = this.layerManager.layers[index];\n      this.removeLayer(layerDetail, creator);\n    }\n  }, {\n    key: "setBrushWidth",\n    value: function setBrushWidth(width) {\n      this.context.brushWidth = width;\n    }\n  }, {\n    key: "setBrush",\n    value: function setBrush(brush) {\n      if (this.context.brush) {\n        this.context.brush.destory();\n      }\n\n      brush.init();\n      this.context.brush = brush;\n    }\n  }, {\n    key: "onPointerDown",\n    value: function onPointerDown(p) {\n      this.pointerIds[p.pointerId] = true;\n      this.context.brush.onStart(pointEvent2BrunshStatus(p), this.context);\n    }\n  }, {\n    key: "onPointerMove",\n    value: function onPointerMove(pointerEvent) {\n      if (Object.keys(this.pointerIds).length > 1) return;\n      var ponterEvents;\n\n      if (pointerEvent.getCoalescedEvents) {\n        ponterEvents = pointerEvent.getCoalescedEvents();\n      } else {\n        ponterEvents = [pointerEvent];\n      }\n\n      this.context.brush.onDraw(ponterEvents.map(function (p) {\n        return pointEvent2BrunshStatus(p);\n      }), this.context);\n    }\n  }, {\n    key: "onPointerUp",\n    value: function onPointerUp(p) {\n      delete this.pointerIds[p.pointerId];\n      this.context.brush.onEnd(pointEvent2BrunshStatus(p), this.context);\n      var curLayerDetail = this.layerManager.getFocusDetail();\n      var preContent = Object(_util_canvas__WEBPACK_IMPORTED_MODULE_6__[/* copyCanvas */ "a"])(curLayerDetail.canvas);\n      this.layerManager.applyTempCanvas();\n      var index = this.layerManager.layers.indexOf(curLayerDetail);\n      this.emit(\'contentChange\', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: curLayerDetail,\n        preContent: preContent,\n        index: index\n      }));\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PCanvasController;\n}(_util_event__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"]);\n\nfunction logCanvasData() {\n  var rep = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'\';\n  var canvas = arguments.length > 1 ? arguments[1] : undefined;\n  var ctx = canvas.getContext(\'2d\');\n  console.log(rep, ctx === null || ctx === void 0 ? void 0 : ctx.getImageData(0, 0, 1, 1).data);\n}\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(CanvasEvent, "CanvasEvent", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(pointEvent2BrunshStatus, "pointEvent2BrunshStatus", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(PCanvasController, "PCanvasController", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n  reactHotLoader.register(logCanvasData, "logCanvasData", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY252YXMuY29udHJvbGxlci50cz85ZmNmIl0sIm5hbWVzIjpbIkNhbnZhc0V2ZW50IiwiZGF0YSIsInRhZyIsInBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzIiwieCIsIm9mZnNldFgiLCJ5Iiwib2Zmc2V0WSIsInRpbHRYIiwidGlsdFkiLCJwcmVzc3VyZSIsIkJydXNoU3RhdHVzIiwiUENhbnZhc0NvbnRyb2xsZXIiLCJjb250ZXh0IiwibGF5ZXJNYW5hZ2VyIiwiY29sb3IiLCJSR0JBIiwiQkxBQ0siLCJwb2ludGVySWRzIiwid29ya0lkIiwid29ya0RldGFpbCIsIndyYXAiLCJjb3ZlciIsIndvcmtJbmZvIiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsIlBjYW52YXNMYXllcnMiLCJpbml0IiwibGF5ZXJzIiwiUENhbnZhc0NvbnRleHQiLCJnZXRDYW52YXMiLCJnZXRDb250ZXh0IiwiZW1pdCIsImxheWVyRGV0YWlsIiwiZ2V0Rm9jdXNEZXRhaWwiLCJyIiwiZyIsImIiLCJhIiwic2V0UkdCQSIsInRvUkdCQVN0cmluZyIsIm9wYWNpdHkiLCJhZGRMYXllciIsIkxheWVyRGV0YWlsIiwiY3JlYXRlIiwid3JhcEluZm8iLCJmb2N1c0xheWVyIiwiaW5kZXgiLCJpbmRleE9mIiwiY2FudmFzIiwiY3JlYXRvciIsImN0eCIsImRyYXdJbWFnZSIsIm9sZENhbnZhcyIsInByZUNvbnRlbnQiLCJjb3B5Q2FudmFzIiwiY2xlYXJSZWN0IiwicmVtb3ZlTGF5ZXIiLCJpc0ZvY3VzIiwiYnJ1c2hXaWR0aCIsImJydXNoIiwiZGVzdG9yeSIsInAiLCJwb2ludGVySWQiLCJvblN0YXJ0IiwicG9pbnRlckV2ZW50IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInBvbnRlckV2ZW50cyIsImdldENvYWxlc2NlZEV2ZW50cyIsIm9uRHJhdyIsIm1hcCIsIm9uRW5kIiwiY3VyTGF5ZXJEZXRhaWwiLCJhcHBseVRlbXBDYW52YXMiLCJQRXZlbnRFbWl0ZXIiLCJsb2dDYW52YXNEYXRhIiwicmVwIiwiY29uc29sZSIsImxvZyIsImdldEltYWdlRGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSU8sSUFBTUEsV0FBYjtBQUVJLHVCQUNVQyxJQURWLEVBR0M7QUFBQSxRQURTQyxHQUNULHVFQUQwQixNQUMxQjs7QUFBQTs7QUFBQSxTQUZTRCxJQUVULEdBRlNBLElBRVQ7QUFBQSxTQURTQyxHQUNULEdBRFNBLEdBQ1Q7QUFBRTs7QUFMUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7O0FBeUJBLElBQU1DLHVCQUF1QixHQUFHLFNBQTFCQSx1QkFBMEIsT0FBa0U7QUFBQSxNQUF2REMsQ0FBdUQsUUFBaEVDLE9BQWdFO0FBQUEsTUFBM0NDLENBQTJDLFFBQXBEQyxPQUFvRDtBQUFBLE1BQXpDQyxLQUF5QyxRQUF6Q0EsS0FBeUM7QUFBQSxNQUFuQ0MsS0FBbUMsUUFBbkNBLEtBQW1DO0FBQUEsTUFBNUJDLFFBQTRCLFFBQTVCQSxRQUE0QjtBQUM5RjtBQUNBQSxVQUFRLEdBQUdBLFFBQVEsR0FBQyxDQUFULEdBQVlBLFFBQVEsR0FBRyxJQUF2QixHQUNDQSxRQUFRLEtBQUssQ0FBYixHQUFnQixDQUFoQixHQUFtQkEsUUFEL0I7QUFFQSxTQUFPLElBQUlDLHlFQUFKLENBQWdCUCxDQUFoQixFQUFtQkUsQ0FBbkIsRUFBdUJJLFFBQXZCLEVBQWlDRixLQUFqQyxFQUF3Q0MsS0FBeEMsQ0FBUDtBQUNILENBTEQ7O0FBT0E7Ozs7OztBQU1PLElBQU1HLGlCQUFiO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQSxVQUVjQyxPQUZkO0FBQUEsVUFJY0MsWUFKZDtBQUFBLFVBTWNDLEtBTmQs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QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQSxFQUF1QzZCLDJEQUF2Qzs7QUFzSkEsU0FBU0MsYUFBVCxHQUEwRDtBQUFBLE1BQW5DQyxHQUFtQyx1RUFBL0IsRUFBK0I7QUFBQSxNQUEzQjdCLE1BQTJCO0FBQ3RELE1BQU1FLEdBQUcsR0FBR0YsTUFBTSxDQUFDbEIsVUFBUCxDQUFrQixJQUFsQixDQUFaO0FBQ0RnRCxTQUFPLENBQUNDLEdBQVIsQ0FBWUYsR0FBWixFQUFpQjNCLEdBQWpCLGFBQWlCQSxHQUFqQix1QkFBaUJBLEdBQUcsQ0FBRThCLFlBQUwsQ0FBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBc0IsQ0FBdEIsRUFBd0IsQ0FBeEIsRUFBMkJqRixJQUE1QztBQUNEOzs7Ozs7Ozs7OzswQkEvTFdELFc7MEJBeUJQRyx1QjswQkFhT1MsaUI7MEJBc0pKa0UsYSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJHQkEgfSBmcm9tIFwiLi4vdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhXCJcbmltcG9ydCB7IFBDYW52YXNDb250ZXh0IH0gZnJvbSBcIi4vcGNhbnZhcy5jb250ZXh0XCJcbmltcG9ydCB7IEJydXNoLCBCcnVzaFN0YXR1cyB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoXCJcbmltcG9ydCB7IFdvcmtEZXRhaWwsIExheWVyRGV0YWlsIH0gZnJvbSBcIi4uLy4uLy4uL3dvcmtTdG9yYWdlXCJcbmltcG9ydCB7IFBjYW52YXNMYXllcnMgfSBmcm9tIFwiLi9wY2FudmFzLmxheWVyXCJcbmltcG9ydCBQRXZlbnRFbWl0ZXIgZnJvbSBcIi4uLy4uLy4uL3V0aWwvZXZlbnRcIlxuaW1wb3J0IHsgY29weUNhbnZhcyB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2NhbnZhc1wiXG5cbmV4cG9ydCB0eXBlIEV2bmV0Q3JlYXRvciA9ICd1c2VyJ3wnaGlzdG9yeSdcblxuZXhwb3J0IGNsYXNzIENhbnZhc0V2ZW50PFQ9bnVsbD4ge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgIHB1YmxpYyBkYXRhOiBULFxuICAgICAgIHB1YmxpYyB0YWc6RXZuZXRDcmVhdG9yPSd1c2VyJyxcbiAgICApe31cblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhbnZhc0V2ZW50RGF0YSB7XG5cbiAgICBpbml0OiBDYW52YXNFdmVudFxuXG4gICAgY29sb3JjaGFuZ2U6IENhbnZhc0V2ZW50PHtjb2xvcjogUkdCQX0+XG5cbiAgICBhZGRMYXllcjogQ2FudmFzRXZlbnQ8e3dvcmtJZDpzdHJpbmcsIGxheWVyRGV0YWlsOiBMYXllckRldGFpbCwgaW5kZXg6IG51bWJlcn0+XG5cbiAgICBjb250ZW50Q2hhbmdlOiBDYW52YXNFdmVudDx7IHdvcmtJZDpzdHJpbmcgLCBsYXllckRldGFpbDogTGF5ZXJEZXRhaWwsIHByZUNvbnRlbnQ6IEhUTUxDYW52YXNFbGVtZW50LCBpbmRleDogbnVtYmVyIH0+XG5cbiAgICBmb2N1c0xheWVyOiBDYW52YXNFdmVudDx7IGxheWVyRGV0YWlsOiBMYXllckRldGFpbCB9PlxuXG4gICAgcmVtb3ZlTGF5ZXI6IENhbnZhc0V2ZW50PHsgd29ya0lkOnN0cmluZywgbGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsLCBpbmRleDogbnVtYmVyfT5cbn1cblxuXG5jb25zdCBwb2ludEV2ZW50MkJydW5zaFN0YXR1cyA9ICh7b2Zmc2V0WDogeCwgb2Zmc2V0WTogeSx0aWx0WCx0aWx0WSwgcHJlc3N1cmV9OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygncHJlc3N1cmUuLi4nLCBwcmVzc3VyZSlcbiAgICBwcmVzc3VyZSA9IHByZXNzdXJlPjE/IHByZXNzdXJlICogMC4wMSA6IFxuICAgICAgICAgICAgICAgIHByZXNzdXJlID09PSAwPyAxOiBwcmVzc3VyZTtcbiAgICByZXR1cm4gbmV3IEJydXNoU3RhdHVzKHgsIHksICBwcmVzc3VyZSwgdGlsdFgsIHRpbHRZKVxufVxuZXhwb3J0IHR5cGUgV3JhcEluZm8gPSB7IHdyYXA6IEhUTUxFbGVtZW50LCBjb3ZlcjogSFRNTEVsZW1lbnQgfVxuLyoqXG4gKiDnlKjkuo7mjqfliLZQQ2FudmFzY29udHJvbGxlciBjb21wb25lbnQg55qE5a+56LGhLlxuICogXG4gKiAvLyBUT0RPXG4gKiDlr7nnmoTmk43kvZzmlL7lhaXnu4Tku7bkuK0uXG4gKi9cbmV4cG9ydCBjbGFzcyBQQ2FudmFzQ29udHJvbGxlciBleHRlbmRzIFBFdmVudEVtaXRlcjxDYW52YXNFdmVudERhdGE+IHtcblxuICAgIHByb3RlY3RlZCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dDtcblxuICAgIHByb3RlY3RlZCBsYXllck1hbmFnZXI6UGNhbnZhc0xheWVycztcblxuICAgIHByb3RlY3RlZCBjb2xvciA9IFJHQkEuQkxBQ0s7XG5cbiAgICBwcm90ZWN0ZWQgcG9pbnRlcklkczoge1tpZDpzdHJpbmddOiBib29sZWFufSA9IHt9XG5cbiAgICBwcm90ZWN0ZWQgd29ya0lkOiBzdHJpbmdcblxuICAgIGFzeW5jIGluaXQoIHt3cmFwLCBjb3Zlcn06ICBXcmFwSW5mbywgd29ya0RldGFpbDogV29ya0RldGFpbDxQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+PiApe1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHdvcmtJZCB9ID0gd29ya0RldGFpbC53b3JrSW5mb1xuICAgICAgICB3cmFwLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgXG4gICAgICAgIHdyYXAuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YFxuICAgICAgICB0aGlzLndvcmtJZCA9IHdvcmtJZFxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlciA9IG5ldyBQY2FudmFzTGF5ZXJzKHtjb3Zlciwgd3JhcCwgd2lkdGgsIGhlaWdodH0pXG4gICAgICAgIGF3YWl0IHRoaXMubGF5ZXJNYW5hZ2VyLmluaXQod29ya0RldGFpbC5sYXllcnMpXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG5ldyBQQ2FudmFzQ29udGV4dChcbiAgICAgICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmdldENhbnZhcygpLFxuICAgICAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuZ2V0Q29udGV4dCgpLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5lbWl0KCdpbml0JywgbmV3IENhbnZhc0V2ZW50KG51bGwpIClcbiAgICAgICAgdGhpcy5lbWl0KCdmb2N1c0xheWVyJywgbmV3IENhbnZhc0V2ZW50KHsgbGF5ZXJEZXRhaWw6IHRoaXMubGF5ZXJNYW5hZ2VyLmdldEZvY3VzRGV0YWlsKCkgfSkpXG4gICAgICAgIC8vIGxvZ0NhbnZhc0RhdGEoJ2luaXQ6ICcsIHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVyc1swXS5jYW52YXMpXG4gICAgfVxuXG4gICAgc2V0Q29sb3Ioe3IsZyxifTogUkdCQSkge1xuICAgICAgICBjb25zdCBjb2xvciA9IG5ldyBSR0JBKHIsZyxiLCB0aGlzLmNvbG9yLmEpXG4gICAgICAgIHRoaXMuc2V0UkdCQShjb2xvcilcbiAgICB9XG5cbiAgICBzZXRSR0JBKGNvbG9yOiBSR0JBKTp2b2lke1xuICAgICAgICB0aGlzLmNvbnRleHQuY29sb3IgPSBjb2xvci50b1JHQkFTdHJpbmcoKVxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3JcbiAgICAgICAgdGhpcy5lbWl0KCdjb2xvcmNoYW5nZScsIG5ldyBDYW52YXNFdmVudCh7Y29sb3IgfSkpXG4gICAgfVxuXG4gICAgc2V0T3BhY2l0eShvcGFjaXR5OiBudW1iZXIpe1xuICAgICAgICBjb25zdCB7cixnLGJ9ID0gdGhpcy5jb2xvclxuICAgICAgICBjb25zdCBjb2xvciA9IG5ldyBSR0JBKHIsIGcsIGIsIG9wYWNpdHkpXG4gICAgICAgIHRoaXMuc2V0UkdCQShjb2xvcilcbiAgICB9XG5cblxuICAgIGdldExheWVycygpe1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMubGF5ZXJNYW5hZ2VyLmxheWVyc11cbiAgICB9XG5cbiAgICBhZGRMYXllcigpe1xuICAgICAgICBjb25zdCBsYXllckRldGFpbCA9ICB0aGlzLmxheWVyTWFuYWdlci5hZGRMYXllcihMYXllckRldGFpbC5jcmVhdGUodGhpcy5sYXllck1hbmFnZXIud3JhcEluZm8pKVxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5mb2N1c0xheWVyKGxheWVyRGV0YWlsKVxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVycy5pbmRleE9mKGxheWVyRGV0YWlsKVxuICAgICAgICB0aGlzLmVtaXQoJ2FkZExheWVyJywgIG5ldyBDYW52YXNFdmVudCh7d29ya0lkOiB0aGlzLndvcmtJZCwgbGF5ZXJEZXRhaWwsIGluZGV4IH0pKVxuICAgICAgICB0aGlzLmVtaXQoJ2ZvY3VzTGF5ZXInLCBuZXcgQ2FudmFzRXZlbnQoe2xheWVyRGV0YWlsfSkpXG5cbiAgICB9XG5cbiAgICBhZGRMYXllckNvbnRlbnQoaW5kZXg6IG51bWJlciwgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50fCBIVE1MSW1hZ2VFbGVtZW50LCBjcmVhdG9yOiBFdm5ldENyZWF0b3I9J3VzZXInKTogTGF5ZXJEZXRhaWwge1xuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBjYW52YXNcbiAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSBMYXllckRldGFpbC5jcmVhdGUoe3dpZHRoLCBoZWlnaHR9KVxuICAgICAgICBjb25zdCBjdHggPSBsYXllckRldGFpbC5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICBjdHg/LmRyYXdJbWFnZShjYW52YXMsIDAsMCwgd2lkdGgsIGhlaWdodClcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuYWRkTGF5ZXIobGF5ZXJEZXRhaWwsIGluZGV4KVxuICAgICAgICB0aGlzLmVtaXQoJ2FkZExheWVyJywgbmV3IENhbnZhc0V2ZW50KHsgd29ya0lkOiB0aGlzLndvcmtJZCAsIGxheWVyRGV0YWlsLCBpbmRleH0sIGNyZWF0b3IpKVxuICAgICAgICByZXR1cm4gbGF5ZXJEZXRhaWxcblxuICAgIH1cblxuICAgIHNldExheWVyQ29udGVudChpbmRleDogbnVtYmVyLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50fCBIVE1MSW1hZ2VFbGVtZW50LCBjcmVhdG9yOiBFdm5ldENyZWF0b3IgPSAndXNlcicpIHtcbiAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSB0aGlzLmxheWVyTWFuYWdlci5sYXllcnNbaW5kZXhdXG4gICAgICAgIGNvbnN0IG9sZENhbnZhcyA9IGxheWVyRGV0YWlsLmNhbnZhc1xuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBvbGRDYW52YXNcbiAgICAgICAgY29uc3QgcHJlQ29udGVudCA9IGNvcHlDYW52YXMobGF5ZXJEZXRhaWwuY2FudmFzKVxuICAgICAgICBjb25zdCBjdHggPSBsYXllckRldGFpbC5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICBjdHg/LmNsZWFyUmVjdCgwLDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGNhbnZhcywgMCwwLHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIHRoaXMuZW1pdCgnY29udGVudENoYW5nZScsIG5ldyBDYW52YXNFdmVudCh7IHdvcmtJZDogdGhpcy53b3JrSWQgLCBsYXllckRldGFpbCwgaW5kZXgsIHByZUNvbnRlbnQsICB9LCBjcmVhdG9yKSlcbiAgICAgICAgcmV0dXJuIGxheWVyRGV0YWlsXG4gICAgfVxuXG5cblxuICAgIGZvY3VzTGF5ZXIobGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsKTp2b2lkIHtcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuZm9jdXNMYXllcihsYXllckRldGFpbClcbiAgICAgICAgdGhpcy5lbWl0KCdmb2N1c0xheWVyJywgbmV3IENhbnZhc0V2ZW50KHsgbGF5ZXJEZXRhaWwgfSkpXG4gICAgfVxuXG4gICAgcmVtb3ZlTGF5ZXIobGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsLCBjcmVhdG9yOiBFdm5ldENyZWF0b3I9J3VzZXInKTogdm9pZHtcbiAgICAgICAgY29uc3QgeyBpbmRleCwgaXNGb2N1cyB9ID0gIHRoaXMubGF5ZXJNYW5hZ2VyLnJlbW92ZUxheWVyKGxheWVyRGV0YWlsKVxuICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxheWVyJywgbmV3IENhbnZhc0V2ZW50KHt3b3JrSWQ6IHRoaXMud29ya0lkLCBsYXllckRldGFpbCwgaW5kZXh9LCBjcmVhdG9yKSlcbiAgICAgICAgaWYoaXNGb2N1cyl7XG4gICAgICAgICAgICBjb25zdCBsYXllckRldGFpbCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVyc1swXVxuICAgICAgICAgICAgdGhpcy5mb2N1c0xheWVyKGxheWVyRGV0YWlsKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdmb2N1c0xheWVyJywgbmV3IENhbnZhc0V2ZW50KHtsYXllckRldGFpbH0sIGNyZWF0b3IpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUxheWVyQnlJbmRleChpbmRleDogbnVtYmVyLCBjcmVhdG9yOiBFdm5ldENyZWF0b3I9J3VzZXInKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzW2luZGV4XVxuICAgICAgICB0aGlzLnJlbW92ZUxheWVyKGxheWVyRGV0YWlsLCBjcmVhdG9yKVxuICAgIH1cblxuICAgIHNldEJydXNoV2lkdGgod2lkdGg6IG51bWJlcil7XG4gICAgICAgIHRoaXMuY29udGV4dC5icnVzaFdpZHRoID0gd2lkdGhcbiAgICB9XG4gIFxuXG4gICAgc2V0QnJ1c2goYnJ1c2g6IEJydXNoKXtcbiAgICAgICAgaWYodGhpcy5jb250ZXh0LmJydXNoKXtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5icnVzaC5kZXN0b3J5KClcbiAgICAgICAgfVxuICAgICAgICBicnVzaC5pbml0KClcbiAgICAgICAgdGhpcy5jb250ZXh0LmJydXNoID0gYnJ1c2hcbiAgICB9XG5cbiAgICBvblBvaW50ZXJEb3duKHA6IFBvaW50ZXJFdmVudCl7XG4gICAgICAgIHRoaXMucG9pbnRlcklkc1twLnBvaW50ZXJJZF0gPSB0cnVlXG4gICAgICAgIHRoaXMuY29udGV4dC5icnVzaC5vblN0YXJ0KHBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzKHApLHRoaXMuY29udGV4dClcbiAgICB9XG5cbiAgICBvblBvaW50ZXJNb3ZlKHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50KTp2b2lke1xuICAgICAgaWYoT2JqZWN0LmtleXModGhpcy5wb2ludGVySWRzKS5sZW5ndGg+MSkgcmV0dXJuXG4gICAgICAgIGxldCBwb250ZXJFdmVudHM6IFBvaW50ZXJFdmVudFtdO1xuICAgICAgICBpZigocG9pbnRlckV2ZW50IGFzIGFueSkuZ2V0Q29hbGVzY2VkRXZlbnRzKXtcbiAgICAgICAgICAgIHBvbnRlckV2ZW50cyA9IChwb2ludGVyRXZlbnQgYXMgYW55ICkuZ2V0Q29hbGVzY2VkRXZlbnRzKClcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBwb250ZXJFdmVudHMgPSAgW3BvaW50ZXJFdmVudF1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2gub25EcmF3KFxuICAgICAgICAgICAgcG9udGVyRXZlbnRzLm1hcCggcCA9PiBwb2ludEV2ZW50MkJydW5zaFN0YXR1cyhwKSApLFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBvblBvaW50ZXJVcChwOiBQb2ludGVyRXZlbnQpOiB2b2lke1xuICAgICAgICBkZWxldGUgdGhpcy5wb2ludGVySWRzW3AucG9pbnRlcklkXVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2gub25FbmQocG9pbnRFdmVudDJCcnVuc2hTdGF0dXMocCksdGhpcy5jb250ZXh0KVxuICAgICAgICBjb25zdCBjdXJMYXllckRldGFpbCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmdldEZvY3VzRGV0YWlsKClcbiAgICAgICAgY29uc3QgcHJlQ29udGVudCA9IGNvcHlDYW52YXMoY3VyTGF5ZXJEZXRhaWwuY2FudmFzKVxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5hcHBseVRlbXBDYW52YXMoKVxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVycy5pbmRleE9mKGN1ckxheWVyRGV0YWlsKVxuICAgICAgICB0aGlzLmVtaXQoJ2NvbnRlbnRDaGFuZ2UnLCBuZXcgQ2FudmFzRXZlbnQoeyB3b3JrSWQ6IHRoaXMud29ya0lkICwgbGF5ZXJEZXRhaWw6IGN1ckxheWVyRGV0YWlsLCBwcmVDb250ZW50LCBpbmRleH0pKSBcbiAgICB9XG5cblxuIH1cbmZ1bmN0aW9uIGxvZ0NhbnZhc0RhdGEocmVwPScnLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgIGNvbnNvbGUubG9nKHJlcCwgY3R4Py5nZXRJbWFnZURhdGEoMCwwLDEsMSkuZGF0YSkgXG4gfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n')},32:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvasContext", function() { return PCanvasContext; });\n/* harmony import */ var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(27);\n/* harmony import */ var _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\nvar PCanvasContext = /*#__PURE__*/function () {\n  function PCanvasContext(curCanvas, curCanvasContext2D, width, height) {\n    var brush = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__["Brush"]();\n    var color = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"].BLACK.toRGBAString();\n    var brushWidth = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 100;\n\n    _classCallCheck(this, PCanvasContext);\n\n    this.curCanvas = curCanvas;\n    this.curCanvasContext2D = curCanvasContext2D;\n    this.width = width;\n    this.height = height;\n    this.brush = brush;\n    this.color = color;\n    this.brushWidth = brushWidth;\n  }\n\n  _createClass(PCanvasContext, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PCanvasContext;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PCanvasContext, "PCanvasContext", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.context.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmNvbnRleHQudHM/ZGE5OSJdLCJuYW1lcyI6WyJQQ2FudmFzQ29udGV4dCIsImN1ckNhbnZhcyIsImN1ckNhbnZhc0NvbnRleHQyRCIsIndpZHRoIiwiaGVpZ2h0IiwiYnJ1c2giLCJCcnVzaCIsImNvbG9yIiwiUkdCQSIsIkJMQUNLIiwidG9SR0JBU3RyaW5nIiwiYnJ1c2hXaWR0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFTyxJQUFNQSxjQUFiO0FBRUksMEJBRVdDLFNBRlgsRUFPV0Msa0JBUFgsRUFTV0MsS0FUWCxFQVdXQyxNQVhYLEVBb0JDO0FBQUEsUUFQVUMsS0FPVix1RUFQeUIsSUFBSUMsbUVBQUosRUFPekI7QUFBQSxRQUxVQyxLQUtWLHVFQUwwQkMsZ0ZBQUksQ0FBQ0MsS0FBTCxDQUFXQyxZQUFYLEVBSzFCO0FBQUEsUUFIVUMsVUFHVix1RUFIK0IsR0FHL0I7O0FBQUE7O0FBQUEsU0FsQlVWLFNBa0JWLEdBbEJVQSxTQWtCVjtBQUFBLFNBYlVDLGtCQWFWLEdBYlVBLGtCQWFWO0FBQUEsU0FYVUMsS0FXVixHQVhVQSxLQVdWO0FBQUEsU0FUVUMsTUFTVixHQVRVQSxNQVNWO0FBQUEsU0FQVUMsS0FPVixHQVBVQSxLQU9WO0FBQUEsU0FMVUUsS0FLVixHQUxVQSxLQUtWO0FBQUEsU0FIVUksVUFHVixHQUhVQSxVQUdWO0FBQUU7O0FBdEJQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTs7Ozs7Ozs7OzswQkFBYVgsYyIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJHQkEgfSBmcm9tIFwiLi4vdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhXCI7XG5pbXBvcnQgeyBCcnVzaCB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoXCI7XG5cbmV4cG9ydCBjbGFzcyBQQ2FudmFzQ29udGV4dCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcblxuICAgICAgICBwdWJsaWMgY3VyQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcblxuICAgICAgICAvKipcbiAgICAgICAgICog5b2T5YmN6YCJ5Lit5Zu+5bGC55qEY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjdXJDYW52YXNDb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcblxuICAgICAgICBwdWJsaWMgYnJ1c2g6IEJydXNoID0gbmV3IEJydXNoKCksXG5cbiAgICAgICAgcHVibGljIGNvbG9yOiBzdHJpbmcgPSBSR0JBLkJMQUNLLnRvUkdCQVN0cmluZygpLFxuXG4gICAgICAgIHB1YmxpYyBicnVzaFdpZHRoOiBudW1iZXIgPSAxMDAsXG5cblxuICAgICl7fVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32\n')},33:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PcanvasLayers", function() { return PcanvasLayers; });\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67);\n/* harmony import */ var _util_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\nvar PcanvasLayers = /*#__PURE__*/function () {\n  /**\n   * 临时图层,始终位于当前绘制图层的上方.\n   */\n\n  /**\n   * 当前绘制的图层.\n   */\n  function PcanvasLayers(wrapInfo) {\n    _classCallCheck(this, PcanvasLayers);\n\n    this.wrapInfo = wrapInfo;\n    this.tempLayer = void 0;\n    this.layers = void 0;\n    this.focusedLayerDetail = void 0;\n  }\n\n  _createClass(PcanvasLayers, [{\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(layers) {\n        var wrapInfo, wrap, cover, lastElement, newLayers, i, _layers$i, imgPromise, rest, canvas;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                wrapInfo = this.wrapInfo;\n                wrap = wrapInfo.wrap, cover = wrapInfo.cover;\n                lastElement = cover;\n                newLayers = [];\n                i = 0;\n\n              case 5:\n                if (!(i < layers.length)) {\n                  _context.next = 22;\n                  break;\n                }\n\n                _layers$i = layers[i], imgPromise = _layers$i.canvas, rest = _objectWithoutProperties(_layers$i, ["canvas"]);\n                _context.prev = 7;\n                _context.t0 = _util_canvas__WEBPACK_IMPORTED_MODULE_1__[/* copyCanvas */ "a"];\n                _context.next = 11;\n                return imgPromise;\n\n              case 11:\n                _context.t1 = _context.sent;\n                canvas = (0, _context.t0)(_context.t1);\n                newLayers.push(_objectSpread({\n                  canvas: canvas\n                }, rest));\n                _context.next = 19;\n                break;\n\n              case 16:\n                _context.prev = 16;\n                _context.t2 = _context["catch"](7);\n                console.error(\'decode error\', layers[i].layerId);\n\n              case 19:\n                i++;\n                _context.next = 5;\n                break;\n\n              case 22:\n                this.layers = newLayers;\n                newLayers.forEach(function (layer, index) {\n                  var canvas = layer.canvas,\n                      layerId = layer.layerId,\n                      visible = layer.visible;\n                  wrap.insertBefore(canvas, lastElement);\n                  lastElement = canvas;\n\n                  if (!visible) {\n                    canvas.className = \'unvisible\';\n                  }\n                });\n                this.tempLayer = _workStorage__WEBPACK_IMPORTED_MODULE_0__[/* LayerDetail */ "a"].create(wrapInfo);\n                wrap.insertBefore(this.tempLayer.canvas, cover); // console.log(\'this.tempLayer: \', this.tempLayer.layerId)\n\n                this.focusedLayerDetail = newLayers[0];\n\n              case 27:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[7, 16]]);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: "getCanvas",\n    value: function getCanvas() {\n      return this.tempLayer.canvas;\n    }\n  }, {\n    key: "applyTempCanvas",\n    value: function applyTempCanvas() {\n      var ctx = this.focusedLayerDetail.canvas.getContext(\'2d\');\n      var tempCtx = this.tempLayer.canvas.getContext(\'2d\');\n\n      if (ctx && tempCtx) {\n        var _this$tempLayer$canva = this.tempLayer.canvas,\n            width = _this$tempLayer$canva.width,\n            height = _this$tempLayer$canva.height;\n        ctx.drawImage(this.tempLayer.canvas, 0, 0, width, height);\n        tempCtx.clearRect(0, 0, width, height);\n      }\n    }\n  }, {\n    key: "getFocusDetail",\n    value: function getFocusDetail() {\n      return this.focusedLayerDetail;\n    }\n  }, {\n    key: "focusLayer",\n    value: function focusLayer(layerDetail) {\n      var nextLayer = this.layers[this.layers.indexOf(layerDetail) - 1];\n      var nextCanvas = nextLayer && nextLayer.canvas && nextLayer !== this.tempLayer ? nextLayer.canvas : this.wrapInfo.cover;\n      this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas, nextCanvas);\n      this.focusedLayerDetail = layerDetail; // TOFIX: update templyer in layers.\n    }\n  }, {\n    key: "addLayer",\n    value: function addLayer(newLayer) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var wrap = this.wrapInfo.wrap;\n      var oldLayerDetail = this.layers[index - 1];\n      var ele = oldLayerDetail && oldLayerDetail.canvas || this.wrapInfo.cover;\n      wrap.insertBefore(newLayer.canvas, ele);\n      this.layers.splice(index, 0, newLayer);\n      return newLayer;\n    }\n  }, {\n    key: "removeLayer",\n    value: function removeLayer(layerDetail) {\n      var index = this.layers.indexOf(layerDetail);\n\n      if (index > -1) {\n        this.wrapInfo.wrap.removeChild(layerDetail.canvas);\n        this.layers.splice(index, 1);\n      } else {\n        console.warn(\'layerDetail has been removed\');\n      }\n\n      return {\n        index: index,\n        isFocus: this.focusedLayerDetail === layerDetail\n      };\n    }\n  }, {\n    key: "getContext",\n    value: function getContext() {\n      var ctx = this.tempLayer.canvas.getContext(\'2d\');\n\n      if (ctx === null) {\n        throw \'get context faliled.\';\n      }\n\n      ctx.imageSmoothingEnabled = false;\n      return ctx;\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PcanvasLayers;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PcanvasLayers, "PcanvasLayers", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.layer.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmxheWVyLnRzPzY0OWMiXSwibmFtZXMiOlsiUGNhbnZhc0xheWVycyIsIndyYXBJbmZvIiwidGVtcExheWVyIiwibGF5ZXJzIiwiZm9jdXNlZExheWVyRGV0YWlsIiwid3JhcCIsImNvdmVyIiwibGFzdEVsZW1lbnQiLCJuZXdMYXllcnMiLCJpIiwibGVuZ3RoIiwiaW1nUHJvbWlzZSIsImNhbnZhcyIsInJlc3QiLCJjb3B5Q2FudmFzIiwicHVzaCIsImNvbnNvbGUiLCJlcnJvciIsImxheWVySWQiLCJmb3JFYWNoIiwibGF5ZXIiLCJpbmRleCIsInZpc2libGUiLCJpbnNlcnRCZWZvcmUiLCJjbGFzc05hbWUiLCJMYXllckRldGFpbCIsImNyZWF0ZSIsImN0eCIsImdldENvbnRleHQiLCJ0ZW1wQ3R4Iiwid2lkdGgiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJjbGVhclJlY3QiLCJsYXllckRldGFpbCIsIm5leHRMYXllciIsImluZGV4T2YiLCJuZXh0Q2FudmFzIiwibmV3TGF5ZXIiLCJvbGRMYXllckRldGFpbCIsImVsZSIsInNwbGljZSIsInJlbW92ZUNoaWxkIiwid2FybiIsImlzRm9jdXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFTTyxJQUFNQSxhQUFiO0FBRUk7Ozs7QUFNQTs7O0FBS0EseUJBQTRCQyxRQUE1QixFQUErQztBQUFBOztBQUFBLFNBQW5CQSxRQUFtQixHQUFuQkEsUUFBbUI7QUFBQSxTQVJyQ0MsU0FRcUM7QUFBQSxTQU54Q0MsTUFNd0M7QUFBQSxTQUZyQ0Msa0JBRXFDO0FBQUU7O0FBYnJEO0FBQUE7QUFBQTtBQUFBLDJGQWdCZ0JELE1BaEJoQjtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJZRix3QkFqQlosR0FpQnVCLEtBQUtBLFFB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QUFLLEdBQUcsS0FBS2xCLE1BQUwsQ0FBWWlDLE9BQVosQ0FBb0JGLFdBQXBCLENBQWQ7O0FBQ0EsVUFBR2IsS0FBSyxHQUFHLENBQUMsQ0FBWixFQUFjO0FBQ1YsYUFBS3BCLFFBQUwsQ0FBY0ksSUFBZCxDQUFtQnFDLFdBQW5CLENBQStCUixXQUFXLENBQUN0QixNQUEzQztBQUNBLGFBQUtULE1BQUwsQ0FBWXNDLE1BQVosQ0FBbUJwQixLQUFuQixFQUEwQixDQUExQjtBQUNILE9BSEQsTUFHSztBQUNETCxlQUFPLENBQUMyQixJQUFSLENBQWEsOEJBQWI7QUFDSDs7QUFDRCxhQUFPO0FBQUV0QixhQUFLLEVBQUxBLEtBQUY7QUFBU3VCLGVBQU8sRUFBRyxLQUFLeEMsa0JBQUwsS0FBNEI4QjtBQUEvQyxPQUFQO0FBQ0g7QUE1Rkw7QUFBQTtBQUFBLGlDQThGZ0I7QUFDUixVQUFNUCxHQUFHLEdBQUcsS0FBS3pCLFNBQUwsQ0FBZVUsTUFBZixDQUFzQmdCLFVBQXRCLENBQWlDLElBQWpDLENBQVo7O0FBQ0EsVUFBR0QsR0FBRyxLQUFLLElBQVgsRUFBZ0I7QUFDWixjQUFNLHNCQUFOO0FBQ0g7O0FBQ0RBLFNBQUcsQ0FBQ2tCLHFCQUFKLEdBQTRCLEtBQTVCO0FBQ0EsYUFBT2xCLEdBQVA7QUFDSDtBQXJHTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7Ozs7Ozs7Ozs7MEJBQWEzQixhIiwiZmlsZSI6IjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5ZXJEZXRhaWwgfSBmcm9tIFwiLi4vLi4vLi4vd29ya1N0b3JhZ2VcIjtcbmltcG9ydCB7IGNvcHlDYW52YXMgfSBmcm9tICdAL3V0aWwvY2FudmFzJ1xuXG5leHBvcnQgdHlwZSBXcmFwSW5mbyA9IHsgXG4gIHJlYWRvbmx5ICB3cmFwOiBIVE1MRWxlbWVudCxcbiAgcmVhZG9ubHkgIGNvdmVyOiBIVE1MRWxlbWVudCxcbiAgcmVhZG9ubHkgIHdpZHRoOiBudW1iZXIsXG4gIHJlYWRvbmx5ICBoZWlnaHQ6IG51bWJlcixcbiB9XG5cbmV4cG9ydCBjbGFzcyBQY2FudmFzTGF5ZXJze1xuXG4gICAgLyoqXG4gICAgICog5Li05pe25Zu+5bGCLOWni+e7iOS9jeS6juW9k+WJjee7mOWItuWbvuWxgueahOS4iuaWuS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdGVtcExheWVyOkxheWVyRGV0YWlsO1xuXG4gICAgcHVibGljIGxheWVyczogIExheWVyRGV0YWlsPEhUTUxDYW52YXNFbGVtZW50PltdIFxuICAgIC8qKlxuICAgICAqIOW9k+WJjee7mOWItueahOWbvuWxgi5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZm9jdXNlZExheWVyRGV0YWlsOiBMYXllckRldGFpbDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB3cmFwSW5mbzogV3JhcEluZm8pe31cblxuXG4gICAgYXN5bmMgaW5pdCggbGF5ZXJzOiBMYXllckRldGFpbDxQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+PltdKTogUHJvbWlzZTx2b2lkPntcbiAgICAgIGNvbnN0IHdyYXBJbmZvID0gdGhpcy53cmFwSW5mb1xuICAgICAgY29uc3QgeyB3cmFwLCBjb3ZlciB9ID0gd3JhcEluZm9cbiAgICAgIGxldCBsYXN0RWxlbWVudDogSFRNTEVsZW1lbnQ9IGNvdmVyXG4gICAgICBjb25zdCBuZXdMYXllcnM6TGF5ZXJEZXRhaWxbXSA9IFtdXG4gICAgICBmb3IoIGxldCBpID0wOyBpPCBsYXllcnMubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCB7IGNhbnZhczogaW1nUHJvbWlzZSwgLi4ucmVzdCB9ID0gbGF5ZXJzW2ldXG4gICAgICAgIHRyeXtcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBjb3B5Q2FudmFzKCBhd2FpdCBpbWdQcm9taXNlIClcbiAgICAgICAgICBuZXdMYXllcnMucHVzaCh7Y2FudmFzLCAuLi5yZXN0fSlcbiAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RlY29kZSBlcnJvcicsIGxheWVyc1tpXS5sYXllcklkKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgdGhpcy5sYXllcnMgPSBuZXdMYXllcnNcbiAgICAgIG5ld0xheWVycy5mb3JFYWNoKCAobGF5ZXIsaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHsgY2FudmFzLCBsYXllcklkLCB2aXNpYmxlIH0gPSBsYXllclxuICAgICAgd3JhcC5pbnNlcnRCZWZvcmUoIGNhbnZhcywgbGFzdEVsZW1lbnQpO1xuICAgICAgICBsYXN0RWxlbWVudCA9IGNhbnZhc1xuICAgICAgICBpZighdmlzaWJsZSl7XG4gICAgICAgICAgICBjYW52YXMuY2xhc3NOYW1lID0gJ3VudmlzaWJsZSdcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgdGhpcy50ZW1wTGF5ZXIgPSBMYXllckRldGFpbC5jcmVhdGUod3JhcEluZm8pXG4gICAgICB3cmFwLmluc2VydEJlZm9yZSggdGhpcy50ZW1wTGF5ZXIuY2FudmFzLCBjb3Zlcik7XG4gICAgICAvLyBjb25zb2xlLmxvZygndGhpcy50ZW1wTGF5ZXI6ICcsIHRoaXMudGVtcExheWVyLmxheWVySWQpXG4gICAgICB0aGlzLmZvY3VzZWRMYXllckRldGFpbCA9IG5ld0xheWVyc1swXVxuICAgIH1cblxuICAgIGdldENhbnZhcygpOkhUTUxDYW52YXNFbGVtZW50e1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wTGF5ZXIuY2FudmFzXG4gICAgfVxuXG4gICAgYXBwbHlUZW1wQ2FudmFzKCk6IHZvaWR7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuZm9jdXNlZExheWVyRGV0YWlsLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGNvbnN0IHRlbXBDdHggPSB0aGlzLnRlbXBMYXllci5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICBpZihjdHggJiYgdGVtcEN0eCl7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgIH0gPSB0aGlzLnRlbXBMYXllci5jYW52YXNcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy50ZW1wTGF5ZXIuY2FudmFzLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgdGVtcEN0eC5jbGVhclJlY3QoMCwgMCAsd2lkdGgsIGhlaWdodClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEZvY3VzRGV0YWlsKCk6IExheWVyRGV0YWlsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9jdXNlZExheWVyRGV0YWlsXG4gICAgfVxuXG4gICAgZm9jdXNMYXllcihsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpe1xuICAgICAgICBjb25zdCBuZXh0TGF5ZXIgPSB0aGlzLmxheWVyc1t0aGlzLmxheWVycy5pbmRleE9mKGxheWVyRGV0YWlsKSAtIDFdXG4gICAgICAgIGNvbnN0IG5leHRDYW52YXMgPSBuZXh0TGF5ZXImJm5leHRMYXllci5jYW52YXMgJiYgbmV4dExheWVyICE9PSB0aGlzLnRlbXBMYXllciA/IG5leHRMYXllci5jYW52YXMgOiAgdGhpcy53cmFwSW5mby5jb3ZlclxuICAgICAgICB0aGlzLndyYXBJbmZvLndyYXAuaW5zZXJ0QmVmb3JlKHRoaXMudGVtcExheWVyLmNhbnZhcywgbmV4dENhbnZhcylcbiAgICAgICAgdGhpcy5mb2N1c2VkTGF5ZXJEZXRhaWwgPSBsYXllckRldGFpbFxuICAgICAgICAvLyBUT0ZJWDogdXBkYXRlIHRlbXBseWVyIGluIGxheWVycy5cbiAgICB9XG5cbiAgICBhZGRMYXllcihuZXdMYXllcjogTGF5ZXJEZXRhaWwsIGluZGV4ID0gMCl7XG4gICAgICAgIGNvbnN0IHsgd3JhcCB9ID0gdGhpcy53cmFwSW5mb1xuICAgICAgICBjb25zdCBvbGRMYXllckRldGFpbCA9IHRoaXMubGF5ZXJzW2luZGV4LTFdXG4gICAgICAgIGNvbnN0IGVsZSA9IG9sZExheWVyRGV0YWlsJiZvbGRMYXllckRldGFpbC5jYW52YXMgfHwgdGhpcy53cmFwSW5mby5jb3ZlclxuICAgICAgICB3cmFwLmluc2VydEJlZm9yZShuZXdMYXllci5jYW52YXMsIGVsZSlcbiAgICAgICAgdGhpcy5sYXllcnMuc3BsaWNlKGluZGV4LCAwLCBuZXdMYXllcilcbiAgICAgICAgcmV0dXJuIG5ld0xheWVyXG4gICAgfVxuXG5cbiAgICByZW1vdmVMYXllcihsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpe1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubGF5ZXJzLmluZGV4T2YobGF5ZXJEZXRhaWwpXG4gICAgICAgIGlmKGluZGV4ID4gLTEpe1xuICAgICAgICAgICAgdGhpcy53cmFwSW5mby53cmFwLnJlbW92ZUNoaWxkKGxheWVyRGV0YWlsLmNhbnZhcylcbiAgICAgICAgICAgIHRoaXMubGF5ZXJzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ2xheWVyRGV0YWlsIGhhcyBiZWVuIHJlbW92ZWQnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGluZGV4LCBpc0ZvY3VzOiAgdGhpcy5mb2N1c2VkTGF5ZXJEZXRhaWwgPT09IGxheWVyRGV0YWlsfVxuICAgIH1cblxuICAgIGdldENvbnRleHQoKXtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy50ZW1wTGF5ZXIuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgaWYoY3R4ID09PSBudWxsKXtcbiAgICAgICAgICAgIHRocm93ICdnZXQgY29udGV4dCBmYWxpbGVkLidcbiAgICAgICAgfVxuICAgICAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIGN0eDtcbiAgICB9XG5cblxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///33\n')},4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushStatus", function() { return BrushStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushType", function() { return BrushType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Brush", function() { return Brush; });\n/* harmony import */ var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(69);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\nvar BrushStatus = /*#__PURE__*/function () {\n  function BrushStatus(x, y, pressure, tiltX, tiltY) {\n    _classCallCheck(this, BrushStatus);\n\n    this.x = x;\n    this.y = y;\n    this.pressure = pressure;\n    this.tiltX = tiltX;\n    this.tiltY = tiltY;\n  }\n\n  _createClass(BrushStatus, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return BrushStatus;\n}();\nvar BrushType;\n/**\n * 根据移动，与context, 控制画出的形状并填充.\n */\n\n(function (BrushType) {\n  BrushType[BrushType["pen"] = 1] = "pen";\n  BrushType[BrushType["selector"] = 2] = "selector";\n})(BrushType || (BrushType = {}));\n\nvar Brush = /*#__PURE__*/function () {\n  function Brush() {\n    _classCallCheck(this, Brush);\n\n    this.type = BrushType.pen;\n    this.name = \'default\';\n    this.isPainting = false;\n    this.lastBrush = void 0;\n    this.lastNormalizedDirection = void 0;\n    this.pathList = [[], []];\n\n    this.getVerticalPath = function (point, verticalVect) {\n      var p1 = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].add(point, verticalVect);\n      var p2 = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].subtract(point, verticalVect);\n      return [p1, p2];\n    };\n  }\n\n  _createClass(Brush, [{\n    key: "init",\n    value: function init() {}\n  }, {\n    key: "destory",\n    value: function destory() {}\n  }, {\n    key: "onStart",\n    value: function onStart(status, context) {\n      var ctx = context.curCanvasContext2D,\n          color = context.color;\n      this.lastBrush = status;\n      this.isPainting = true;\n      ctx.fillStyle = color;\n    }\n  }, {\n    key: "onDraw",\n    value: function onDraw(brushStatus, contx) {\n      var _this = this;\n\n      if (this.isPainting) {\n        var ctx = contx.curCanvasContext2D,\n            brushWidth = contx.brushWidth;\n        brushStatus.forEach(function (p) {\n          var x = p.x,\n              y = p.y,\n              pressure = p.pressure;\n          var halfWidth;\n          var direction = new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"](x - _this.lastBrush.x, y - _this.lastBrush.y);\n          var norDirection = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].normalize(direction);\n          var verticalDirection = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].vertical(norDirection); // let p1:Vector2;\n          // let p2: Vector2;\n          // if(!this.lastVerPath){\n          //     halfWidth = this.lastBrush.pressure * brushWidth * 0.5\n          //     const verticalVector = Vector2.multipy(verticalDirection, halfWidth )\n          //     const [point2, point1] = this.getVerticalPath(this.lastBrush, verticalVector)\n          //     p1 = point2\n          //     p2 = point1\n          // }else{\n          //     p1 = this.lastVerPath[0]\n          //     p2 = this.lastVerPath[1]\n          // }\n\n          halfWidth = pressure * brushWidth * 0.5;\n          var verticalVector = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].multipy(verticalDirection, halfWidth);\n\n          var _this$getVerticalPath = _this.getVerticalPath(p, verticalVector),\n              _this$getVerticalPath2 = _slicedToArray(_this$getVerticalPath, 2),\n              p1 = _this$getVerticalPath2[0],\n              p2 = _this$getVerticalPath2[1];\n\n          if (_this.lastNormalizedDirection && _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].degree(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__[/* Vector2 */ "a"].ZERO, _this.lastNormalizedDirection, norDirection) > 180) {\n            _this.pathList[1].push(p1);\n\n            _this.pathList[0].push(p2);\n          } else {\n            _this.pathList[0].push(p1);\n\n            _this.pathList[1].push(p2);\n          } // ctx.moveTo(p1.x, p1.y)\n          // ctx.lineTo(p2.x, p2.y)\n          // ctx.lineTo(p3.x, p3.y)\n          // ctx.lineTo(p4.x, p4.y)\n          // ctx.lineTo(p1.x, p1.y)\n\n\n          _this.lastBrush = p;\n          _this.lastNormalizedDirection = norDirection; // this.lastVerPath = [ p3, p4]\n        }); // ctx.closePath()\n        // ctx.fill()\n        // ctx.stroke()\n\n        this.fillPathList(ctx);\n      }\n    }\n  }, {\n    key: "fillPathList",\n    value: function fillPathList(ctx) {\n      var left = this.pathList[0];\n      var right = this.pathList[1];\n      var path = left.concat(_toConsumableArray(right).reverse());\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.beginPath();\n      var lastInd = path.length - 1;\n      ctx.moveTo(path[lastInd].x, path[lastInd].y);\n      path.forEach(function (_ref) {\n        var x = _ref.x,\n            y = _ref.y;\n        ctx.lineTo(x, y);\n      });\n      ctx.closePath();\n      ctx.fill(); // this.pathList = [[left[left.length-1]], [right[right.length-1]]]\n    }\n  }, {\n    key: "onEnd",\n    value: function onEnd(brushStatus, contx) {\n      this.isPainting = false; // this.lastVerPath = null\n      // TODO 将内转到目标图层上.\n\n      this.pathList = [[], []];\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Brush;\n}();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(BrushStatus, "BrushStatus", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx");\n  reactHotLoader.register(Brush, "Brush", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC9pbmRleC50c3g/OTQzMSJdLCJuYW1lcyI6WyJCcnVzaFN0YXR1cyIsIngiLCJ5IiwicHJlc3N1cmUiLCJ0aWx0WCIsInRpbHRZIiwiQnJ1c2hUeXBlIiwiQnJ1c2giLCJ0eXBlIiwicGVuIiwibmFtZSIsImlzUGFpbnRpbmciLCJsYXN0QnJ1c2giLCJsYXN0Tm9ybWFsaXplZERpcmVjdGlvbiIsInBhdGhMaXN0IiwiZ2V0VmVydGljYWxQYXRoIiwicG9pbnQiLCJ2ZXJ0aWNhbFZlY3QiLCJwMSIsIlZlY3RvcjIiLCJhZGQiLCJwMiIsInN1YnRyYWN0Iiwic3RhdHVzIiwiY29udGV4dCIsImN0eCIsImN1ckNhbnZhc0NvbnRleHQyRCIsImNvbG9yIiwiZmlsbFN0eWxlIiwiYnJ1c2hTdGF0dXMiLCJjb250eCIsImJydXNoV2lkdGgiLCJmb3JFYWNoIiwicCIsImhhbGZXaWR0aCIsImRpcmVjdGlvbiIsIm5vckRpcmVjdGlvbiIsIm5vcm1hbGl6ZSIsInZlcnRpY2FsRGlyZWN0aW9uIiwidmVydGljYWwiLCJ2ZXJ0aWNhbFZlY3RvciIsIm11bHRpcHkiLCJkZWdyZWUiLCJaRVJPIiwicHVzaCIsImZpbGxQYXRoTGlzdCIsImxlZnQiLCJyaWdodCIsInBhdGgiLCJjb25jYXQiLCJyZXZlcnNlIiwiY2xlYXJSZWN0IiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJiZWdpblBhdGgiLCJsYXN0SW5kIiwibGVuZ3RoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiZmlsbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFFTyxJQUFNQSxXQUFiO0FBQ0ksdUJBRW9CQyxDQUZwQixFQUlvQkMsQ0FKcEIsRUFNb0JDLFFBTnBCLEVBUW9CQyxLQVJwQixFQVVvQkMsS0FWcEIsRUFXRTtBQUFBOztB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SSxDQUFDRyxNQUFMLENBQVksbUJBQUlGLEtBQUosRUFBV0csT0FBWCxFQUFaLENBQWI7QUFDQXpCLFNBQUcsQ0FBQzBCLFNBQUosQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQW1CMUIsR0FBRyxDQUFDMkIsTUFBSixDQUFXQyxLQUE5QixFQUFxQzVCLEdBQUcsQ0FBQzJCLE1BQUosQ0FBV0UsTUFBaEQ7QUFDQTdCLFNBQUcsQ0FBQzhCLFNBQUo7QUFDQSxVQUFNQyxPQUFPLEdBQUdSLElBQUksQ0FBQ1MsTUFBTCxHQUFZLENBQTVCO0FBQ0FoQyxTQUFHLENBQUNpQyxNQUFKLENBQVdWLElBQUksQ0FBQ1EsT0FBRCxDQUFKLENBQWV2RCxDQUExQixFQUE2QitDLElBQUksQ0FBQ1EsT0FBRCxDQUFKLENBQWN0RCxDQUEzQztBQUNBOEMsVUFBSSxDQUFDaEIsT0FBTCxDQUFhLGdCQUFZO0FBQUEsWUFBVi9CLENBQVUsUUFBVkEsQ0FBVTtBQUFBLFlBQVBDLENBQU8sUUFBUEEsQ0FBTztBQUNyQnVCLFdBQUcsQ0FBQ2tDLE1BQUosQ0FBVzFELENBQVgsRUFBYUMsQ0FBYjtBQUNILE9BRkQ7QUFHQXVCLFNBQUcsQ0FBQ21DLFNBQUo7QUFDQW5DLFNBQUcsQ0FBQ29DLElBQUosR0FadUMsQ0FjdkM7QUFDSDtBQXJHTDtBQUFBO0FBQUEsMEJBdUdVaEMsV0F2R1YsRUF1R29DQyxLQXZHcEMsRUF1RzJEO0FBQ25ELFdBQUtuQixVQUFMLEdBQWtCLEtBQWxCLENBRG1ELENBRW5EO0FBQ0E7O0FBQ0EsV0FBS0csUUFBTCxHQUFnQixDQUFDLEVBQUQsRUFBSSxFQUFKLENBQWhCO0FBQ0g7QUE1R0w7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBOzs7Ozs7Ozs7OzBCQTFCYWQsVzswQkEwQkFPLEsiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBDYW52YXNDb250ZXh0IH0gZnJvbSBcIi4uLy4uLy4uL3BjYW52YXMvcGNhbnZhcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWwvZGF0YS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBCcnVzaFN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoXG5cbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHg6IG51bWJlcixcblxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgeTogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyByZWFkb25seSBwcmVzc3VyZTogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyByZWFkb25seSB0aWx0WDogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyByZWFkb25seSB0aWx0WTogbnVtYmVyLFxuICAgICkgeyB9XG5cbn1cblxuZXhwb3J0IGVudW0gQnJ1c2hUeXBlIHtcblxuICAgIHBlbiA9IDEsXG5cbiAgICBzZWxlY3RvciA9IDIsXG59XG5cbi8qKlxuICog5qC55o2u56e75Yqo77yM5LiOY29udGV4dCwg5o6n5Yi255S75Ye655qE5b2i54q25bm25aGr5YWFLlxuICovXG5leHBvcnQgY2xhc3MgQnJ1c2gge1xuXG4gICAgdHlwZTogQnJ1c2hUeXBlID0gQnJ1c2hUeXBlLnBlblxuXG4gICAgbmFtZSA9ICdkZWZhdWx0J1xuXG4gICAgaXNQYWludGluZyA9IGZhbHNlXG5cbiAgICBsYXN0QnJ1c2g6IEJydXNoU3RhdHVzO1xuXG4gICAgbGFzdE5vcm1hbGl6ZWREaXJlY3Rpb246IFZlY3RvcjI7XG4gICAgLy8gcHJvdGVjdGVkIGxhc3RWZXJQYXRoOiBbIFZlY3RvcjIsIFZlY3RvcjJdfG51bGw7XG5cbiAgICBwcm90ZWN0ZWQgcGF0aExpc3Q6IFsgVmVjdG9yMltdLCBWZWN0b3IyW10gXSA9IFtbXSwgW11dXG5cbiAgICBpbml0KCl7XG5cbiAgICB9XG5cbiAgICBkZXN0b3J5KCl7XG5cbiAgICB9XG5cbiAgICBvblN0YXJ0KHN0YXR1czogQnJ1c2hTdGF0dXMsIGNvbnRleHQ6IFBDYW52YXNDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHtjdXJDYW52YXNDb250ZXh0MkQ6IGN0eCwgY29sb3J9ID0gY29udGV4dFxuICAgICAgICB0aGlzLiBsYXN0QnJ1c2ggPSBzdGF0dXNcbiAgICAgICAgdGhpcy5pc1BhaW50aW5nID0gdHJ1ZVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3JcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0VmVydGljYWxQYXRoID0gKHBvaW50OlZlY3RvcjIsIHZlcnRpY2FsVmVjdDpWZWN0b3IyKTogW1ZlY3RvcjIsIFZlY3RvcjJdID0+IHtcbiAgICAgICAgY29uc3QgcDEgPSAgVmVjdG9yMi5hZGQocG9pbnQsIHZlcnRpY2FsVmVjdClcbiAgICAgICAgY29uc3QgcDIgPSBWZWN0b3IyLnN1YnRyYWN0KHBvaW50LCB2ZXJ0aWNhbFZlY3QpXG4gICAgICAgIHJldHVybiBbcDEscDJdIFxuICAgIH1cblxuICAgIG9uRHJhdyhicnVzaFN0YXR1czogQnJ1c2hTdGF0dXNbXSwgY29udHg6IFBDYW52YXNDb250ZXh0KTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaXNQYWludGluZyl7XG4gICAgICAgICAgICBjb25zdCAgeyBjdXJDYW52YXNDb250ZXh0MkQ6IGN0eCwgYnJ1c2hXaWR0aCB9ID0gY29udHhcbiAgICAgICAgICAgIGJydXNoU3RhdHVzLmZvckVhY2goIHAgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHt4LHksIHByZXNzdXJlfSA9IHBcbiAgICAgICAgICAgICAgICBsZXQgaGFsZldpZHRoOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gIG5ldyBWZWN0b3IyKCB4LSB0aGlzLmxhc3RCcnVzaC54LCB5IC0gdGhpcy5sYXN0QnJ1c2gueSApXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9yRGlyZWN0aW9uID0gVmVjdG9yMi5ub3JtYWxpemUoZGlyZWN0aW9uKVxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsRGlyZWN0aW9uID0gVmVjdG9yMi52ZXJ0aWNhbChub3JEaXJlY3Rpb24pXG4gICAgICAgICAgICAgICAgLy8gbGV0IHAxOlZlY3RvcjI7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHAyOiBWZWN0b3IyO1xuICAgICAgICAgICAgICAgIC8vIGlmKCF0aGlzLmxhc3RWZXJQYXRoKXtcbiAgICAgICAgICAgICAgICAvLyAgICAgaGFsZldpZHRoID0gdGhpcy5sYXN0QnJ1c2gucHJlc3N1cmUgKiBicnVzaFdpZHRoICogMC41XG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IHZlcnRpY2FsVmVjdG9yID0gVmVjdG9yMi5tdWx0aXB5KHZlcnRpY2FsRGlyZWN0aW9uLCBoYWxmV2lkdGggKVxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBbcG9pbnQyLCBwb2ludDFdID0gdGhpcy5nZXRWZXJ0aWNhbFBhdGgodGhpcy5sYXN0QnJ1c2gsIHZlcnRpY2FsVmVjdG9yKVxuICAgICAgICAgICAgICAgIC8vICAgICBwMSA9IHBvaW50MlxuICAgICAgICAgICAgICAgIC8vICAgICBwMiA9IHBvaW50MVxuICAgICAgICAgICAgICAgIC8vIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vICAgICBwMSA9IHRoaXMubGFzdFZlclBhdGhbMF1cbiAgICAgICAgICAgICAgICAvLyAgICAgcDIgPSB0aGlzLmxhc3RWZXJQYXRoWzFdXG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGhhbGZXaWR0aCA9IHByZXNzdXJlICogYnJ1c2hXaWR0aCAqIDAuNVxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsVmVjdG9yID0gVmVjdG9yMi5tdWx0aXB5KHZlcnRpY2FsRGlyZWN0aW9uLCBoYWxmV2lkdGgpXG4gICAgICAgICAgICAgICAgY29uc3QgW3AxLHAyXSA9IHRoaXMuZ2V0VmVydGljYWxQYXRoKHAsIHZlcnRpY2FsVmVjdG9yKVxuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sYXN0Tm9ybWFsaXplZERpcmVjdGlvbiAmJiBWZWN0b3IyLmRlZ3JlZShWZWN0b3IyLlpFUk8sIHRoaXMubGFzdE5vcm1hbGl6ZWREaXJlY3Rpb24sIG5vckRpcmVjdGlvbikgPiAxODApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGhMaXN0WzFdLnB1c2gocDEpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aExpc3RbMF0ucHVzaChwMikgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aExpc3RbMF0ucHVzaChwMSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoTGlzdFsxXS5wdXNoKHAyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBjdHgubW92ZVRvKHAxLngsIHAxLnkpXG4gICAgICAgICAgICAgICAgLy8gY3R4LmxpbmVUbyhwMi54LCBwMi55KVxuICAgICAgICAgICAgICAgIC8vIGN0eC5saW5lVG8ocDMueCwgcDMueSlcbiAgICAgICAgICAgICAgICAvLyBjdHgubGluZVRvKHA0LngsIHA0LnkpXG4gICAgICAgICAgICAgICAgLy8gY3R4LmxpbmVUbyhwMS54LCBwMS55KVxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEJydXNoID0gcFxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE5vcm1hbGl6ZWREaXJlY3Rpb24gPSBub3JEaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAvLyB0aGlzLmxhc3RWZXJQYXRoID0gWyBwMywgcDRdXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBjdHguY2xvc2VQYXRoKClcbiAgICAgICAgICAgIC8vIGN0eC5maWxsKClcbiAgICAgICAgICAgIC8vIGN0eC5zdHJva2UoKVxuICAgICAgICAgICAgdGhpcy5maWxsUGF0aExpc3QoY3R4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbGxQYXRoTGlzdChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCl7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLnBhdGhMaXN0WzBdXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5wYXRoTGlzdFsxXVxuICAgICAgICBjb25zdCBwYXRoID0gbGVmdC5jb25jYXQoWy4uLnJpZ2h0XS5yZXZlcnNlKCkpXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodClcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIGNvbnN0IGxhc3RJbmQgPSBwYXRoLmxlbmd0aC0xXG4gICAgICAgIGN0eC5tb3ZlVG8ocGF0aFtsYXN0SW5kXSAueCwgcGF0aFtsYXN0SW5kXS55KVxuICAgICAgICBwYXRoLmZvckVhY2goKHt4LCB5fSkgPT4ge1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4LHkpXG4gICAgICAgIH0pXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKVxuICAgICAgICBjdHguZmlsbCgpXG4gICAgICAgIFxuICAgICAgICAvLyB0aGlzLnBhdGhMaXN0ID0gW1tsZWZ0W2xlZnQubGVuZ3RoLTFdXSwgW3JpZ2h0W3JpZ2h0Lmxlbmd0aC0xXV1dXG4gICAgfVxuXG4gICAgb25FbmQoYnJ1c2hTdGF0dXM6IEJydXNoU3RhdHVzLCBjb250eDogUENhbnZhc0NvbnRleHQpIHtcbiAgICAgICAgdGhpcy5pc1BhaW50aW5nID0gZmFsc2VcbiAgICAgICAgLy8gdGhpcy5sYXN0VmVyUGF0aCA9IG51bGxcbiAgICAgICAgLy8gVE9ETyDlsIblhoXovazliLDnm67moIflm77lsYLkuIouXG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBbW10sW11dXG4gICAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},69:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Vector2; });\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n/**\n * The result of Math.atan2 is range from -Math.PI to Math.PI, \n * the function is used to transform the result to range from 0 to 2*Math*PI.\n * \n * @param atan2 The result of Math.atan2.\n * \n * @returns degree range from 0 to 2*Math*PI. \n */\nvar normalizeAtant2 = function normalizeAtant2(atan2) {\n  return atan2 < 0 ? Math.PI * 2 + atan2 : atan2;\n};\n\nvar Vector2 = /*#__PURE__*/function () {\n  function Vector2() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    _classCallCheck(this, Vector2);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Vector2, [{\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }], [{\n    key: "normalize",\n    value: function normalize(v) {\n      var scale = 1 / Vector2.magnitude(v);\n      return new Vector2(v.x * scale, v.y * scale);\n    }\n    /**\n     * get normalized vertical vector2.\n     * @param v \n     */\n\n  }, {\n    key: "vertical",\n    value: function vertical(_ref) {\n      var x = _ref.x,\n          y = _ref.y;\n      return new Vector2(y, -x);\n    }\n  }, {\n    key: "dist",\n    value: function dist(v1, v2) {\n      return Math.sqrt(Math.pow(v1.x - v2.x, 2) + Math.pow(v1.y - v2.y, 2));\n    }\n  }, {\n    key: "magnitude",\n    value: function magnitude(v) {\n      return Math.sqrt(Math.pow(v.x, 2) + Math.pow(v.y, 2));\n    }\n  }, {\n    key: "degree",\n    value: function degree(center, v1, v2) {\n      var deg1 = normalizeAtant2(Math.atan2(v1.y - center.y, v1.x - center.x));\n      var deg2 = normalizeAtant2(Math.atan2(v2.y - center.y, v2.x - center.x));\n      return Math.abs(deg2 - deg1);\n    }\n  }, {\n    key: "add",\n    value: function add(v1, v2) {\n      return new Vector2(v1.x + v2.x, v1.y + v2.y);\n    }\n    /**\n     * rotate as clockwise.\n     * @param v \n     * @param degree \n     */\n\n  }, {\n    key: "rotate",\n    value: function rotate(v, degree) {\n      var magnitude = Vector2.magnitude(v);\n      var deg = normalizeAtant2(Math.atan2(v.y, v.x)) - degree % 360 / 180 * Math.PI;\n      return new Vector2(Math.cos(deg) * magnitude, Math.sin(deg) * magnitude);\n    }\n  }, {\n    key: "multipy",\n    value: function multipy(_ref2, scale) {\n      var x = _ref2.x,\n          y = _ref2.y;\n      return new Vector2(x * scale, y * scale);\n    }\n  }, {\n    key: "subtract",\n    value: function subtract(v1, v2) {\n      return new Vector2(v1.x - v2.x, v1.y - v2.y);\n    }\n  }, {\n    key: "move",\n    value: function move(v, from, to) {\n      var dx = to.x - from.x;\n      var dy = to.y - from.y;\n      return new Vector2(v.x + dx, v.y + dy);\n    }\n  }, {\n    key: "floor",\n    value: function floor(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y;\n      return new Vector2(Math.floor(x), Math.floor(y));\n    }\n  }]);\n\n  return Vector2;\n}();\nVector2.ZERO = new Vector2();\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(normalizeAtant2, "normalizeAtant2", "/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts");\n  reactHotLoader.register(Vector2, "Vector2", "/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9kYXRhL1ZlY3RvcjIudHM/ZGIwMyJdLCJuYW1lcyI6WyJub3JtYWxpemVBdGFudDIiLCJhdGFuMiIsIk1hdGgiLCJQSSIsIlZlY3RvcjIiLCJ4IiwieSIsInYiLCJzY2FsZSIsIm1hZ25pdHVkZSIsInYxIiwidjIiLCJzcXJ0IiwiY2VudGVyIiwiZGVnMSIsImRlZzIiLCJhYnMiLCJkZWdyZWUiLCJkZWciLCJjb3MiLCJzaW4iLCJmcm9tIiwidG8iLCJkeCIsImR5IiwiZmxvb3IiLCJaRVJPIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7Ozs7Ozs7O0FBUUEsSUFBTUEsZUFBZSxHQUFHLFNBQWxCQSxlQUFrQixDQUFDQyxLQUFEO0FBQUEsU0FBbUJBLEtBQUssR0FBQyxDQUFOLEdBQVNDLElBQUksQ0FBQ0MsRUFBTCxHQUFTLENBQVQsR0FBYUYsS0FBdEIsR0FBOEJBLEtBQWpEO0FBQUEsQ0FBeEI7O0FBRU8sSUFBTUcsT0FBYjtBQUVJLHFCQUlDO0FBQUEsUUFIbUJDLENBR25CLHVFQUh1QixDQUd2QjtBQUFBLFFBRG1CQyxDQUNuQix1RUFEdUIsQ0FDdkI7O0FBQUE7O0FBQUEsU0FIbUJELENBR25CLEdBSG1CQSxDQUduQjtBQUFBLFNBRG1CQyxDQUNuQixHQURtQkEsQ0FDbkI7QUFBRTs7QUFOUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw4QkFVcUJDLENBVnJCLEVBVStCO0FBQ3ZCLFVBQU1DLEtBQUssR0FBRyxJQUFJSixPQUFPLENBQUNLLFNBQVIsQ0FBa0JGLENBQWxCLENBQWxCO0FBQ0EsYUFBTyxJQUFJSCxPQUFKLENBQVlHLENBQUMsQ0FBQ0YsQ0FBRixHQUFNRyxLQUFsQixFQUF5QkQsQ0FBQyxDQUFDRCxDQUFGLEdBQU1FLEtBQS9CLENBQVA7QUFDSDtBQUVEOzs7OztBQWZKO0FBQUE7QUFBQSxtQ0FtQm9DO0FBQUEsVUFBZEgsQ0FBYyxRQUFk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QUFPSyxFQUFFLENBQUNMLENBQW5DLENBQVA7QUFDSDtBQTFETDtBQUFBO0FBQUEseUJBMkRnQkMsQ0EzRGhCLEVBMkQ0QmMsSUEzRDVCLEVBMkQyQ0MsRUEzRDNDLEVBMkR1RDtBQUMvQyxVQUFNQyxFQUFFLEdBQUdELEVBQUUsQ0FBQ2pCLENBQUgsR0FBT2dCLElBQUksQ0FBQ2hCLENBQXZCO0FBQ0EsVUFBTW1CLEVBQUUsR0FBR0YsRUFBRSxDQUFDaEIsQ0FBSCxHQUFPZSxJQUFJLENBQUNmLENBQXZCO0FBQ0EsYUFBTyxJQUFJRixPQUFKLENBQWFHLENBQUMsQ0FBQ0YsQ0FBRixHQUFNa0IsRUFBbkIsRUFBdUJoQixDQUFDLENBQUNELENBQUYsR0FBTWtCLEVBQTdCLENBQVA7QUFDSDtBQS9ETDtBQUFBO0FBQUEsaUNBaUVpQztBQUFBLFVBQWZuQixDQUFlLFNBQWZBLENBQWU7QUFBQSxVQUFaQyxDQUFZLFNBQVpBLENBQVk7QUFDekIsYUFBTyxJQUFJRixPQUFKLENBQVlGLElBQUksQ0FBQ3VCLEtBQUwsQ0FBV3BCLENBQVgsQ0FBWixFQUEyQkgsSUFBSSxDQUFDdUIsS0FBTCxDQUFXbkIsQ0FBWCxDQUEzQixDQUFQO0FBQ0g7QUFuRUw7O0FBQUE7QUFBQTtBQUFhRixPLENBUUZzQixJLEdBQU8sSUFBSXRCLE9BQUosRTs7Ozs7Ozs7OzswQkFWWkosZTswQkFFT0ksTyIsImZpbGUiOiI2OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBUaGUgcmVzdWx0IG9mIE1hdGguYXRhbjIgaXMgcmFuZ2UgZnJvbSAtTWF0aC5QSSB0byBNYXRoLlBJLCBcbiAqIHRoZSBmdW5jdGlvbiBpcyB1c2VkIHRvIHRyYW5zZm9ybSB0aGUgcmVzdWx0IHRvIHJhbmdlIGZyb20gMCB0byAyKk1hdGgqUEkuXG4gKiBcbiAqIEBwYXJhbSBhdGFuMiBUaGUgcmVzdWx0IG9mIE1hdGguYXRhbjIuXG4gKiBcbiAqIEByZXR1cm5zIGRlZ3JlZSByYW5nZSBmcm9tIDAgdG8gMipNYXRoKlBJLiBcbiAqL1xuY29uc3Qgbm9ybWFsaXplQXRhbnQyID0gKGF0YW4yOiBudW1iZXIpID0+IGF0YW4yPDA/IE1hdGguUEkgKjIgKyBhdGFuMiA6IGF0YW4yXG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgeCA9IDAsXG5cbiAgICAgICAgcHVibGljIHJlYWRvbmx5IHkgPSAwLFxuICAgICl7fVxuXG4gICAgc3RhdGljIFpFUk8gPSBuZXcgVmVjdG9yMigpXG5cbiAgICBzdGF0aWMgbm9ybWFsaXplKHY6VmVjdG9yMil7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gMSAvIFZlY3RvcjIubWFnbml0dWRlKHYpXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih2LnggKiBzY2FsZSwgdi55ICogc2NhbGUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IG5vcm1hbGl6ZWQgdmVydGljYWwgdmVjdG9yMi5cbiAgICAgKiBAcGFyYW0gdiBcbiAgICAgKi9cbiAgICBzdGF0aWMgdmVydGljYWwoeyB4LCB5fTpWZWN0b3IyKXtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHksIC14KVxuICAgIH1cblxuICAgIHN0YXRpYyBkaXN0KHYxOiBWZWN0b3IyLCB2MjogVmVjdG9yMil7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKHYxLnggLSB2Mi54KSoqMiArICh2MS55IC0gdjIueSkqKjIgKVxuICAgIH1cblxuICAgIHN0YXRpYyBtYWduaXR1ZGUodjogVmVjdG9yMil7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodi54KioyICsgdi55KioyIClcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVncmVlKGNlbnRlcjogVmVjdG9yMiwgdjE6VmVjdG9yMiwgdjI6IFZlY3RvcjIpe1xuICAgICAgICBjb25zdCBkZWcxID0gbm9ybWFsaXplQXRhbnQyKE1hdGguYXRhbjIodjEueS1jZW50ZXIueSwgdjEueCAtIGNlbnRlci54KSlcbiAgICAgICAgY29uc3QgZGVnMiA9IG5vcm1hbGl6ZUF0YW50MihNYXRoLmF0YW4yKHYyLnkgLSBjZW50ZXIueSwgdjIueCAtIGNlbnRlci54KSlcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGRlZzIgLSBkZWcxKVxuICAgIH1cblxuICAgIHN0YXRpYyBhZGQodjE6IFZlY3RvcjIsIHYyOiBWZWN0b3IyKXtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHYxLnggKyB2Mi54LCB2MS55ICsgdjIueSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByb3RhdGUgYXMgY2xvY2t3aXNlLlxuICAgICAqIEBwYXJhbSB2IFxuICAgICAqIEBwYXJhbSBkZWdyZWUgXG4gICAgICovXG4gICAgc3RhdGljIHJvdGF0ZSh2OlZlY3RvcjIsIGRlZ3JlZTogbnVtYmVyKXtcbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gVmVjdG9yMi5tYWduaXR1ZGUodilcbiAgICAgICAgY29uc3QgZGVnICA9IG5vcm1hbGl6ZUF0YW50MihNYXRoLmF0YW4yKHYueSwgdi54KSkgLSAoKGRlZ3JlZSUzNjApLzE4MCAqTWF0aC5QSSlcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKE1hdGguY29zKGRlZykgKiBtYWduaXR1ZGUsIE1hdGguc2luKGRlZykgKiBtYWduaXR1ZGUpXG4gICAgfVxuXG4gICAgc3RhdGljIG11bHRpcHkoe3gsIHl9OiBWZWN0b3IyLCBzY2FsZTogbnVtYmVyKXtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgqc2NhbGUsIHkqc2NhbGUpXG4gICAgfVxuXG4gICAgc3RhdGljIHN1YnRyYWN0KHYxOiBWZWN0b3IyLCB2MjogVmVjdG9yMil7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih2MS54IC0gdjIueCwgdjEueSAtIHYyLnkpXG4gICAgfVxuICAgIHN0YXRpYyBtb3ZlKHY6IFZlY3RvcjIsIGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyKXtcbiAgICAgICAgY29uc3QgZHggPSB0by54IC0gZnJvbS54XG4gICAgICAgIGNvbnN0IGR5ID0gdG8ueSAtIGZyb20ueVxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoIHYueCArIGR4LCB2LnkgKyBkeSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZmxvb3Ioe3gsIHl9OiBWZWN0b3IyKXtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKE1hdGguZmxvb3IoeCksIE1hdGguZmxvb3IoeSkpXG4gICAgfVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///69\n')},99:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PEventEmiter; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\nvar PEventEmiter = /*#__PURE__*/function () {\n  function PEventEmiter() {\n    _classCallCheck(this, PEventEmiter);\n\n    this.eventEmitter = new events__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();\n  }\n\n  _createClass(PEventEmiter, [{\n    key: "on",\n    value: function on(event, listener) {\n      var fun = listener;\n      this.eventEmitter.addListener(event, fun);\n    }\n  }, {\n    key: "off",\n    value: function off(event, listener) {\n      var fun = listener;\n      this.eventEmitter.removeListener(event, fun);\n    }\n  }, {\n    key: "emit",\n    value: function emit(event, params) {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.eventEmitter.emit(event, params);\n      }, 1);\n    }\n  }, {\n    key: "__reactstandin__regenerateByEval",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return PEventEmiter;\n}();\n\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(PEventEmiter, "PEventEmiter", "/Users/muyin/Documents/code/WebPencil/src/util/event.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9ldmVudC50cz9jOTA2Il0sIm5hbWVzIjpbIlBFdmVudEVtaXRlciIsImV2ZW50RW1pdHRlciIsIkV2ZW50RW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJmdW4iLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwicGFyYW1zIiwic2V0VGltZW91dCIsImVtaXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztJQUdxQkEsWTs7OztTQUVQQyxZLEdBQWUsSUFBSUMsbURBQUosRTs7Ozs7dUJBRUtDLEssRUFBVUMsUSxFQUF3QztBQUMvRSxVQUFNQyxHQUEwQixHQUFHRCxRQUFuQztBQUNBLFdBQUtILFlBQUwsQ0FBa0JLLFdBQWxCLENBQThCSCxLQUE5QixFQUErQ0UsR0FBL0M7QUFDQTs7O3dCQUU4QkYsSyxFQUFVQyxRLEVBQXdDO0FBQ2hGLFVBQU1DLEdBQTBCLEdBQUdELFFBQW5DO0FBQ0EsV0FBS0gsWUFBTCxDQUFrQk0sY0FBbEIsQ0FBaUNKLEtBQWpDLEVBQWtERSxHQUFsRDtBQUNBOzs7eUJBRStCRixLLEVBQVVLLE0sRUFBcUI7QUFBQTs7QUFDM0RDLGdCQUFVLENBQUMsWUFBTTtBQUNiLGFBQUksQ0FBQ1IsWUFBTCxDQUFrQlMsSUFBbEIsQ0FBdUJQLEtBQXZCLEVBQXdDSyxNQUF4QztBQUNILE9BRlMsRUFFUixDQUZRLENBQVY7QUFHSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBbEJnQlIsWSIsImZpbGUiOiI5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cydcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQRXZlbnRFbWl0ZXIgPEV2ZW50RGF0YT4ge1xuICBcbiAgICBwcm90ZWN0ZWQgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgICBvbjxUIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihldmVudDogVCwgbGlzdGVuZXI6IChldmVudDogRXZlbnREYXRhW1RdKSA9PiB2b2lkKXtcbiAgICBcdGNvbnN0IGZ1bjogKC4uLnA6IGFueVtdKSA9PiB2b2lkID0gbGlzdGVuZXIgYXMgYW55IFxuICAgIFx0dGhpcy5ldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQgYXMgc3RyaW5nLCBmdW4gKVxuICAgIH1cblxuICAgIG9mZjxUIGV4dGVuZHMga2V5b2YgRXZlbnREYXRhPihldmVudDogVCwgbGlzdGVuZXI6IChldmVudDogRXZlbnREYXRhW1RdKSA9PiB2b2lkKXtcbiAgICBcdGNvbnN0IGZ1bjogKC4uLnA6IGFueVtdKSA9PiB2b2lkID0gbGlzdGVuZXIgYXMgYW55IFxuICAgIFx0dGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQgYXMgc3RyaW5nLCBmdW4gKVxuICAgIH1cblxuICAgIGVtaXQ8VCBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ6IFQsIHBhcmFtczogRXZlbnREYXRhW1RdKXtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KGV2ZW50IGFzIHN0cmluZywgcGFyYW1zKVxuICAgICAgICB9LDEpXG4gICAgfVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99\n')}}]);