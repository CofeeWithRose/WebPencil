(window.webpackJsonp=window.webpackJsonp||[]).push([[0,11,15,17],{20:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"RGBA",(function(){return RGBA})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RGBA=function(){function RGBA(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,RGBA),this.r=e,this.g=t,this.b=r,this.a=o}return _createClass(RGBA,null,[{key:"Lerp",value:function(e,t,r){for(var o=[],a=(t.r-e.r)/r,n=(t.g-e.g)/r,i=(t.b-e.b)/r,_=(t.a-e.a)/r,l=0;l<r;l++)o.push(new RGBA(e.r+a*l,e.g+n*l,e.b+i*l,e.a+_*l));return o}},{key:"mutipy",value:function(e,t){return new RGBA(e.r*t,e.g*t,e.b*t)}},{key:"add",value:function(e,t){var r=e.r,o=e.g,a=e.b;return new RGBA(r+t.r,o+t.g,a+t.b)}},{key:"mix",value:function(e,t,r){return new RGBA(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r)}},{key:"getLerpColor",value:function(e,t,r){var o=e.r,a=e.g,n=e.b,i=e.a;return new RGBA((t.r-o)*r+o,(t.g-a)*r+a,(t.b-n)*r+n,(t.a-i)*r+i)}}]),_createClass(RGBA,[{key:"toRGBAString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RGBA}(),reactHotLoader,leaveModule;RGBA.BLACK=new RGBA(0,0,0),RGBA.WHITE=new RGBA(255,255,255),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RGBA,"RGBA","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\color-selector\\rgba.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PCanvasController",(function(){return PCanvasController}));var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20),_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82),_pcanvas_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25),_dec,_dec2,_dec3,_dec4,_class,_temp,enterModule;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _applyDecoratedDescriptor(e,t,r,o,a){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},pointEvent2BrunshStatus=function(e){var t=e.offsetX,r=e.offsetY,o=e.tiltX,a=e.tiltY,n=e.pressure;return n=n>1?.01*n:n,new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_3__.BrushStatus(t,r,n,o,a)},PCanvasControllerOrg=(_dec=Object(_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__.a)("init",{shouldEmitParams:!1}),_dec2=Object(_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__.a)("colorchange"),_dec3=Object(_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__.a)("addLayer",{paramsSource:"return"}),_dec4=Object(_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__.a)("contentChange",{paramsSource:"return"}),_temp=function(){function PCanvasControllerOrg(){_classCallCheck(this,PCanvasControllerOrg),this.context=void 0,this.layerManager=void 0,this.color=_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK}return _createClass(PCanvasControllerOrg,[{key:"init",value:function(e,t){var r=e.wrap,o=t.workInfo,a=o.width,n=o.height;r.style.width="".concat(a,"px"),r.style.height="".concat(n,"px"),this.layerManager=new _pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__.PcanvasLayers({wrap:r,width:a,height:n},t.contens.layers),this.context=new _pcanvas_context__WEBPACK_IMPORTED_MODULE_2__.PCanvasContext(this.layerManager.getCanvas(),this.layerManager.getContext(),a,n)}},{key:"setColor",value:function(e){this.context.color=e.toRGBAString(),this.color=e}},{key:"getLayers",value:function(){return _toConsumableArray(this.layerManager.layers)}},{key:"addLayer",value:function(){return this.layerManager.addLayer()}},{key:"setBrushWidth",value:function(e){this.context.brushWidth=e}},{key:"setOpacity",value:function(e){var t=this.color,r=t.r,o=t.g,a=t.b,n=new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA(r,o,a,e);this.setColor(n)}},{key:"setBrush",value:function(e){this.context.brush&&this.context.brush.destory(),e.init(),this.context.brush=e}},{key:"onPointerDown",value:function(e){this.context.brush.onStart(pointEvent2BrunshStatus(e),this.context)}},{key:"onPointerMove",value:function(e){var t;t=e.getCoalescedEvents?e.getCoalescedEvents():[e],this.context.brush.onDraw(t.map((function(e){return pointEvent2BrunshStatus(e)})),this.context)}},{key:"onPointerUp",value:function(e){return this.context.brush.onEnd(pointEvent2BrunshStatus(e),this.context),this.layerManager.applyTempCanvas(),this.layerManager.getFocusDetail()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasControllerOrg}(),_class=_temp,_applyDecoratedDescriptor(_class.prototype,"init",[_dec],Object.getOwnPropertyDescriptor(_class.prototype,"init"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setColor",[_dec2],Object.getOwnPropertyDescriptor(_class.prototype,"setColor"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addLayer",[_dec3],Object.getOwnPropertyDescriptor(_class.prototype,"addLayer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPointerUp",[_dec4],Object.getOwnPropertyDescriptor(_class.prototype,"onPointerUp"),_class.prototype),_class),PCanvasController=Object(_decorators_emiterble__WEBPACK_IMPORTED_MODULE_1__.b)()(PCanvasControllerOrg),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(pointEvent2BrunshStatus,"pointEvent2BrunshStatus","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcnvas.controller.ts"),reactHotLoader.register(PCanvasControllerOrg,"PCanvasControllerOrg","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcnvas.controller.ts"),reactHotLoader.register(PCanvasController,"PCanvasController","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcnvas.controller.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},24:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PCanvasContext",(function(){return PCanvasContext}));var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20),_top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PCanvasContext=function(){function PCanvasContext(e,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__.Brush,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK.toRGBAString(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;_classCallCheck(this,PCanvasContext),this.curCanvas=e,this.curCanvasContext2D=t,this.width=r,this.height=o,this.brush=a,this.color=n,this.brushWidth=i}return _createClass(PCanvasContext,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasContext}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PCanvasContext,"PCanvasContext","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcanvas.context.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},25:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PcanvasLayers",(function(){return PcanvasLayers}));var _workStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PcanvasLayers=function(){function PcanvasLayers(e,t){var r=this;_classCallCheck(this,PcanvasLayers),this.wrapInfo=e,this.layers=t,this.tempcover=void 0,this.focusedLayerDetail=void 0;var o=e.wrap,a=null;t.forEach((function(e,n){var i=e.canvas,_=(e.layerId,e.type),l=e.visible;o.insertBefore(i,a),a=i,l||(i.className="unvisible"),_===_workStorage__WEBPACK_IMPORTED_MODULE_0__.b.TEMP_COVER&&(r.tempcover=e,r.focusedLayerDetail=t[n+1])}))}return _createClass(PcanvasLayers,[{key:"getCanvas",value:function(){return this.tempcover.canvas}},{key:"applyTempCanvas",value:function(){var e=this.focusedLayerDetail.canvas.getContext("2d"),t=this.tempcover.canvas.getContext("2d");if(e&&t){var r=this.tempcover.canvas,o=r.width,a=r.height;e.drawImage(this.tempcover.canvas,0,0,o,a),t.clearRect(0,0,o,a)}}},{key:"getFocusDetail",value:function(){return this.focusedLayerDetail}},{key:"focusLayer",value:function(e){e.canvas&&(this.wrapInfo.wrap.insertBefore(this.tempcover.canvas,e.canvas),this.tempcover=e)}},{key:"addLayer",value:function(){var e=this.wrapInfo.wrap,t=this.layers[this.layers.length-1],r=_workStorage__WEBPACK_IMPORTED_MODULE_0__.a.create(this.wrapInfo);return e.insertBefore(r.canvas,t.canvas),this.layers.push(r),this.focusLayer(r),r}},{key:"getContext",value:function(){var e=this.tempcover.canvas.getContext("2d");if(null===e)throw"get context faliled.";return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PcanvasLayers}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PcanvasLayers,"PcanvasLayers","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcanvas.layer.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"BrushStatus",(function(){return BrushStatus})),__webpack_require__.d(__webpack_exports__,"BrushType",(function(){return BrushType})),__webpack_require__.d(__webpack_exports__,"Brush",(function(){return Brush}));var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),enterModule;function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],o=!0,a=!1,n=void 0;try{for(var i,_=e[Symbol.iterator]();!(o=(i=_.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==_.return||_.return()}finally{if(a)throw n}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BrushStatus=function(){function BrushStatus(e,t,r,o,a){_classCallCheck(this,BrushStatus),this.x=e,this.y=t,this.pressure=r,this.tiltX=o,this.tiltY=a}return _createClass(BrushStatus,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BrushStatus}(),BrushType;!function(e){e[e.pen=1]="pen",e[e.selector=2]="selector"}(BrushType||(BrushType={}));var Brush=function(){function Brush(){_classCallCheck(this,Brush),this.type=BrushType.pen,this.name="default",this.isPainting=!1,this.lastBrush=void 0,this.lastVerPath=void 0,this.getVerticalPath=function(e,t){return[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.add(e,t),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(e,t)]}}return _createClass(Brush,[{key:"init",value:function(){}},{key:"destory",value:function(){}},{key:"onStart",value:function(e,t){var r=t.curCanvasContext2D,o=t.color,a=t.brushWidth;this.lastBrush=e,this.isPainting=!0,r.fillStyle=o,r.beginPath(),r.moveTo(e.x,e.y),r.arc(e.x,e.y,a*e.pressure*.5,0,2*Math.PI),r.closePath(),r.fill()}},{key:"onDraw",value:function(e,t){var r=this;if(this.isPainting){var o=t.curCanvasContext2D,a=t.brushWidth;o.beginPath(),e.forEach((function(e){var t,n,i,_=e.x,l=e.y,c=e.pressure,s=new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a(_-r.lastBrush.x,l-r.lastBrush.y),u=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.normalize(s),d=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.vertical(u);if(r.lastVerPath)n=r.lastVerPath[0],i=r.lastVerPath[1];else{t=r.lastBrush.pressure*a*.5;var f=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),p=_slicedToArray(r.getVerticalPath(r.lastBrush,f),2);n=p[0],i=p[1]}t=c*a*.5;var v=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),y=_slicedToArray(r.getVerticalPath(e,v),2),h=y[0],b=y[1];o.moveTo(n.x,n.y),o.lineTo(i.x,i.y),o.lineTo(h.x,h.y),o.lineTo(b.x,b.y),o.lineTo(n.x,n.y),r.lastBrush=e,r.lastVerPath=[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(b,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(u,.5)),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(h,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(u,.5))]})),o.closePath(),o.fill()}}},{key:"onEnd",value:function(e,t){this.isPainting=!1,this.lastVerPath=null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Brush}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BrushStatus,"BrushStatus","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\brush\\index.tsx"),reactHotLoader.register(Brush,"Brush","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\brush\\index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},50:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"c",(function(){return WorkDetail})),__webpack_require__.d(__webpack_exports__,"b",(function(){return LayerDetailType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return LayerDetail})),__webpack_require__.d(__webpack_exports__,"d",(function(){return WorkStorage}));var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41),lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__),_pages_paint_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_canvas_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51),enterModule;function asyncGeneratorStep(e,t,r,o,a,n,i){try{var _=e[n](i),l=_.value}catch(e){return void r(e)}_.done?t(l):Promise.resolve(l).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var n=e.apply(t,r);function i(e){asyncGeneratorStep(n,o,a,i,_,"next",e)}function _(e){asyncGeneratorStep(n,o,a,i,_,"throw",e)}i(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},WorkInfo=function(){function WorkInfo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Date.now(),n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Date.now(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()("work_".concat(Date.now(),"_"));_classCallCheck(this,WorkInfo),this.width=e,this.height=t,this.name=r,this.thumbnail=o,this.createTime=a,this.updateTime=n,this.workId=i}return _createClass(WorkInfo,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),WorkInfo}(),WorkDetail=function(){function WorkDetail(e,t){_classCallCheck(this,WorkDetail),this.workInfo=e,this.contens=t}return _createClass(WorkDetail,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"createEmpty",value:function(e,t,r){var o=new WorkInfo(e,t,"new work",Object(_canvas_util__WEBPACK_IMPORTED_MODULE_2__.a)(e,t,r)),a=new WorkLayers;return WorkLayers.addLayer(a,o,LayerDetail.create(o,_pages_paint_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_1__.RGBA.WHITE)),WorkLayers.addLayer(a,o,LayerDetail.create(o,void 0,LayerDetailType.TEMP_COVER)),new WorkDetail(o,a)}}]),WorkDetail}(),LayerDetailType;!function(e){e[e.TEMP_COVER=1]="TEMP_COVER",e[e.NORMAL=2]="NORMAL"}(LayerDetailType||(LayerDetailType={}));var LayerDetail=function(){function LayerDetail(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LayerDetailType.NORMAL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"new layer",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()("layer-".concat(Date.now(),"-"));_classCallCheck(this,LayerDetail),this.canvas=e,this.type=t,this.name=r,this.visible=o,this.layerId=a}return _createClass(LayerDetail,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"create",value:function(e,t,r){var o=e.width,a=e.height,n=Object(_canvas_util__WEBPACK_IMPORTED_MODULE_2__.a)(o,a,t),i=new LayerDetail(n,r);return n.setAttribute("layerId",i.layerId),i}}]),LayerDetail}(),WorkLayers=function(){function WorkLayers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()("worklayer-".concat(Date.now(),"-"));_classCallCheck(this,WorkLayers),this.workLayersId=e,this.layers=[]}return _createClass(WorkLayers,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"addLayer",value:function(e,t,r){var o=t.width,a=t.height;r||(r=new LayerDetail(Object(_canvas_util__WEBPACK_IMPORTED_MODULE_2__.a)(o,a))),e.layers.unshift(r)}}]),WorkLayers}(),WorkStorage=function(){function e(){_classCallCheck(this,e)}var t,r,o,a,n,i;return _createClass(e,null,[{key:"addWork",value:(i=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"removeWork",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"updateWorkInfo",value:(a=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"batchUpdateLayerDetail",value:(o=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"getWorkDetail",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WorkDetail.createEmpty(screen.width,screen.height,_pages_paint_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_1__.RGBA.WHITE));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"getWorkList",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(WorkInfo,"WorkInfo","D:\\code\\WebPencil\\src\\workStorage\\index.ts"),reactHotLoader.register(WorkDetail,"WorkDetail","D:\\code\\WebPencil\\src\\workStorage\\index.ts"),reactHotLoader.register(LayerDetail,"LayerDetail","D:\\code\\WebPencil\\src\\workStorage\\index.ts"),reactHotLoader.register(WorkLayers,"WorkLayers","D:\\code\\WebPencil\\src\\workStorage\\index.ts"),reactHotLoader.register(WorkStorage,"WorkStorage","D:\\code\\WebPencil\\src\\workStorage\\index.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},51:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return l}));var o,a=r(41),n=r.n(a);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,_,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=document.createElement("canvas");o.width=e,o.height=t,o.setAttribute("uuid",n()("canvasId-"));var a=o.getContext("2d");return a&&r&&(a.fillStyle=r.toRGBAString(),a.fillRect(0,0,e,t)),o};(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(l,"createCanvas","D:\\code\\WebPencil\\src\\workStorage\\canvas.util.ts"),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r(12)(e))},52:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"normalize",value:function(e){var t=1/Vector2.magnitude(e);return new Vector2(e.x*t,e.y*t)}},{key:"vertical",value:function(e){var t=e.x;return new Vector2(e.y,-t)}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var o=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),a=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(a-o)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),o=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(o)*r,Math.sin(o)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var o=r.x-t.x,a=r.y-t.y;return new Vector2(e.x+o,e.y+a)}},{key:"floor",value:function(e){var t=e.x,r=e.y;return new Vector2(Math.floor(t),Math.floor(r))}}]),Vector2}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},82:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"b",(function(){return emitterble})),__webpack_require__.d(__webpack_exports__,"a",(function(){return emitAfter}));var events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83),events__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},emitterble=function emitterble(){return function(constructor){var _temp;return _temp=function(_constructor){function Emitterble(){var e,t;_classCallCheck(this,Emitterble);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Emitterble)).call.apply(e,[this].concat(o)))).eventEmitterDec=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,t}return _inherits(Emitterble,_constructor),_createClass(Emitterble,[{key:"on",value:function(e,t){this.eventEmitterDec.addListener(e,t)}},{key:"off",value:function(e,t){this.eventEmitterDec.removeListener(e,t)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Emitterble}(constructor),_temp}},defaultOptions={shouldEmitParams:!0,paramsSource:"params"},emitAfter=function(e,t){var r=t=_objectSpread({},defaultOptions,{},t),o=r.shouldEmitParams,a=r.paramsSource;return function(t,r,n){var i=t[r];if("function"!=typeof i)throw"the property [".concat(r,"] should be function!");n.value=function(){var t,r=this.eventEmitterDec;if(!r)throw"".concat(this," should be decorate by  emitterble!");for(var n=arguments.length,_=new Array(n),l=0;l<n;l++)_[l]=arguments[l];var c=(t=i).call.apply(t,[this].concat(_));try{var s=o?"params"===a?_:[c]:[];r.emit.apply(r,[e].concat(_toConsumableArray(s)))}catch(e){console.error(e)}return c}}},reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(emitterble,"emitterble","D:\\code\\WebPencil\\src\\decorators\\emiterble.ts"),reactHotLoader.register(defaultOptions,"defaultOptions","D:\\code\\WebPencil\\src\\decorators\\emiterble.ts"),reactHotLoader.register(emitAfter,"emitAfter","D:\\code\\WebPencil\\src\\decorators\\emiterble.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))},83:function(e,t,r){"use strict";var o,a="object"==typeof Reflect?Reflect:null,n=a&&"function"==typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};o=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function _(){_.init.call(this)}e.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function u(e,t,r,o){var a,n,i,_;if(c(r),void 0===(n=e._events)?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),n=e._events),i=n[t]),void 0===i)i=n[t]=r,++e._eventsCount;else if("function"==typeof i?i=n[t]=o?[r,i]:[i,r]:o?i.unshift(r):i.push(r),(a=s(e))>0&&i.length>a&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,_=l,console&&console.warn&&console.warn(_)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=d.bind(o);return a.listener=r,o.wrapFn=a,a}function p(e,t,r){var o=e._events;if(void 0===o)return[];var a=o[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):y(a,a.length)}function v(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),_.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return s(this)},_.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var _=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw _.context=i,_}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,s=y(l,c);for(r=0;r<c;++r)n(s[r],this,t)}return!0},_.prototype.addListener=function(e,t){return u(this,e,t,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(e,t){return u(this,e,t,!0)},_.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},_.prototype.removeListener=function(e,t){var r,o,a,n,i;if(c(t),void 0===(o=this._events))return this;if(void 0===(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){i=r[n].listener,a=n;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(o[e]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",e,i||t)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(e){var t,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,n=Object.keys(r);for(o=0;o<n.length;++o)"removeListener"!==(a=n[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},_.prototype.listeners=function(e){return p(this,e,!0)},_.prototype.rawListeners=function(e){return p(this,e,!1)},_.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},_.prototype.listenerCount=v,_.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}}}]);