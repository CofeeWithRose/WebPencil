(window.webpackJsonp=window.webpackJsonp||[]).push([[5,16,27],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvas", function() { return PCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "usePCanvas", function() { return usePCanvas; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44);\n/* harmony import */ var _style_less__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_less__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useTransform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85);\n/* harmony import */ var _pcnvas_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PCanvasController", function() { return _pcnvas_controller__WEBPACK_IMPORTED_MODULE_3__["PCanvasController"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CanvasEventData", function() { return _pcnvas_controller__WEBPACK_IMPORTED_MODULE_3__["CanvasEventData"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CanvasEvent", function() { return _pcnvas_controller__WEBPACK_IMPORTED_MODULE_3__["CanvasEvent"]; });\n\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd__WEBPACK_IMPORTED_MODULE_4__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\nvar usePCanvas = function usePCanvas() {\n  var _useRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(new _pcnvas_controller__WEBPACK_IMPORTED_MODULE_3__["PCanvasController"]()),\n      pCanvas = _useRef.current;\n\n  return {\n    pCanvas: pCanvas\n  };\n};\n/**\n * 手绘编辑器的画板.\n */\n\n\n__signature__(usePCanvas, "useRef{{current: pCanvas}}");\n\nvar PCanvas = function PCanvas(_ref) {\n  var initValue = _ref.initValue,\n      pCanvasController = _ref.pCanvasController,\n      loading = _ref.loading;\n  var coverRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);\n  var wrapRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);\n  var viewRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0.1),\n      _useState2 = _slicedToArray(_useState, 2),\n      minScale = _useState2[0],\n      setMinScale = _useState2[1];\n\n  Object(_hooks_useTransform__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"])({\n    minScale: minScale,\n    maxScale: 1,\n    viewRef: viewRef,\n    transRef: wrapRef,\n    scaleRef: wrapRef\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {\n    if (!initValue) return;\n\n    if (pCanvasController && wrapRef.current && coverRef.current) {\n      var wrapInfo = {\n        wrap: wrapRef.current,\n        cover: coverRef.current\n      };\n      pCanvasController.init(wrapInfo, initValue);\n      return function () {};\n    }\n  }, [initValue]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {\n    if (!initValue) return;\n    var cover = coverRef.current;\n\n    if (cover) {\n      var onPointerDown = function onPointerDown(pointEvent) {\n        if (pCanvasController) {\n          pCanvasController.onPointerDown(pointEvent);\n        }\n      };\n\n      var onPointerMove = function onPointerMove(pointEvent) {\n        if (pCanvasController) {\n          pCanvasController.onPointerMove(pointEvent);\n        }\n      };\n\n      var onPointerUp = function onPointerUp(pointEvent) {\n        if (pCanvasController) {\n          pCanvasController.onPointerUp(pointEvent);\n        }\n      };\n\n      cover.addEventListener(\'pointerdown\', onPointerDown, {\n        passive: false\n      });\n      cover.addEventListener(\'pointermove\', onPointerMove, {\n        passive: false\n      });\n      cover.addEventListener(\'pointerup\', onPointerUp, {\n        passive: false\n      });\n      return function () {\n        cover.removeEventListener(\'pointerdown\', onPointerDown);\n        cover.removeEventListener(\'pointermove\', onPointerMove);\n        cover.removeEventListener(\'pointerup\', onPointerUp);\n      };\n    }\n  }, [coverRef.current, initValue]);\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {\n    ref: viewRef,\n    className: _style_less__WEBPACK_IMPORTED_MODULE_1___default.a.pCanvas\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {\n    ref: wrapRef,\n    className: _style_less__WEBPACK_IMPORTED_MODULE_1___default.a.canvasWrap\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    ref: coverRef,\n    className: _style_less__WEBPACK_IMPORTED_MODULE_1___default.a.cover\n  })), loading && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: _style_less__WEBPACK_IMPORTED_MODULE_1___default.a.mask,\n    onMouseMove: function onMouseMove(_ref2) {\n      var nativeEvent = _ref2.nativeEvent;\n      return nativeEvent.stopPropagation();\n    }\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__["Spin"], null)));\n};\n\n__signature__(PCanvas, "useRef{coverRef}\\nuseRef{wrapRef}\\nuseRef{viewRef}\\nuseState{[ minScale, setMinScale ](0.1)}\\nuseTransform{}\\nuseEffect{}\\nuseEffect{}", function () {\n  return [_hooks_useTransform__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"]];\n});\n\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(usePCanvas, "usePCanvas", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/index.tsx");\n  reactHotLoader.register(PCanvas, "PCanvas", "/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/index.tsx");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9pbmRleC50c3g/NGJmNSJdLCJuYW1lcyI6WyJ1c2VQQ2FudmFzIiwidXNlUmVmIiwiUENhbnZhc0NvbnRyb2xsZXIiLCJwQ2FudmFzIiwiY3VycmVudCIsIlBDYW52YXMiLCJpbml0VmFsdWUiLCJwQ2FudmFzQ29udHJvbGxlciIsImxvYWRpbmciLCJjb3ZlclJlZiIsIndyYXBSZWYiLCJ2aWV3UmVmIiwidXNlU3RhdGUiLCJtaW5TY2FsZSIsInNldE1pblNjYWxlIiwidXNlVHJhbnNmb3JtIiwibWF4U2NhbGUiLCJ0cmFuc1JlZiIsInNjYWxlUmVmIiwidXNlRWZmZWN0Iiwid3JhcEluZm8iLCJ3cmFwIiwiY292ZXIiLCJpbml0Iiwib25Qb2ludGVyRG93biIsInBvaW50RXZlbnQiLCJvblBvaW50ZXJNb3ZlIiwib25Qb2ludGVyVXAiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzdHlsZXMiLCJjYW52YXNXcmFwIiwibWFzayIsIm5hdGl2ZUV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFhQyxJQUFNQSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUFNO0FBQUEsZ0JBQ0dDLG9EQUFNLENBQUMsSUFBSUMsb0VBQUosRUFBRCxDQURUO0FBQUEsTUFDUkMsT0FEUSxXQUNqQkMsT0FEaUI7O0FBRXhCLFNBQU87QUFDTEQsV0FBTyxFQUFQQTtBQURLLEdBQVA7QUFHRCxDQUxBO0FBT0Q7Ozs7O2NBUE9ILFU7O0FBVU4sSUFBTUssT0FBTyxHQUFHLFNBQVZBLE9BQVUsT0FBNEQ7QUFBQSxNQUF6REMsU0FBeUQsUUFBekRBLFNBQXlEO0FBQUEsTUFBOUNDLGlCQUE4QyxRQUE5Q0EsaUJBQThDO0FBQUEsTUFBM0JDLE9B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RSxhQUFTLEVBQUVxQixrREFBTSxDQUFDQztBQUZwQixLQUlFO0FBQUssT0FBRyxFQUFFdkIsUUFBVjtBQUFvQixhQUFTLEVBQUVzQixrREFBTSxDQUFDVDtBQUF0QyxJQUpGLENBTEssRUFXSGQsT0FBTyxJQUNQO0FBQUssYUFBUyxFQUFFdUIsa0RBQU0sQ0FBQ0UsSUFBdkI7QUFBNkIsZUFBVyxFQUFHO0FBQUEsVUFBRUMsV0FBRixTQUFFQSxXQUFGO0FBQUEsYUFBbUJBLFdBQVcsQ0FBQ0MsZUFBWixFQUFuQjtBQUFBO0FBQTNDLEtBQ0UsMkRBQUMseUNBQUQsT0FERixDQVpHLENBQVA7QUFpQkgsQ0E3RUE7O2NBQU05QixPO1VBV0xVLG1FOzs7QUFvRUY7Ozs7Ozs7Ozs7MEJBekZPZixVOzBCQVVBSyxPIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlLmxlc3MnXG5pbXBvcnQgeyBXb3JrRGV0YWlsIH0gZnJvbSAnLi4vLi4vLi4vd29ya1N0b3JhZ2UnXG5pbXBvcnQgdXNlVHJhbnNmb3JtIGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVRyYW5zZm9ybSdcbmltcG9ydCB7IFBDYW52YXNDb250cm9sbGVyLCBXcmFwSW5mbywgQ2FudmFzRXZlbnREYXRhLCBDYW52YXNFdmVudCB9IGZyb20gJy4vcGNudmFzLmNvbnRyb2xsZXInXG5pbXBvcnQgeyBTcGluIH0gZnJvbSAnYW50ZCdcbiBcblxuIGludGVyZmFjZSBQQ2FudmFzUHJvcHMge1xuXG4gICAgaW5pdFZhbHVlPzogV29ya0RldGFpbCxcblxuICAgIHBDYW52YXNDb250cm9sbGVyPzogUENhbnZhc0NvbnRyb2xsZXJcblxuICAgIGxvYWRpbmc6IGJvb2xlYW5cblxufVxuXG4gY29uc3QgdXNlUENhbnZhcyA9ICgpID0+IHtcbiAgY29uc3Qge2N1cnJlbnQ6IHBDYW52YXN9ID0gdXNlUmVmKG5ldyBQQ2FudmFzQ29udHJvbGxlcigpKVxuICByZXR1cm4ge1xuICAgIHBDYW52YXNcbiAgfVxufVxuXG4vKipcbiAqIOaJi+e7mOe8lui+keWZqOeahOeUu+advy5cbiAqL1xuIGNvbnN0IFBDYW52YXMgPSAoeyBpbml0VmFsdWUsIHBDYW52YXNDb250cm9sbGVyLCBsb2FkaW5nIH06IFBDYW52YXNQcm9wcykgPT57XG4gICBcbiAgY29uc3QgY292ZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3Qgd3JhcFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcblxuICBjb25zdCB2aWV3UmVmID0gdXNlUmVmPEhUTUxFbGVtZW50PihudWxsKVxuXG4gIGNvbnN0IFsgbWluU2NhbGUsIHNldE1pblNjYWxlIF0gPSB1c2VTdGF0ZSgwLjEpXG5cblxuICB1c2VUcmFuc2Zvcm0oeyBtaW5TY2FsZSwgbWF4U2NhbGU6IDEsIHZpZXdSZWYsIHRyYW5zUmVmOiB3cmFwUmVmLCBzY2FsZVJlZjogd3JhcFJlZiB9KVxuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZighaW5pdFZhbHVlICkgcmV0dXJuXG4gICAgaWYocENhbnZhc0NvbnRyb2xsZXImJiB3cmFwUmVmLmN1cnJlbnQmJmNvdmVyUmVmLmN1cnJlbnQpe1xuICAgICAgICBjb25zdCB3cmFwSW5mbzogV3JhcEluZm8gPSB7XG4gICAgICAgICAgd3JhcDogd3JhcFJlZi5jdXJyZW50LFxuICAgICAgICAgIGNvdmVyOiBjb3ZlclJlZi5jdXJyZW50LFxuICAgICAgICB9XG4gICAgICAgcENhbnZhc0NvbnRyb2xsZXIuaW5pdCh3cmFwSW5mbywgaW5pdFZhbHVlKVxuICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgfVxuICAgIH1cbiAgfSwgW2luaXRWYWx1ZV0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZighaW5pdFZhbHVlICkgcmV0dXJuXG4gICAgY29uc3QgY292ZXIgPSBjb3ZlclJlZi5jdXJyZW50XG4gICAgaWYoY292ZXIpe1xuXG4gICAgICBjb25zdCBvblBvaW50ZXJEb3duID0gKHBvaW50RXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICBpZihwQ2FudmFzQ29udHJvbGxlcil7XG4gICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub25Qb2ludGVyRG93bihwb2ludEV2ZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBvblBvaW50ZXJNb3ZlID0gKHBvaW50RXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgICBpZihwQ2FudmFzQ29udHJvbGxlcil7XG4gICAgICAgICAgcENhbnZhc0NvbnRyb2xsZXIub25Qb2ludGVyTW92ZShwb2ludEV2ZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBvblBvaW50ZXJVcCA9IChwb2ludEV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgICAgaWYocENhbnZhc0NvbnRyb2xsZXIpe1xuICAgICAgICAgIHBDYW52YXNDb250cm9sbGVyLm9uUG9pbnRlclVwKHBvaW50RXZlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93biwge3Bhc3NpdmU6IGZhbHNlfSlcbiAgICAgIGNvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSwge3Bhc3NpdmU6IGZhbHNlfSlcbiAgICAgIGNvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwLCB7cGFzc2l2ZTogZmFsc2V9KVxuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb3Zlci5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24pXG4gICAgICAgIGNvdmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSlcbiAgICAgICAgY292ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25Qb2ludGVyVXApXG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9LCBbY292ZXJSZWYuY3VycmVudCwgaW5pdFZhbHVlXSlcblxuICBcbiAgICByZXR1cm4gPG1haW4gXG4gICAgICAgIHJlZj17dmlld1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucENhbnZhc31cblxuICAgID5cbiAgICAgIDxzZWN0aW9uXG4gICAgICAgIHJlZj17d3JhcFJlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY2FudmFzV3JhcH1cbiAgICAgID5cbiAgICAgICAgPGRpdiByZWY9e2NvdmVyUmVmfSBjbGFzc05hbWU9e3N0eWxlcy5jb3Zlcn0+PC9kaXY+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgICB7IGxvYWRpbmcmJlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1hc2t9IG9uTW91c2VNb3ZlPXsgKHtuYXRpdmVFdmVudH0pID0+IG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpICB9PlxuICAgICAgICAgIDxTcGluLz4gXG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvbWFpbj5cbn1cblxuZXhwb3J0IHtcbiAgUENhbnZhcyxcbiAgUENhbnZhc0NvbnRyb2xsZXIsXG4gIHVzZVBDYW52YXMsXG4gIENhbnZhc0V2ZW50RGF0YSxcbiAgQ2FudmFzRXZlbnQsXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n')},44:function(module,exports,__webpack_require__){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"pCanvas":"pCanvas_efb40","mask":"mask_d19cf","canvasWrap":"canvasWrap_4e8dd","unvisible":"unvisible_0b5e4","cover":"cover_edb6c"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9zdHlsZS5sZXNzP2E0MTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQkFBa0IiLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wicENhbnZhc1wiOlwicENhbnZhc19lZmI0MFwiLFwibWFza1wiOlwibWFza19kMTljZlwiLFwiY2FudmFzV3JhcFwiOlwiY2FudmFzV3JhcF80ZThkZFwiLFwidW52aXNpYmxlXCI6XCJ1bnZpc2libGVfMGI1ZTRcIixcImNvdmVyXCI6XCJjb3Zlcl9lZGI2Y1wifTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44\n')},50:function(module,exports,__webpack_require__){eval("var freeGlobal = __webpack_require__(52);\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzPzJiM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsRUFBZTs7QUFFeEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50\n")},51:function(module,exports){eval("/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzU3ltYm9sLmpzP2ZmZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///51\n")},52:function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(53)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzPzU4NWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSIsImZpbGUiOiI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///52\n")},53:function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6IjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n')},54:function(module,exports){eval("/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanM/Njc0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54\n")},55:function(module,exports,__webpack_require__){eval("var baseToString = __webpack_require__(56);\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzPzc2ZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsRUFBaUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3RyaW5nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n")},56:function(module,exports,__webpack_require__){eval("var Symbol = __webpack_require__(57),\n    arrayMap = __webpack_require__(58),\n    isArray = __webpack_require__(54),\n    isSymbol = __webpack_require__(51);\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanM/Y2U4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsRUFBVztBQUNoQyxlQUFlLG1CQUFPLENBQUMsRUFBYTtBQUNwQyxjQUFjLG1CQUFPLENBQUMsRUFBVztBQUNqQyxlQUFlLG1CQUFPLENBQUMsRUFBWTs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///56\n")},57:function(module,exports,__webpack_require__){eval("var root = __webpack_require__(50);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanM/OWU2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsRUFBUzs7QUFFNUI7QUFDQTs7QUFFQSIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57\n")},58:function(module,exports){eval("/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcz83OTQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n")},59:function(module,exports,__webpack_require__){eval("var toString = __webpack_require__(55);\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3VuaXF1ZUlkLmpzPzk4ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLEVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1OS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbnZhciBpZENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gKlxuICogXy51bmlxdWVJZCgpO1xuICogLy8gPT4gJzEwNSdcbiAqL1xuZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHVuaXF1ZUlkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59\n")},60:function(module,exports){eval("/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzPzFhOGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjYwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///60\n")},62:function(module,exports){eval("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzPzM3MjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62\n")},63:function(module,exports){eval("/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcz8xMzEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjYzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///63\n")},64:function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(60),\n    now = __webpack_require__(65),\n    toNumber = __webpack_require__(66);\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2RlYm91bmNlLmpzP2IwNDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLEVBQVk7QUFDbkMsVUFBVSxtQkFBTyxDQUFDLEVBQU87QUFDekIsZUFBZSxtQkFBTyxDQUFDLEVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU8sWUFBWTtBQUM5QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSw4Q0FBOEMsa0JBQWtCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0JyksXG4gICAgbm93ID0gcmVxdWlyZSgnLi9ub3cnKSxcbiAgICB0b051bWJlciA9IHJlcXVpcmUoJy4vdG9OdW1iZXInKTtcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64\n")},65:function(module,exports,__webpack_require__){eval("var root = __webpack_require__(50);\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL25vdy5qcz80MDhjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsbUJBQU8sQ0FBQyxFQUFTOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBub3c7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///65\n")},66:function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(60),\n    isSymbol = __webpack_require__(51);\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvTnVtYmVyLmpzP2I0YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLEVBQVk7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLEVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjY2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///66\n")},70:function(module,exports,__webpack_require__){eval("var baseGetTag = __webpack_require__(62),\n    isObjectLike = __webpack_require__(63);\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTnVtYmVyLmpzPzUwMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsRUFBZTtBQUN4QyxtQkFBbUIsbUJBQU8sQ0FBQyxFQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTnVtYmVyKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc051bWJlcignMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOdW1iZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///70\n")},85:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return useTransform; });\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86);\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48);\n/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69);\n\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\nvar getValueFromRange = function getValueFromRange(val, min, max) {\n  return Math.min(Math.max(min, val), max);\n};\n\nvar getTargetValue = function getTargetValue(val, targetVal, dt) {\n  return Math.abs(val - targetVal) < dt ? targetVal : val;\n};\n\nvar scaleFun = function scaleFun(val, center, scale) {\n  var valVec = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].subtract(val, center);\n  return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].add(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].multipy(valVec, scale), center);\n};\n\nvar rotateFun = function rotateFun(val, center, rotate) {\n  var valVec = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].subtract(val, center);\n  return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].add(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].rotate(valVec, rotate), center);\n};\n\nvar translateFun = function translateFun(val, center, translate, scale, rotate) {\n  return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].add(rotateFun(scaleFun(val, center, scale), center, rotate), translate);\n};\n\nvar zero = new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](); // console.log(\'translateFun: \', translateFun(new Vector2(0,1), zero, zero, 2, 90))\n\n/**\n * 当transform-origin的改变（用户旋转操作时会发生）,此时scale或rotate有值会导致图像抖动，该方法可以获取修正后的transform。\n */\n\nvar getNewTranslate = function getNewTranslate(preCenter, newCenter, translate, scale, rotate) {\n  var preVec = translateFun(new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](), preCenter, translate, scale, rotate);\n  var newVec = translateFun(new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](), newCenter, translate, scale, rotate);\n  return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].add(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].subtract(newVec, preVec), translate);\n};\n\nvar TRANSACTION = \'transform 0.1s\';\nfunction useTransform(userTransformProps) {\n  var _ref = userTransformProps || {},\n      _ref$maxScale = _ref.maxScale,\n      maxScale = _ref$maxScale === void 0 ? 2 : _ref$maxScale,\n      _ref$minScale = _ref.minScale,\n      minScale = _ref$minScale === void 0 ? 0.5 : _ref$minScale,\n      transRef = _ref.transRef,\n      viewRef = _ref.viewRef; // const wrapRef = useRef<WrapElement>(null)\n  // const contentRef = useRef<ContentElement>(null)\n\n\n  var transformInfoRef = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])({\n    /**\n     * 旋转开始时手势的rotate, 用于计算手势的rotate差值.\n     */\n    gestrueStartRotate: 0,\n\n    /**\n     * 旋转开始时元素的rotate，用于计算元素旋转的差值.\n     */\n    eleStartRotate: 0,\n\n    /**\n     *即将渲染的rotate.\n     */\n    rotate: 0,\n\n    /**\n     * 缩放开始时的手势识别的缩放值.\n     */\n    gestrueStartscale: 1,\n\n    /**\n     * 缩放开始时元素的缩放值.\n     */\n    eleStartScale: 1,\n\n    /**\n     * 渲染的缩放值.\n     */\n    scale: minScale,\n    gestrueStartTranslate: new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](),\n    eleStartTanslate: new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](),\n    translate: new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](),\n\n    /**\n     * 旋转中心点.\n     */\n    center: new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"]()\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function () {\n    if (!(viewRef === null || viewRef === void 0 ? void 0 : viewRef.current)) return;\n\n    if (transRef && transRef.current) {\n      var computedStyle = getComputedStyle(transRef.current);\n      /**\n       * 默认的transform中心点.\n       */\n\n      transformInfoRef.current.center = new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](parseFloat(computedStyle.width) * 0.5, parseFloat(computedStyle.height) * 0.5);\n      /**\n       * 添加操作时的动画，增强体验流畅度.\n       */\n\n      transRef.current.style.transition = TRANSACTION;\n      var mainManager = new hammerjs__WEBPACK_IMPORTED_MODULE_2___default.a.Manager(viewRef.current);\n      mainManager.add(new hammerjs__WEBPACK_IMPORTED_MODULE_2___default.a.Pan({\n        threshold: 0,\n        pointers: 2,\n        enable: function enable(_, data) {\n          if (data && data.pointers.length > 1) {\n            var _data$pointers = _slicedToArray(data.pointers, 2),\n                p1 = _data$pointers[0],\n                p2 = _data$pointers[1];\n\n            console.log(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].dist(p1, p2));\n            return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].dist(p1, p2) < 200;\n          }\n\n          return false;\n        }\n      })); // mainManager.add(new Hammer.Rotate()).recognizeWith(mainManager.get(\'pan\'))\n\n      mainManager.add(new hammerjs__WEBPACK_IMPORTED_MODULE_2___default.a.Pinch({\n        enable: function enable(_, data) {\n          if (data && data.pointers.length > 1) {\n            var _data$pointers2 = _slicedToArray(data.pointers, 2),\n                p1 = _data$pointers2[0],\n                p2 = _data$pointers2[1];\n\n            console.log(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].dist(p1, p2));\n            return _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].dist(p1, p2) > 200;\n          }\n\n          return false;\n        }\n      })).recognizeWith([mainManager.get(\'pan\')]);\n\n      var requestUpdate = lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n        return new Promise(function (resolve) {\n          requestAnimationFrame(function () {\n            if (!transRef.current) return;\n            var _transformInfoRef$cur = transformInfoRef.current,\n                rotate = _transformInfoRef$cur.rotate,\n                scale = _transformInfoRef$cur.scale,\n                _transformInfoRef$cur2 = _transformInfoRef$cur.translate,\n                transformX = _transformInfoRef$cur2.x,\n                transformY = _transformInfoRef$cur2.y,\n                center = _transformInfoRef$cur.center;\n            transRef.current.style.transform = "translate3d( ".concat(transformX, "px, ").concat(transformY, "px, 0)  scale(").concat(scale, ") rotate(").concat(rotate, "deg)"); // transRef.current.style.transformOrigin = `${center.x}px ${center.y}px`\n\n            resolve(); // console.log(\'translate: \', transformInfoRef.current.translate)\n            // console.log(\'center: \', transformInfoRef.current.center)\n          });\n        });\n      }, 10);\n\n      var onPanStart = function onPanStart(_ref2) {\n        var deltaX = _ref2.deltaX,\n            deltaY = _ref2.deltaY;\n        var translate = transformInfoRef.current.translate;\n        transformInfoRef.current.gestrueStartTranslate = new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](deltaX, deltaY);\n        transformInfoRef.current.eleStartTanslate = translate;\n\n        if (transRef.current) {\n          transRef.current.style.transition = \'\';\n          requestAnimationFrame(function () {\n            if (transRef.current) {\n              transRef.current.style.transition = TRANSACTION;\n            }\n          });\n        }\n      };\n\n      var onPan = function onPan(_ref3) {\n        var deltaX = _ref3.deltaX,\n            deltaY = _ref3.deltaY,\n            center = _ref3.center;\n        var _transformInfoRef$cur3 = transformInfoRef.current,\n            scale = _transformInfoRef$cur3.scale,\n            gestrueStartTranslate = _transformInfoRef$cur3.gestrueStartTranslate,\n            eleStartTanslate = _transformInfoRef$cur3.eleStartTanslate;\n        var valX = eleStartTanslate.x + (deltaX - gestrueStartTranslate.x);\n        var valY = eleStartTanslate.y + (deltaY - gestrueStartTranslate.y);\n        var translate = scale == 1 ? new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](getTargetValue(valX, 0, 10), getTargetValue(valY, 0, 10)) : new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"](valX, valY);\n        transformInfoRef.current.translate = translate;\n        requestUpdate();\n      }; // const onRotateStart = async ({rotation, center}: HammerInput) => {\n      //     const { rotate, translate, center: preCenter, scale } = transformInfoRef.current\n      //     transformInfoRef.current.eleStartRotate = rotate\n      //     transformInfoRef.current.gestrueStartRotate = rotation\n      //     const newCenter = Vector2.subtract(center, translate)\n      //     transformInfoRef.current.translate = getNewTranslate(preCenter, newCenter, translate, scale, rotate)\n      //     transformInfoRef.current.center = newCenter\n      //     await requestUpdate()\n      //     if(wrapRef.current){\n      //         wrapRef.current.style.transition = \'\'\n      //         requestAnimationFrame(() => {\n      //             if(wrapRef.current){\n      //                 wrapRef.current.style.transition = TRANSACTION\n      //             }\n      //         } )\n      //     }\n      // }\n      // const onRotate = ({rotation}: HammerInput) => { \n      //     const { gestrueStartRotate, eleStartRotate, translate } =  transformInfoRef.current\n      //     const deltaRotateion = rotation - gestrueStartRotate\n      //     const rotateVal = eleStartRotate +  deltaRotateion\n      //     transformInfoRef.current.rotate = getTargetValue(rotateVal, 0, 10 )\n      //     requestUpdate()\n      // }\n\n\n      var onPinchStart = /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref5) {\n          var scale, center, _transformInfoRef$cur4, translate, slScale, preCenter, rotate, newCenter;\n\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  scale = _ref5.scale, center = _ref5.center;\n                  _transformInfoRef$cur4 = transformInfoRef.current, translate = _transformInfoRef$cur4.translate, slScale = _transformInfoRef$cur4.scale, preCenter = _transformInfoRef$cur4.center, rotate = _transformInfoRef$cur4.rotate;\n                  transformInfoRef.current.gestrueStartscale = scale;\n                  transformInfoRef.current.eleStartScale = slScale;\n                  newCenter = _util_data_Vector2__WEBPACK_IMPORTED_MODULE_3__[/* Vector2 */ "a"].subtract(center, translate);\n                  transformInfoRef.current.translate = getNewTranslate(preCenter, newCenter, translate, scale, rotate);\n                  transformInfoRef.current.center = newCenter;\n                  _context.next = 9;\n                  return requestUpdate();\n\n                case 9:\n                  if (transRef.current) {\n                    transRef.current.style.transition = \'\';\n                    requestAnimationFrame(function () {\n                      if (transRef.current) {\n                        transRef.current.style.transition = TRANSACTION;\n                      }\n                    });\n                  }\n\n                case 10:\n                case "end":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function onPinchStart(_x) {\n          return _ref4.apply(this, arguments);\n        };\n      }();\n\n      var onPinchinMove = function onPinchinMove(_ref6) {\n        var scale = _ref6.scale,\n            center = _ref6.center;\n        var _transformInfoRef$cur5 = transformInfoRef.current,\n            eleStartScale = _transformInfoRef$cur5.eleStartScale,\n            gestrueStartscale = _transformInfoRef$cur5.gestrueStartscale,\n            translate = _transformInfoRef$cur5.translate;\n        var deltaScale = scale - gestrueStartscale;\n        var scaleVal = getValueFromRange(eleStartScale + deltaScale, minScale, maxScale);\n        transformInfoRef.current.scale = getTargetValue(scaleVal, 1, 0.2);\n        requestUpdate();\n      };\n\n      mainManager.on(\'panstart\', onPanStart);\n      mainManager.on(\'panmove\', onPan); // mainManager.on(\'rotatestart\', onRotateStart)\n      // mainManager.on(\'rotate\', onRotate)\n\n      mainManager.on(\'pinchstart\', onPinchStart);\n      mainManager.on(\'pinchmove\', onPinchinMove);\n      requestUpdate();\n      return function () {\n        mainManager.off(\'panstart\', onPanStart);\n        mainManager.off(\'panmove\', onPan); // mainManager.off(\'rotatestart\', onRotateStart)\n        // mainManager.off(\'rotate\', onRotate)\n\n        mainManager.off(\'pinchstart\', onPinchStart);\n        mainManager.off(\'pinchmove\', onPinchinMove);\n      };\n    }\n  }, _toConsumableArray(Object.values(userTransformProps || {})));\n}\n\n__signature__(useTransform, "useRef{transformInfoRef}\\nuseEffect{}");\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(getValueFromRange, "getValueFromRange", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(getTargetValue, "getTargetValue", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(scaleFun, "scaleFun", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(rotateFun, "rotateFun", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(translateFun, "translateFun", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(zero, "zero", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(getNewTranslate, "getNewTranslate", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(TRANSACTION, "TRANSACTION", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n  reactHotLoader.register(useTransform, "useTransform", "/Users/muyin/Documents/code/WebPencil/src/hooks/useTransform.ts");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== \'undefined\' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG9va3MvdXNlVHJhbnNmb3JtLnRzPzk2ZTkiXSwibmFtZXMiOlsiZ2V0VmFsdWVGcm9tUmFuZ2UiLCJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZ2V0VGFyZ2V0VmFsdWUiLCJ0YXJnZXRWYWwiLCJkdCIsImFicyIsInNjYWxlRnVuIiwiY2VudGVyIiwic2NhbGUiLCJ2YWxWZWMiLCJWZWN0b3IyIiwic3VidHJhY3QiLCJhZGQiLCJtdWx0aXB5Iiwicm90YXRlRnVuIiwicm90YXRlIiwidHJhbnNsYXRlRnVuIiwidHJhbnNsYXRlIiwiemVybyIsImdldE5ld1RyYW5zbGF0ZSIsInByZUNlbnRlciIsIm5ld0NlbnRlciIsInByZVZlYyIsIm5ld1ZlYyIsIlRSQU5TQUNUSU9OIiwidXNlVHJhbnNmb3JtIiwidXNlclRyYW5zZm9ybVByb3BzIiwibWF4U2NhbGUiLCJtaW5TY2FsZSIsInRyYW5zUmVmIiwidmlld1JlZiIsInRyYW5zZm9ybUluZm9SZWYiLCJ1c2VSZWYiLCJnZXN0cnVlU3RhcnRSb3RhdGUiLCJlbGVTdGFydFJvdGF0ZSIsImdlc3RydWVTdGFydHNjYWxlIiwiZWxlU3RhcnRTY2FsZSIsImdlc3RydWVTdGFydFRyYW5zbGF0ZSIsImVsZVN0YXJ0VGFuc2xhdGUiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiY29tcHV0ZWRTdHlsZSIsImdldENvbXB1dGVkU3R5bGUiLCJwYXJzZUZsb2F0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJtYWluTWFuYWdlciIsIkhhbW1lciIsIk1hbmFnZXIiLCJQYW4iLCJ0aHJlc2hvbGQiLCJwb2ludGVycyIsImVuYWJsZSIsIl8iLCJkYXRhIiwibGVuZ3RoIiwicDEiLCJwMiIsImNvbnNvbGUiLCJsb2ciLCJkaXN0IiwiUGluY2giLCJyZWNvZ25pemVXaXRoIiwiZ2V0IiwicmVxdWVzdFVwZGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidHJhbnNmb3JtWCIsIngiLCJ0cmFuc2Zvcm1ZIiwieSIsInRyYW5zZm9ybSIsIm9uUGFuU3RhcnQiLCJkZWx0YVgiLCJkZWx0YVkiLCJvblBhbiIsInZhbFgiLCJ2YWxZIiwib25QaW5jaFN0YXJ0Iiwic2xTY2FsZSIsIm9uUGluY2hpbk1vdmUiLCJkZWx0YVNjYWxlIiwic2NhbGVWYWwiLCJvbiIsIm9mZiIsIk9iamVjdCIsInZhbHVlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQXNCQSxJQUFNQSxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUNDLEdBQUQsRUFBY0MsR0FBZCxFQUEyQkMsR0FBM0I7QUFBQSxTQUEyQ0MsSUFBSSxDQUFDRixHQUFMLENBQVVFLElBQUksQ0FBQ0QsR0FBTCxDQUFTRCxHQUFULEVBQWNELEdBQWQsQ0FBVixFQUE4QkUsR0FBOUIsQ0FBM0M7QUFBQSxDQUExQjs7QUFFQSxJQUFNRSxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUVKLEdBQUYsRUFBZUssU0FBZixFQUFrQ0MsRUFBbEM7QUFBQSxTQUFrREgsSUFBSSxDQUFDSSxHQUFMLENBQVNQLEdBQUcsR0FBR0ssU0FBZixJQUE0QkMsRUFBNUIsR0FBZ0NELFNBQWhDLEdBQTBDTCxHQUE1RjtBQUFBLENBQXZCOztBQUVBLElBQU1RLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUNSLEdBQUQsRUFBZVMsTUFBZixFQUFpQ0MsS0FBakMsRUFBbUQ7QUFDaEUsTUFBTUMsTUFBTSxHQUFHQyxrRUFBTyxDQUFDQyxRQUFSLENBQWlCYixHQUFqQixFQUFzQlMsTUFBdEIsQ0FBZjtBQUNBLFNBQU9HLGtFQUFPLENBQUNFLEdBQVIsQ0FBWUYsa0VBQU8sQ0FBQ0csT0FBUixDQUFnQkosTUFBaEIsRUFBd0JELEtBQXhCLENBQVosRUFBNENELE1BQTVDLENBQVA7QUFDSCxDQUhEOztBQUtBLElBQU1PLFNBQVMsR0FB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ODUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCwgUmVmT2JqZWN0IH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCBIYW1tZXIgZnJvbSAnaGFtbWVyanMnXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL3V0aWwvZGF0YS9WZWN0b3IyXCJcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnbG9kYXNoJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRyYW5zZm9ybVByb3BzIHtcbiAgICBcbiAgICBtYXhTY2FsZT86IG51bWJlcixcblxuICAgIG1pblNjYWxlPyA6bnVtYmVyLFxuXG4gICAgLy8gc2NhbGVFbmFibGU/OiBib29sZWFuXG5cbiAgICAvLyByb3RhdGVFbmFibGU/OiBib29sZWFuXG4gICAgc2NhbGVSZWY/OiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LFxuXG4gICAgdHJhbnNSZWY/OiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LFxuXG4gICAgLy8gcm90YXRlRWxlPzogSFRNTEVsZW1lbnQsXG5cbiAgICB2aWV3UmVmOiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LFxuXG59XG5cbmNvbnN0IGdldFZhbHVlRnJvbVJhbmdlID0gKHZhbDogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpID0+IE1hdGgubWluKCBNYXRoLm1heChtaW4sIHZhbCksIG1heCApXG5cbmNvbnN0IGdldFRhcmdldFZhbHVlID0gKCB2YWw6IG51bWJlciwgdGFyZ2V0VmFsOiBudW1iZXIsIGR0OiBudW1iZXIgKSA9PiBNYXRoLmFicyh2YWwgLSB0YXJnZXRWYWwpIDwgZHQ/IHRhcmdldFZhbDp2YWxcblxuY29uc3Qgc2NhbGVGdW4gPSAodmFsOiBWZWN0b3IyLCBjZW50ZXI6IFZlY3RvcjIsICBzY2FsZTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdmFsVmVjID0gVmVjdG9yMi5zdWJ0cmFjdCh2YWwsIGNlbnRlcilcbiAgICByZXR1cm4gVmVjdG9yMi5hZGQoVmVjdG9yMi5tdWx0aXB5KHZhbFZlYywgc2NhbGUpLCBjZW50ZXIpXG59XG5cbmNvbnN0IHJvdGF0ZUZ1biA9ICh2YWw6IFZlY3RvcjIsIGNlbnRlcjogVmVjdG9yMiwgIHJvdGF0ZTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdmFsVmVjID0gVmVjdG9yMi5zdWJ0cmFjdCh2YWwsIGNlbnRlcilcbiAgICByZXR1cm4gVmVjdG9yMi5hZGQoVmVjdG9yMi5yb3RhdGUodmFsVmVjLCByb3RhdGUpLCBjZW50ZXIpXG59XG5cbmNvbnN0IHRyYW5zbGF0ZUZ1biA9ICh2YWw6IFZlY3RvcjIsIGNlbnRlcjogVmVjdG9yMiwgdHJhbnNsYXRlOiBWZWN0b3IyLCBzY2FsZTogbnVtYmVyLCByb3RhdGU6IG51bWJlciApOiBWZWN0b3IyID0+IHtcbiAgICByZXR1cm4gVmVjdG9yMi5hZGQocm90YXRlRnVuKHNjYWxlRnVuKHZhbCxjZW50ZXIsIHNjYWxlKSwgY2VudGVyLHJvdGF0ZSksIHRyYW5zbGF0ZSlcbn1cblxuY29uc3QgemVybyA9IG5ldyBWZWN0b3IyKClcbi8vIGNvbnNvbGUubG9nKCd0cmFuc2xhdGVGdW46ICcsIHRyYW5zbGF0ZUZ1bihuZXcgVmVjdG9yMigwLDEpLCB6ZXJvLCB6ZXJvLCAyLCA5MCkpXG5cbi8qKlxuICog5b2TdHJhbnNmb3JtLW9yaWdpbueahOaUueWPmO+8iOeUqOaIt+aXi+i9rOaTjeS9nOaXtuS8muWPkeeUn++8iSzmraTml7ZzY2FsZeaIlnJvdGF0ZeacieWAvOS8muWvvOiHtOWbvuWDj+aKluWKqO+8jOivpeaWueazleWPr+S7peiOt+WPluS/ruato+WQjueahHRyYW5zZm9ybeOAglxuICovXG5jb25zdCBnZXROZXdUcmFuc2xhdGUgPSAocHJlQ2VudGVyOiBWZWN0b3IyLCBuZXdDZW50ZXI6IFZlY3RvcjIsIHRyYW5zbGF0ZTogVmVjdG9yMiwgc2NhbGU6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBWZWN0b3IyID0+IHtcbiAgICBjb25zdCBwcmVWZWMgPSB0cmFuc2xhdGVGdW4obmV3IFZlY3RvcjIsIHByZUNlbnRlciwgdHJhbnNsYXRlLCBzY2FsZSwgcm90YXRlKVxuICAgIGNvbnN0IG5ld1ZlYyA9IHRyYW5zbGF0ZUZ1bihuZXcgVmVjdG9yMiwgbmV3Q2VudGVyLCB0cmFuc2xhdGUsIHNjYWxlLCByb3RhdGUpXG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKFZlY3RvcjIuc3VidHJhY3QobmV3VmVjLCBwcmVWZWMpLCB0cmFuc2xhdGUpXG59XG5cbmNvbnN0IFRSQU5TQUNUSU9OID0gJ3RyYW5zZm9ybSAwLjFzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VUcmFuc2Zvcm0odXNlclRyYW5zZm9ybVByb3BzPzogVXNlVHJhbnNmb3JtUHJvcHMpe1xuICAgIGNvbnN0IHtcbiAgICAgICAgXG4gICAgICAgIG1heFNjYWxlID0gMixcblxuICAgICAgICBtaW5TY2FsZSA9IDAuNSxcblxuICAgICAgICB0cmFuc1JlZixcblxuICAgICAgICB2aWV3UmVmLFxuXG4gICAgfSA9IHVzZXJUcmFuc2Zvcm1Qcm9wc3x8e31cblxuICAgIC8vIGNvbnN0IHdyYXBSZWYgPSB1c2VSZWY8V3JhcEVsZW1lbnQ+KG51bGwpXG4gICAgLy8gY29uc3QgY29udGVudFJlZiA9IHVzZVJlZjxDb250ZW50RWxlbWVudD4obnVsbClcbiAgICBjb25zdCB0cmFuc2Zvcm1JbmZvUmVmID0gdXNlUmVmKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOaXi+i9rOW8gOWni+aXtuaJi+WKv+eahHJvdGF0ZSwg55So5LqO6K6h566X5omL5Yq/55qEcm90YXRl5beu5YC8LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VzdHJ1ZVN0YXJ0Um90YXRlOiAwLFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOaXi+i9rOW8gOWni+aXtuWFg+e0oOeahHJvdGF0Ze+8jOeUqOS6juiuoeeul+WFg+e0oOaXi+i9rOeahOW3ruWAvC5cbiAgICAgICAgICovXG4gICAgICAgIGVsZVN0YXJ0Um90YXRlOiAwLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKuWNs+Wwhua4suafk+eahHJvdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIHJvdGF0ZTogMCxcblxuICAgICAgICAvKipcbiAgICAgICAgICog57yp5pS+5byA5aeL5pe255qE5omL5Yq/6K+G5Yir55qE57yp5pS+5YC8LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VzdHJ1ZVN0YXJ0c2NhbGU6IDEsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOe8qeaUvuW8gOWni+aXtuWFg+e0oOeahOe8qeaUvuWAvC5cbiAgICAgICAgICovXG4gICAgICAgIGVsZVN0YXJ0U2NhbGU6IDEsXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICog5riy5p+T55qE57yp5pS+5YC8LlxuICAgICAgICAgKi9cbiAgICAgICAgc2NhbGU6IG1pblNjYWxlLFxuXG4gICAgICAgIGdlc3RydWVTdGFydFRyYW5zbGF0ZTpuZXcgVmVjdG9yMigpLFxuXG4gICAgICAgIGVsZVN0YXJ0VGFuc2xhdGU6bmV3IFZlY3RvcjIoKSxcblxuICAgICAgICB0cmFuc2xhdGU6IG5ldyBWZWN0b3IyKCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOaXi+i9rOS4reW/g+eCuS5cbiAgICAgICAgICovXG4gICAgICAgIGNlbnRlcjogbmV3IFZlY3RvcjIoKSxcbiAgICB9KVxuXG4gICAgdXNlRWZmZWN0KCgpPT4ge1xuICAgICAgaWYoIXZpZXdSZWY/LmN1cnJlbnQpIHJldHVyblxuICAgICAgICBpZiggdHJhbnNSZWYmJnRyYW5zUmVmLmN1cnJlbnQgKXtcbiAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodHJhbnNSZWYuY3VycmVudClcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDpu5jorqTnmoR0cmFuc2Zvcm3kuK3lv4PngrkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRyYW5zZm9ybUluZm9SZWYuY3VycmVudC5jZW50ZXIgPSBuZXcgVmVjdG9yMihwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUud2lkdGgpICogMC41LCBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUuaGVpZ2h0KSAqIDAuNSlcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDmt7vliqDmk43kvZzml7bnmoTliqjnlLvvvIzlop7lvLrkvZPpqozmtYHnlYXluqYuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRyYW5zUmVmLmN1cnJlbnQuc3R5bGUudHJhbnNpdGlvbiA9IFRSQU5TQUNUSU9OXG4gICAgICAgICAgICBjb25zdCBtYWluTWFuYWdlciA9IG5ldyBIYW1tZXIuTWFuYWdlcih2aWV3UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBtYWluTWFuYWdlci5hZGQobmV3IEhhbW1lci5QYW4oIHsgdGhyZXNob2xkOiAwLCBwb2ludGVyczogMiwgXG4gICAgICAgICAgICAgIGVuYWJsZTogKF8sIGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZihkYXRhJiZkYXRhLnBvaW50ZXJzLmxlbmd0aCA+MSl7XG4gICAgICAgICAgICAgICAgICBjb25zdCB7IHBvaW50ZXJzOiBbIHAxLCBwMiBdIH0gPSBkYXRhXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggVmVjdG9yMi5kaXN0KHAxLHAyKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3IyLmRpc3QocDEscDIpPDIwMFxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgLy8gbWFpbk1hbmFnZXIuYWRkKG5ldyBIYW1tZXIuUm90YXRlKCkpLnJlY29nbml6ZVdpdGgobWFpbk1hbmFnZXIuZ2V0KCdwYW4nKSlcbiAgICAgICAgICAgIG1haW5NYW5hZ2VyLmFkZChuZXcgSGFtbWVyLlBpbmNoKHtcbiAgICAgICAgICAgICAgZW5hYmxlOiAoXywgZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGRhdGEmJmRhdGEucG9pbnRlcnMubGVuZ3RoID4xKXtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcG9pbnRlcnM6IFsgcDEsIHAyIF0gfSA9IGRhdGFcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCBWZWN0b3IyLmRpc3QocDEscDIpKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjIuZGlzdChwMSxwMik+IDIwMFxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKS5yZWNvZ25pemVXaXRoKFttYWluTWFuYWdlci5nZXQoJ3BhbicpIF0pXG5cblxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdFVwZGF0ZSA9ICB0aHJvdHRsZSgoKSA9PiBcbiAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZighdHJhbnNSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJvdGF0ZSwgc2NhbGUsIHRyYW5zbGF0ZTp7IHg6dHJhbnNmb3JtWCwgeTogdHJhbnNmb3JtWX0sIGNlbnRlciB9ID0gdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNSZWYuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoICR7dHJhbnNmb3JtWH1weCwgJHt0cmFuc2Zvcm1ZfXB4LCAwKSAgc2NhbGUoJHtzY2FsZX0pIHJvdGF0ZSgke3JvdGF0ZX1kZWcpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zUmVmLmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7Y2VudGVyLnh9cHggJHtjZW50ZXIueX1weGBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RyYW5zbGF0ZTogJywgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LnRyYW5zbGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjZW50ZXI6ICcsIHRyYW5zZm9ybUluZm9SZWYuY3VycmVudC5jZW50ZXIpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSksIDEwKVxuXG4gICAgICAgICAgICBjb25zdCBvblBhblN0YXJ0ID0gKHtkZWx0YVgsIGRlbHRhWSB9OiBIYW1tZXJJbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNsYXRlIH0gPSB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnRcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnQuZ2VzdHJ1ZVN0YXJ0VHJhbnNsYXRlID0gbmV3IFZlY3RvcjIoZGVsdGFYLCBkZWx0YVkpXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LmVsZVN0YXJ0VGFuc2xhdGUgPSB0cmFuc2xhdGU7XG4gICAgICAgICAgICAgICAgaWYodHJhbnNSZWYuY3VycmVudCl7XG4gICAgICAgICAgICAgICAgICB0cmFuc1JlZi5jdXJyZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJ1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHJhbnNSZWYuY3VycmVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zUmVmLmN1cnJlbnQuc3R5bGUudHJhbnNpdGlvbiA9IFRSQU5TQUNUSU9OXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgb25QYW4gPSAoe2RlbHRhWCwgZGVsdGFZLCBjZW50ZXIgfTogSGFtbWVySW5wdXQpID0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2NhbGUsIGdlc3RydWVTdGFydFRyYW5zbGF0ZSwgZWxlU3RhcnRUYW5zbGF0ZSB9ID0gdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsWCA9IGVsZVN0YXJ0VGFuc2xhdGUueCArIChkZWx0YVggLSBnZXN0cnVlU3RhcnRUcmFuc2xhdGUueClcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxZID0gZWxlU3RhcnRUYW5zbGF0ZS55ICsgKGRlbHRhWSAtIGdlc3RydWVTdGFydFRyYW5zbGF0ZS55KVxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IHNjYWxlID09MT8gXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIoIGdldFRhcmdldFZhbHVlKHZhbFgsIDAsIDEwICksICBnZXRUYXJnZXRWYWx1ZSh2YWxZLCAwLCAxMCkpOlxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHZhbFgsIHZhbFkpXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LnRyYW5zbGF0ZSA9IHRyYW5zbGF0ZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlcXVlc3RVcGRhdGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgICAgLy8gY29uc3Qgb25Sb3RhdGVTdGFydCA9IGFzeW5jICh7cm90YXRpb24sIGNlbnRlcn06IEhhbW1lcklucHV0KSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgeyByb3RhdGUsIHRyYW5zbGF0ZSwgY2VudGVyOiBwcmVDZW50ZXIsIHNjYWxlIH0gPSB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIC8vICAgICB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnQuZWxlU3RhcnRSb3RhdGUgPSByb3RhdGVcbiAgICAgICAgICAgIC8vICAgICB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnQuZ2VzdHJ1ZVN0YXJ0Um90YXRlID0gcm90YXRpb25cbiAgICAgICAgICAgIC8vICAgICBjb25zdCBuZXdDZW50ZXIgPSBWZWN0b3IyLnN1YnRyYWN0KGNlbnRlciwgdHJhbnNsYXRlKVxuICAgICAgICAgICAgLy8gICAgIHRyYW5zZm9ybUluZm9SZWYuY3VycmVudC50cmFuc2xhdGUgPSBnZXROZXdUcmFuc2xhdGUocHJlQ2VudGVyLCBuZXdDZW50ZXIsIHRyYW5zbGF0ZSwgc2NhbGUsIHJvdGF0ZSlcbiAgICAgICAgICAgIC8vICAgICB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnQuY2VudGVyID0gbmV3Q2VudGVyXG4gICAgICAgICAgICAvLyAgICAgYXdhaXQgcmVxdWVzdFVwZGF0ZSgpXG4gICAgICAgICAgICAvLyAgICAgaWYod3JhcFJlZi5jdXJyZW50KXtcbiAgICAgICAgICAgIC8vICAgICAgICAgd3JhcFJlZi5jdXJyZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJ1xuICAgICAgICAgICAgLy8gICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWYod3JhcFJlZi5jdXJyZW50KXtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB3cmFwUmVmLmN1cnJlbnQuc3R5bGUudHJhbnNpdGlvbiA9IFRSQU5TQUNUSU9OXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgIH0gKVxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIGNvbnN0IG9uUm90YXRlID0gKHtyb3RhdGlvbn06IEhhbW1lcklucHV0KSA9PiB7IFxuICAgICAgICAgICAgLy8gICAgIGNvbnN0IHsgZ2VzdHJ1ZVN0YXJ0Um90YXRlLCBlbGVTdGFydFJvdGF0ZSwgdHJhbnNsYXRlIH0gPSAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgZGVsdGFSb3RhdGVpb24gPSByb3RhdGlvbiAtIGdlc3RydWVTdGFydFJvdGF0ZVxuICAgICAgICAgICAgLy8gICAgIGNvbnN0IHJvdGF0ZVZhbCA9IGVsZVN0YXJ0Um90YXRlICsgIGRlbHRhUm90YXRlaW9uXG4gICAgICAgICAgICAvLyAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LnJvdGF0ZSA9IGdldFRhcmdldFZhbHVlKHJvdGF0ZVZhbCwgMCwgMTAgKVxuICAgICAgICAgICAgLy8gICAgIHJlcXVlc3RVcGRhdGUoKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgY29uc3Qgb25QaW5jaFN0YXJ0ID0gYXN5bmMgKHsgc2NhbGUsIGNlbnRlciB9OiBIYW1tZXJJbnB1dCkgPT57XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0cmFuc2xhdGUsIHNjYWxlOiBzbFNjYWxlLCBjZW50ZXI6cHJlQ2VudGVyLCByb3RhdGUgfSA9IHRyYW5zZm9ybUluZm9SZWYuY3VycmVudFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUluZm9SZWYuY3VycmVudC5nZXN0cnVlU3RhcnRzY2FsZSA9IHNjYWxlXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LmVsZVN0YXJ0U2NhbGUgPSBzbFNjYWxlXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2VudGVyID0gVmVjdG9yMi5zdWJ0cmFjdChjZW50ZXIsIHRyYW5zbGF0ZSlcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1JbmZvUmVmLmN1cnJlbnQudHJhbnNsYXRlID0gZ2V0TmV3VHJhbnNsYXRlKHByZUNlbnRlciwgbmV3Q2VudGVyLCB0cmFuc2xhdGUsIHNjYWxlLCByb3RhdGUpXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LmNlbnRlciA9IG5ld0NlbnRlclxuICAgICAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RVcGRhdGUoKVxuICAgICAgICAgICAgICAgIGlmKHRyYW5zUmVmLmN1cnJlbnQpe1xuICAgICAgICAgICAgICAgICAgdHJhbnNSZWYuY3VycmVudC5zdHlsZS50cmFuc2l0aW9uID0gJydcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRyYW5zUmVmLmN1cnJlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc1JlZi5jdXJyZW50LnN0eWxlLnRyYW5zaXRpb24gPSBUUkFOU0FDVElPTlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG9uUGluY2hpbk1vdmUgPSAoeyBzY2FsZSwgY2VudGVyIH06IEhhbW1lcklucHV0KSA9PiB7IFxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZWxlU3RhcnRTY2FsZSwgZ2VzdHJ1ZVN0YXJ0c2NhbGUsIHRyYW5zbGF0ZSB9ID0gdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFTY2FsZSA9IHNjYWxlIC0gZ2VzdHJ1ZVN0YXJ0c2NhbGVcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZVZhbCA9IGdldFZhbHVlRnJvbVJhbmdlKGVsZVN0YXJ0U2NhbGUgKyBkZWx0YVNjYWxlLCBtaW5TY2FsZSwgbWF4U2NhbGUpXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtSW5mb1JlZi5jdXJyZW50LnNjYWxlID0gZ2V0VGFyZ2V0VmFsdWUoc2NhbGVWYWwsIDEsIDAuMilcbiAgICAgICAgICAgICAgICByZXF1ZXN0VXBkYXRlKClcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYWluTWFuYWdlci5vbigncGFuc3RhcnQnLCBvblBhblN0YXJ0KVxuICAgICAgICAgICAgbWFpbk1hbmFnZXIub24oJ3Bhbm1vdmUnLCBvblBhbilcblxuXG4gICAgICAgICAgICAvLyBtYWluTWFuYWdlci5vbigncm90YXRlc3RhcnQnLCBvblJvdGF0ZVN0YXJ0KVxuICAgICAgICAgICAgLy8gbWFpbk1hbmFnZXIub24oJ3JvdGF0ZScsIG9uUm90YXRlKVxuXG4gICAgICAgICAgICBtYWluTWFuYWdlci5vbigncGluY2hzdGFydCcsIG9uUGluY2hTdGFydClcbiAgICAgICAgICAgIG1haW5NYW5hZ2VyLm9uKCdwaW5jaG1vdmUnLCBvblBpbmNoaW5Nb3ZlKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXF1ZXN0VXBkYXRlKClcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWFpbk1hbmFnZXIub2ZmKCdwYW5zdGFydCcsIG9uUGFuU3RhcnQpXG4gICAgICAgICAgICAgICAgbWFpbk1hbmFnZXIub2ZmKCdwYW5tb3ZlJywgb25QYW4pXG4gICAgXG4gICAgXG4gICAgICAgICAgICAgICAgLy8gbWFpbk1hbmFnZXIub2ZmKCdyb3RhdGVzdGFydCcsIG9uUm90YXRlU3RhcnQpXG4gICAgICAgICAgICAgICAgLy8gbWFpbk1hbmFnZXIub2ZmKCdyb3RhdGUnLCBvblJvdGF0ZSlcbiAgICBcbiAgICAgICAgICAgICAgICBtYWluTWFuYWdlci5vZmYoJ3BpbmNoc3RhcnQnLCBvblBpbmNoU3RhcnQpXG4gICAgICAgICAgICAgICAgbWFpbk1hbmFnZXIub2ZmKCdwaW5jaG1vdmUnLCBvblBpbmNoaW5Nb3ZlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgWy4uLk9iamVjdC52YWx1ZXModXNlclRyYW5zZm9ybVByb3BzfHx7fSldKVxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///85\n')},86:function(module,exports,__webpack_require__){eval("var debounce = __webpack_require__(64),\n    isObject = __webpack_require__(60);\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3Rocm90dGxlLmpzPzBmMzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLEVBQVk7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLEVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU8sWUFBWTtBQUM5QixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG9CQUFvQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiODYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVib3VuY2UgPSByZXF1aXJlKCcuL2RlYm91bmNlJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRocm90dGxlZCBmdW5jdGlvbiB0aGF0IG9ubHkgaW52b2tlcyBgZnVuY2AgYXQgbW9zdCBvbmNlIHBlclxuICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAqIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYFxuICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICogdGhyb3R0bGVkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gcmV0dXJuIHRoZVxuICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgaW52b2NhdGlvbnMgdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgdGhyb3R0bGVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBleGNlc3NpdmVseSB1cGRhdGluZyB0aGUgcG9zaXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICpcbiAqIC8vIEludm9rZSBgcmVuZXdUb2tlbmAgd2hlbiB0aGUgY2xpY2sgZXZlbnQgaXMgZmlyZWQsIGJ1dCBub3QgbW9yZSB0aGFuIG9uY2UgZXZlcnkgNSBtaW51dGVzLlxuICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICdsZWFkaW5nJzogbGVhZGluZyxcbiAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGhyb3R0bGU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///86\n")},87:function(module,exports,__webpack_require__){"use strict";eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcz9mYWExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLGlDQUFpQyxRQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEseUJBQXlCO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI4Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///87\n")}}]);