(window.webpackJsonp=window.webpackJsonp||[]).push([[13,9,15],{19:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"RGBA",(function(){return RGBA})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RGBA=function(){function RGBA(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,RGBA),this.r=e,this.g=t,this.b=r,this.a=a}return _createClass(RGBA,null,[{key:"Lerp",value:function(e,t,r){for(var a=[],o=(t.r-e.r)/r,n=(t.g-e.g)/r,_=(t.b-e.b)/r,l=(t.a-e.a)/r,u=0;u<r;u++)a.push(new RGBA(e.r+o*u,e.g+n*u,e.b+_*u,e.a+l*u));return a}},{key:"mutipy",value:function(e,t){return new RGBA(e.r*t,e.g*t,e.b*t)}},{key:"add",value:function(e,t){var r=e.r,a=e.g,o=e.b;return new RGBA(r+t.r,a+t.g,o+t.b)}},{key:"mix",value:function(e,t,r){return new RGBA(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r)}},{key:"getLerpColor",value:function(e,t,r){var a=e.r,o=e.g,n=e.b,_=e.a;return new RGBA((t.r-a)*r+a,(t.g-o)*r+o,(t.b-n)*r+n,(t.a-_)*r+_)}}]),_createClass(RGBA,[{key:"toRGBAString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RGBA}(),reactHotLoader,leaveModule;RGBA.BLACK=new RGBA(0,0,0),RGBA.WHITE=new RGBA(255,255,255),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RGBA,"RGBA","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\rgba.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(11)(module))},23:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PCanvasContext",(function(){return PCanvasContext}));var _tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PCanvasContext=function(){function PCanvasContext(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _tool_item_brush__WEBPACK_IMPORTED_MODULE_1__.Brush,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK.toRGBAString(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;_classCallCheck(this,PCanvasContext),this.curCanvas=e,this.curCanvasContext2D=t,this.brush=r,this.color=a,this.brushWidth=o}return _createClass(PCanvasContext,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasContext}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PCanvasContext,"PCanvasContext","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcanvas.context.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(11)(module))},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"BrushStatus",(function(){return BrushStatus})),__webpack_require__.d(__webpack_exports__,"BrushType",(function(){return BrushType})),__webpack_require__.d(__webpack_exports__,"Brush",(function(){return Brush}));var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54),enterModule;function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],a=!0,o=!1,n=void 0;try{for(var _,l=e[Symbol.iterator]();!(a=(_=l.next()).done)&&(r.push(_.value),!t||r.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw n}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BrushStatus=function(){function BrushStatus(e,t,r,a,o){_classCallCheck(this,BrushStatus),this.x=e,this.y=t,this.pressure=r,this.tiltX=a,this.tiltY=o}return _createClass(BrushStatus,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BrushStatus}(),BrushType;!function(e){e[e.pen=1]="pen",e[e.selector=2]="selector"}(BrushType||(BrushType={}));var Brush=function(){function Brush(){_classCallCheck(this,Brush),this.type=BrushType.pen,this.name="default",this.isPainting=!1,this.lastBrush=void 0,this.lastVerPath=void 0,this.getVerticalPath=function(e,t){return[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.add(e,t),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(e,t)]}}return _createClass(Brush,[{key:"onStart",value:function(e,t){var r=t.curCanvasContext2D,a=t.color,o=t.brushWidth;this.lastBrush=e,this.isPainting=!0,r.fillStyle=a,r.beginPath(),r.moveTo(e.x,e.y),r.arc(e.x,e.y,o*e.pressure*.5,0,2*Math.PI),r.closePath(),r.fill()}},{key:"onDraw",value:function(e,t){var r=this;if(this.isPainting){var a=t.curCanvasContext2D,o=t.brushWidth;a.beginPath(),e.forEach((function(e){var t,n,_,l=e.x,u=e.y,i=e.pressure,c=new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a(l-r.lastBrush.x,u-r.lastBrush.y),s=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.normalize(c),d=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.vertical(s);if(r.lastVerPath)n=r.lastVerPath[0],_=r.lastVerPath[1];else{t=r.lastBrush.pressure*o*.5;var f=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),h=_slicedToArray(r.getVerticalPath(r.lastBrush,f),2);n=h[0],_=h[1]}t=i*o*.5;var v=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),y=_slicedToArray(r.getVerticalPath(e,v),2),p=y[0],b=y[1];a.moveTo(n.x,n.y),a.lineTo(_.x,_.y),a.lineTo(p.x,p.y),a.lineTo(b.x,b.y),a.lineTo(n.x,n.y),r.lastBrush=e,r.lastVerPath=[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(b,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(s,.5)),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(p,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(s,.5))]})),a.closePath(),a.fill()}}},{key:"onEnd",value:function(e,t){this.isPainting=!1,this.lastVerPath=null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Brush}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BrushStatus,"BrushStatus","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\brush\\index.tsx"),reactHotLoader.register(Brush,"Brush","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\brush\\index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(11)(module))},54:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"normalize",value:function(e){var t=1/Vector2.magnitude(e);return new Vector2(e.x*t,e.y*t)}},{key:"vertical",value:function(e){var t=e.x;return new Vector2(e.y,-t)}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var a=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),o=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(o-a)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),a=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(a)*r,Math.sin(a)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var a=r.x-t.x,o=r.y-t.y;return new Vector2(e.x+a,e.y+o)}},{key:"floor",value:function(e){var t=e.x,r=e.y;return new Vector2(Math.floor(t),Math.floor(r))}}]),Vector2}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(11)(module))}}]);