(window.webpackJsonp=window.webpackJsonp||[]).push([[2,13,18],{23:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"CanvasEvent",(function(){return CanvasEvent})),__webpack_require__.d(__webpack_exports__,"PCanvasController",(function(){return PCanvasController}));var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_pcanvas_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_workStorage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57),_pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),_util_event__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89),_workStorage_canvas_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(44),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},CanvasEvent=function(){function CanvasEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";_classCallCheck(this,CanvasEvent),this.data=e,this.creator=t}return _createClass(CanvasEvent,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CanvasEvent}(),pointEvent2BrunshStatus=function(e){var t=e.offsetX,r=e.offsetY,n=e.tiltX,a=e.tiltY,o=e.pressure;return o=o>1?.01*o:0===o?1:o,new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_2__.BrushStatus(t,r,o,n,a)},PCanvasController=function(_PEventEmiter){function PCanvasController(){var e,t;_classCallCheck(this,PCanvasController);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(PCanvasController)).call.apply(e,[this].concat(n)))).context=void 0,t.layerManager=void 0,t.color=_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK,t}return _inherits(PCanvasController,_PEventEmiter),_createClass(PCanvasController,[{key:"init",value:function(e,t){var r=e.wrap,n=e.cover,a=t.workInfo,o=a.width,i=a.height;r.style.width="".concat(o,"px"),r.style.height="".concat(i,"px"),this.layerManager=new _pcanvas_layer__WEBPACK_IMPORTED_MODULE_4__.PcanvasLayers({cover:n,wrap:r,width:o,height:i},t.contens.layers),this.context=new _pcanvas_context__WEBPACK_IMPORTED_MODULE_1__.PCanvasContext(this.layerManager.getCanvas(),this.layerManager.getContext(),o,i),this.emit("init",new CanvasEvent(null)),this.emit("focusLayer",new CanvasEvent({layerDetail:this.layerManager.getFocusDetail()}))}},{key:"setColor",value:function(e){var t=e.r,r=e.g,n=e.b,a=new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA(t,r,n,this.color.a);this.setRGBA(a)}},{key:"setRGBA",value:function(e){this.context.color=e.toRGBAString(),this.color=e,this.emit("colorchange",new CanvasEvent({color:e}))}},{key:"setOpacity",value:function(e){var t=this.color,r=t.r,n=t.g,a=t.b,o=new _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA(r,n,a,e);this.setRGBA(o)}},{key:"getLayers",value:function(){return _toConsumableArray(this.layerManager.layers)}},{key:"addLayer",value:function(){var e=this.layerManager.addLayer(_workStorage__WEBPACK_IMPORTED_MODULE_3__.a.create(this.layerManager.wrapInfo));this.layerManager.focusLayer(e);var t=this.layerManager.layers.indexOf(e);this.emit("addLayer",new CanvasEvent({layerDetail:e,index:t})),this.emit("focusLayer",new CanvasEvent({layerDetail:e}))}},{key:"addLayerContent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",n=t.width,a=t.height,o=_workStorage__WEBPACK_IMPORTED_MODULE_3__.a.create({width:n,height:a}),i=o.canvas.getContext("2d");return null==i||i.drawImage(t,0,0,n,a),this.layerManager.addLayer(o,e),this.emit("addLayer",new CanvasEvent({layerDetail:o,index:e},r)),o}},{key:"setLayerContent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",n=this.layerManager.layers[e],a=n.canvas,o=a.width,i=a.height,s=Object(_workStorage_canvas_util__WEBPACK_IMPORTED_MODULE_6__.a)(n.canvas),_=n.canvas.getContext("2d");return null==_||_.clearRect(0,0,o,i),null==_||_.drawImage(t,0,0,o,i),this.emit("contentChange",new CanvasEvent({layerDetail:n,index:e,preContent:s},r)),n}},{key:"focusLayer",value:function(e){this.layerManager.focusLayer(e),this.emit("focusLayer",new CanvasEvent({layerDetail:e}))}},{key:"removeLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",r=this.layerManager.removeLayer(e),n=r.index,a=r.isFocus;if(this.emit("removeLayer",new CanvasEvent({layerDetail:e,index:n},t)),a){var o=this.layerManager.layers[0];this.focusLayer(o),this.emit("focusLayer",new CanvasEvent({layerDetail:o},t))}}},{key:"removeLayerByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",r=this.layerManager.layers[e];this.removeLayer(r,t)}},{key:"setBrushWidth",value:function(e){this.context.brushWidth=e}},{key:"setBrush",value:function(e){this.context.brush&&this.context.brush.destory(),e.init(),this.context.brush=e}},{key:"onPointerDown",value:function(e){this.context.brush.onStart(pointEvent2BrunshStatus(e),this.context)}},{key:"onPointerMove",value:function(e){var t;t=e.getCoalescedEvents?e.getCoalescedEvents():[e],this.context.brush.onDraw(t.map((function(e){return pointEvent2BrunshStatus(e)})),this.context)}},{key:"onPointerUp",value:function(e){this.context.brush.onEnd(pointEvent2BrunshStatus(e),this.context);var t=this.layerManager.getFocusDetail(),r=Object(_workStorage_canvas_util__WEBPACK_IMPORTED_MODULE_6__.a)(t.canvas);this.layerManager.applyTempCanvas();var n=this.layerManager.layers.indexOf(t);this.emit("contentChange",new CanvasEvent({layerDetail:t,preContent:r,index:n}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasController}(_util_event__WEBPACK_IMPORTED_MODULE_5__.a),reactHotLoader,leaveModule;function logCanvasData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=t.getContext("2d");console.log(e,null==r?void 0:r.getImageData(0,0,1,1).data)}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(CanvasEvent,"CanvasEvent","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts"),reactHotLoader.register(pointEvent2BrunshStatus,"pointEvent2BrunshStatus","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts"),reactHotLoader.register(PCanvasController,"PCanvasController","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts"),reactHotLoader.register(logCanvasData,"logCanvasData","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcnvas.controller.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PCanvasContext",(function(){return PCanvasContext}));var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PCanvasContext=function(){function PCanvasContext(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__.Brush,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK.toRGBAString(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;_classCallCheck(this,PCanvasContext),this.curCanvas=e,this.curCanvasContext2D=t,this.width=r,this.height=n,this.brush=a,this.color=o,this.brushWidth=i}return _createClass(PCanvasContext,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasContext}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PCanvasContext,"PCanvasContext","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.context.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PcanvasLayers",(function(){return PcanvasLayers}));var _workStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PcanvasLayers=function(){function PcanvasLayers(e,t){_classCallCheck(this,PcanvasLayers),this.wrapInfo=e,this.layers=t,this.tempLayer=void 0,this.focusedLayerDetail=void 0;var r=e,n=r.wrap,a=r.cover,o=a;t.forEach((function(e,t){var r=e.canvas,a=(e.layerId,e.visible);n.insertBefore(r,o),o=r,a||(r.className="unvisible")})),this.tempLayer=_workStorage__WEBPACK_IMPORTED_MODULE_0__.a.create(e),n.insertBefore(this.tempLayer.canvas,a),this.focusedLayerDetail=t[0]}return _createClass(PcanvasLayers,[{key:"getCanvas",value:function(){return this.tempLayer.canvas}},{key:"applyTempCanvas",value:function(){var e=this.focusedLayerDetail.canvas.getContext("2d"),t=this.tempLayer.canvas.getContext("2d");if(e&&t){var r=this.tempLayer.canvas,n=r.width,a=r.height;e.drawImage(this.tempLayer.canvas,0,0,n,a),t.clearRect(0,0,n,a)}}},{key:"getFocusDetail",value:function(){return this.focusedLayerDetail}},{key:"focusLayer",value:function(e){var t=this.layers[this.layers.indexOf(e)-1],r=t&&t.canvas&&t!==this.tempLayer?t.canvas:this.wrapInfo.cover;this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas,r),this.focusedLayerDetail=e}},{key:"addLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.wrapInfo.wrap,n=this.layers[t-1],a=n&&n.canvas||this.wrapInfo.cover;return r.insertBefore(e.canvas,a),this.layers.splice(t,0,e),e}},{key:"removeLayer",value:function(e){var t=this.layers.indexOf(e);return t>-1?(this.wrapInfo.wrap.removeChild(e.canvas),this.layers.splice(t,1)):console.warn("layerDetail has been removed"),{index:t,isFocus:this.focusedLayerDetail===e}}},{key:"getContext",value:function(){var e=this.tempLayer.canvas.getContext("2d");if(null===e)throw"get context faliled.";return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PcanvasLayers}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PcanvasLayers,"PcanvasLayers","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.layer.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"BrushStatus",(function(){return BrushStatus})),__webpack_require__.d(__webpack_exports__,"BrushType",(function(){return BrushType})),__webpack_require__.d(__webpack_exports__,"Brush",(function(){return Brush}));var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),enterModule;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BrushStatus=function(){function BrushStatus(e,t,r,n,a){_classCallCheck(this,BrushStatus),this.x=e,this.y=t,this.pressure=r,this.tiltX=n,this.tiltY=a}return _createClass(BrushStatus,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BrushStatus}(),BrushType;!function(e){e[e.pen=1]="pen",e[e.selector=2]="selector"}(BrushType||(BrushType={}));var Brush=function(){function Brush(){_classCallCheck(this,Brush),this.type=BrushType.pen,this.name="default",this.isPainting=!1,this.lastBrush=void 0,this.lastNormalizedDirection=void 0,this.pathList=[[],[]],this.getVerticalPath=function(e,t){return[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.add(e,t),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(e,t)]}}return _createClass(Brush,[{key:"init",value:function(){}},{key:"destory",value:function(){}},{key:"onStart",value:function(e,t){var r=t.curCanvasContext2D,n=t.color;this.lastBrush=e,this.isPainting=!0,r.fillStyle=n}},{key:"onDraw",value:function(e,t){var r=this;if(this.isPainting){var n=t.curCanvasContext2D,a=t.brushWidth;e.forEach((function(e){var t,n=e.x,o=e.y,i=e.pressure,s=new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a(n-r.lastBrush.x,o-r.lastBrush.y),_=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.normalize(s),l=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.vertical(_);t=i*a*.5;var u=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(l,t),c=_slicedToArray(r.getVerticalPath(e,u),2),d=c[0],v=c[1];r.lastNormalizedDirection&&_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.degree(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.ZERO,r.lastNormalizedDirection,_)>180?(r.pathList[1].push(d),r.pathList[0].push(v)):(r.pathList[0].push(d),r.pathList[1].push(v)),r.lastBrush=e,r.lastNormalizedDirection=_})),this.fillPathList(n)}}},{key:"fillPathList",value:function(e){var t=this.pathList[0],r=this.pathList[1],n=t.concat(_toConsumableArray(r).reverse());e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath();var a=n.length-1;e.moveTo(n[a].x,n[a].y),n.forEach((function(t){var r=t.x,n=t.y;e.lineTo(r,n)})),e.closePath(),e.fill()}},{key:"onEnd",value:function(e,t){this.isPainting=!1,this.pathList=[[],[]]}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Brush}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BrushStatus,"BrushStatus","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx"),reactHotLoader.register(Brush,"Brush","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},58:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"normalize",value:function(e){var t=1/Vector2.magnitude(e);return new Vector2(e.x*t,e.y*t)}},{key:"vertical",value:function(e){var t=e.x;return new Vector2(e.y,-t)}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var n=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),a=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(a-n)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),n=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(n)*r,Math.sin(n)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var n=r.x-t.x,a=r.y-t.y;return new Vector2(e.x+n,e.y+a)}},{key:"floor",value:function(e){var t=e.x,r=e.y;return new Vector2(Math.floor(t),Math.floor(r))}}]),Vector2}(),reactHotLoader,leaveModule;Vector2.ZERO=new Vector2,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},89:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return PEventEmiter}));var events__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(90),events__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PEventEmiter=function(){function PEventEmiter(){_classCallCheck(this,PEventEmiter),this.eventEmitter=new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter}return _createClass(PEventEmiter,[{key:"on",value:function(e,t){var r=t;this.eventEmitter.addListener(e,r)}},{key:"off",value:function(e,t){var r=t;this.eventEmitter.removeListener(e,r)}},{key:"emit",value:function(e,t){var r=this;setTimeout((function(){r.eventEmitter.emit(e,t)}),1)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PEventEmiter}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PEventEmiter,"PEventEmiter","/Users/muyin/Documents/code/WebPencil/src/util/event.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},90:function(e,t,r){"use strict";var n,a="object"==typeof Reflect?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var _=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var a,o,i,s;if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),i=o[t]),void 0===i)i=o[t]=r,++e._eventsCount;else if("function"==typeof i?i=o[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(a=u(e))>0&&i.length>a&&!i.warned){i.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=e,_.type=t,_.count=i.length,s=_,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=d.bind(n);return a.listener=r,n.wrapFn=a,a}function f(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):y(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var _=a[e];if(void 0===_)return!1;if("function"==typeof _)o(_,this,t);else{var l=_.length,u=y(_,l);for(r=0;r<l;++r)o(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,v(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,v(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,a,o,i;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){i=r[o].listener,a=o;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(a=o[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}}}]);