(window.webpackJsonp=window.webpackJsonp||[]).push([[16,17],{30:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PcanvasLayers",(function(){return PcanvasLayers}));var _workStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),enterModule;function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,a,t){return a&&_defineProperties(e.prototype,a),t&&_defineProperties(e,t),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PcanvasLayers=function(){function PcanvasLayers(e,a){_classCallCheck(this,PcanvasLayers),this.wrapInfo=e,this.layers=a,this.tempLayer=void 0,this.focusedLayerDetail=void 0;var t=e,r=t.wrap,n=t.cover,o=n;a.forEach((function(e,a){var t=e.canvas,n=(e.layerId,e.visible);r.insertBefore(t,o),o=t,n||(t.className="unvisible")})),this.tempLayer=_workStorage__WEBPACK_IMPORTED_MODULE_0__.a.create(e),r.insertBefore(this.tempLayer.canvas,n),this.focusedLayerDetail=a[0]}return _createClass(PcanvasLayers,[{key:"getCanvas",value:function(){return this.tempLayer.canvas}},{key:"applyTempCanvas",value:function(){var e=this.focusedLayerDetail.canvas.getContext("2d"),a=this.tempLayer.canvas.getContext("2d");if(e&&a){var t=this.tempLayer.canvas,r=t.width,n=t.height;e.drawImage(this.tempLayer.canvas,0,0,r,n),a.clearRect(0,0,r,n)}}},{key:"getFocusDetail",value:function(){return this.focusedLayerDetail}},{key:"focusLayer",value:function(e){var a=this.layers[this.layers.indexOf(e)-1],t=a&&a.canvas&&a!==this.tempLayer?a.canvas:this.wrapInfo.cover;this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas,t),this.focusedLayerDetail=e}},{key:"addLayer",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=this.wrapInfo.wrap,r=this.layers[a-1],n=r&&r.canvas||this.wrapInfo.cover;return t.insertBefore(e.canvas,n),this.layers.splice(a,0,e),e}},{key:"removeLayer",value:function(e){var a=this.layers.indexOf(e);return a>-1?(this.wrapInfo.wrap.removeChild(e.canvas),this.layers.splice(a,1)):console.warn("layerDetail has been removed"),{index:a,isFocus:this.focusedLayerDetail===e}}},{key:"getContext",value:function(){var e=this.tempLayer.canvas.getContext("2d");if(null===e)throw"get context faliled.";return e}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PcanvasLayers}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PcanvasLayers,"PcanvasLayers","/Users/muyin/Documents/code/WebPencil/src/pages/paint/pcanvas/pcanvas.layer.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},46:function(e,a,t){var r=t(47),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();e.exports=o},47:function(e,a,t){(function(a){var t="object"==typeof a&&a&&a.Object===Object&&a;e.exports=t}).call(this,t(48))},48:function(e,a){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},49:function(e,a){e.exports=function(){return!1}},50:function(e,a){var t=Array.isArray;e.exports=t},51:function(e,a,t){var r=t(52),n=0;e.exports=function(e){var a=++n;return r(e)+a}},52:function(e,a,t){var r=t(53);e.exports=function(e){return null==e?"":r(e)}},53:function(e,a,t){var r=t(54),n=t(55),o=t(50),s=t(49),i=r?r.prototype:void 0,c=i?i.toString:void 0;e.exports=function e(a){if("string"==typeof a)return a;if(o(a))return n(a,e)+"";if(s(a))return c?c.call(a):"";var t=a+"";return"0"==t&&1/a==-1/0?"-0":t}},54:function(e,a,t){var r=t(46).Symbol;e.exports=r},55:function(e,a){e.exports=function(e,a){for(var t=-1,r=null==e?0:e.length,n=Array(r);++t<r;)n[t]=a(e[t],t,e);return n}}}]);