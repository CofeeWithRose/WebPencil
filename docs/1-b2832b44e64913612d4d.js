(window.webpackJsonp=window.webpackJsonp||[]).push([[1,10],{15:function(e,t,r){"use strict";r.r(t),function(e){var n,a=r(0),o=r.n(a),c=r(22),u=r.n(c),i=r(52);(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var s,l,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},d=function(e){e.workDetail;var t=Object(i.a)({maxScale:2*devicePixelRatio}).wrapRef;return o.a.createElement("main",{ref:t,className:u.a.PCanvas},"ss")};f(d,"useTransform{{ wrapRef }}",(function(){return[i.a]})),t.default=d,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(d,"default","D:\\code\\WebPencil\\src\\pages\\paint\\PCanvas.tsx"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}.call(this,r(6)(e))},22:function(e,t,r){e.exports={PCanvas:"PCanvas_bc01f",layout:"layout_72e38"}},33:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},52:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return _}));var n,a=r(53),o=r.n(a),c=r(0),u=r(24),i=r.n(u),s=r(57);function l(e,t,r,n,a,o,c){try{var u=e[o](c),i=u.value}catch(e){return void r(e)}u.done?t(i):Promise.resolve(i).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){l(o,n,a,c,u,"next",e)}function u(e){l(o,n,a,c,u,"throw",e)}c(void 0)}))}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=function(e,t,r){return Math.min(Math.max(t,e),r)},p=function(e,t,r){return Math.abs(e-t)<r?t:e},m=function(e,t,r){var n=s.a.subtract(e,t);return s.a.add(s.a.multipy(n,r),t)},y=function(e,t,r){var n=s.a.subtract(e,t);return s.a.add(s.a.rotate(n,r),t)},b=function(e,t,r,n,a){return s.a.add(y(m(e,t,n),t,a),r)},g=new s.a;console.log("translateFun: ",b(new s.a(0,1),g,g,2,90));var h,w,x=function(e,t,r,n,a){var o=b(new s.a,e,r,n,a),c=b(new s.a,t,r,n,a);return s.a.add(s.a.subtract(c,o),r)};function _(e){var t=e||{},r=t.maxScale,n=void 0===r?2:r,a=t.minScale,u=void 0===a?.5:a,l=t.scaleEnable,d=void 0===l||l,m=t.rotateEnable,y=void 0===m||m,b=Object(c.useRef)(null),g=Object(c.useRef)({gestrueStartRotate:0,eleStartRotate:0,rotate:0,gestrueStartscale:1,eleStartScale:1,scale:1,gestrueStartTranslate:new s.a,eleStartTanslate:new s.a,translate:new s.a,center:new s.a});return Object(c.useEffect)((function(){if(null!==b.current){var e=getComputedStyle(b.current);g.current.center=new s.a(.5*parseFloat(e.width),.5*parseFloat(e.height)),b.current.style.transition="transform 0.1s";var t=new i.a.Manager(b.current);t.add(new i.a.Pan({threshold:0,pointers:2})),y&&t.add(new i.a.Rotate).recognizeWith(t.get("pan")),d&&t.add(new i.a.Pinch).recognizeWith([t.get("pan"),t.get("rotate")]);var r=o()((function(){return new Promise((function(e){requestAnimationFrame((function(){var t=g.current,r=t.rotate,n=t.scale,a=t.translate,o=a.x,c=a.y,u=t.center;b.current.style.transform="translate3d( ".concat(o,"px, ").concat(c,"px, 0)  scale(").concat(n,") rotate(").concat(r,"deg)"),b.current.style.transformOrigin="".concat(u.x,"px ").concat(u.y,"px"),e()}))}))}),10),a=function(e){var t=e.deltaX,r=e.deltaY,n=g.current.translate;g.current.gestrueStartTranslate=new s.a(t,r),g.current.eleStartTanslate=n,b.current&&(b.current.style.transition="",requestAnimationFrame((function(){b.current&&(b.current.style.transition="transform 0.1s")})))},c=function(e){var t=e.deltaX,n=e.deltaY,a=(e.center,g.current),o=a.scale,c=a.gestrueStartTranslate,u=a.eleStartTanslate,i=u.x+(t-c.x),l=u.y+(n-c.y),f=1==o?new s.a(p(i,0,10),p(l,0,10)):new s.a(i,l);g.current.translate=f,r()},l=function(){var e=f(regeneratorRuntime.mark((function e(t){var n,a,o,c,u,i,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rotation,a=t.center,o=g.current,c=o.rotate,u=o.translate,i=o.center,l=o.scale,g.current.eleStartRotate=c,g.current.gestrueStartRotate=n,f=s.a.subtract(a,u),g.current.translate=x(i,f,u,l,c),g.current.center=f,e.next=9,r();case 9:b.current&&(b.current.style.transition="",requestAnimationFrame((function(){b.current&&(b.current.style.transition="transform 0.1s")})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.rotation,n=g.current,a=n.gestrueStartRotate,o=n.eleStartRotate,c=(n.translate,o+(t-a));g.current.rotate=p(c,0,10),r()},h=function(){var e=f(regeneratorRuntime.mark((function e(t){var n,a,o,c,u,i,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scale,a=t.center,o=g.current,c=o.translate,u=o.scale,i=o.center,l=o.rotate,g.current.gestrueStartscale=n,g.current.eleStartScale=u,f=s.a.subtract(a,c),g.current.translate=x(i,f,c,n,l),g.current.center=f,e.next=9,r();case 9:b.current&&(b.current.style.transition="",requestAnimationFrame((function(){b.current&&(b.current.style.transition="transform 0.1s")})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.scale,a=(e.center,g.current),o=a.eleStartScale,c=a.gestrueStartscale,i=(a.translate,v(o+(t-c),u,n));g.current.scale=p(i,1,.2),r()};return t.on("panstart",a),t.on("panmove",c),t.on("rotatestart",l),t.on("rotate",m),t.on("pinchstart",h),t.on("pinchmove",w),r(),function(){t.off("panstart",a),t.off("panmove",c),t.off("rotatestart",l),t.off("rotate",m),t.off("pinchstart",h),t.off("pinchmove",w)}}}),[b.current]),{wrapRef:b}}d(_,"useRef{wrapRef}\nuseRef{transformInfoRef}\nuseEffect{}"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"getValueFromRange","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(p,"getTargetValue","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(m,"scaleFun","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(y,"rotateFun","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(b,"translateFun","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(g,"zero","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(x,"getNewTranslate","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register("transform 0.1s","TRANSACTION","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts"),h.register(_,"useTransform","D:\\code\\WebPencil\\src\\hooks\\useTransform.ts")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}).call(this,r(6)(e))},53:function(e,t,r){var n=r(54),a=r(33);e.exports=function(e,t,r){var o=!0,c=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,c="trailing"in r?!!r.trailing:c),n(e,t,{leading:o,maxWait:t,trailing:c})}},54:function(e,t,r){var n=r(33),a=r(55),o=r(56),c=Math.max,u=Math.min;e.exports=function(e,t,r){var i,s,l,f,d,v,p=0,m=!1,y=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=i,n=s;return i=s=void 0,p=t,f=e.apply(n,r)}function h(e){return p=e,d=setTimeout(x,t),m?g(e):f}function w(e){var r=e-v;return void 0===v||r>=t||r<0||y&&e-p>=l}function x(){var e=a();if(w(e))return _(e);d=setTimeout(x,function(e){var r=t-(e-v);return y?u(r,l-(e-p)):r}(e))}function _(e){return d=void 0,b&&i?g(e):(i=s=void 0,f)}function M(){var e=a(),r=w(e);if(i=arguments,s=this,v=e,r){if(void 0===d)return h(v);if(y)return clearTimeout(d),d=setTimeout(x,t),g(v)}return void 0===d&&(d=setTimeout(x,t)),f}return t=o(t)||0,n(r)&&(m=!!r.leading,l=(y="maxWait"in r)?c(o(r.maxWait)||0,t):l,b="trailing"in r?!!r.trailing:b),M.cancel=function(){void 0!==d&&clearTimeout(d),p=0,i=v=s=d=void 0},M.flush=function(){return void 0===d?f:_(a())},M}},55:function(e,t,r){var n=r(29);e.exports=function(){return n.Date.now()}},56:function(e,t,r){var n=r(33),a=r(32),o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=u.test(e);return r||i.test(e)?s(e.slice(2),r?2:8):c.test(e)?NaN:+e}},57:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var n=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),a=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(a-n)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),n=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(n)*r,Math.sin(n)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var n=r.x-t.x,a=r.y-t.y;return new Vector2(e.x+n,e.y+a)}}]),Vector2}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(6)(module))}}]);