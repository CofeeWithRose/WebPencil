(window.webpackJsonp=window.webpackJsonp||[]).push([[15,20,29],{24:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"RGBA",(function(){return RGBA})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RGBA=function(){function RGBA(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,RGBA),this.r=e,this.g=t,this.b=r,this.a=n}return _createClass(RGBA,null,[{key:"Lerp",value:function(e,t,r){for(var n=[],o=(t.r-e.r)/r,a=(t.g-e.g)/r,i=(t.b-e.b)/r,c=(t.a-e.a)/r,l=0;l<r;l++)n.push(new RGBA(e.r+o*l,e.g+a*l,e.b+i*l,e.a+c*l));return n}},{key:"mutipy",value:function(e,t){return new RGBA(e.r*t,e.g*t,e.b*t)}},{key:"add",value:function(e,t){var r=e.r,n=e.g,o=e.b;return new RGBA(r+t.r,n+t.g,o+t.b)}},{key:"mix",value:function(e,t,r){return new RGBA(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r)}},{key:"getLerpColor",value:function(e,t,r){var n=e.r,o=e.g,a=e.b,i=e.a;return new RGBA((t.r-n)*r+n,(t.g-o)*r+o,(t.b-a)*r+a,(t.a-i)*r+i)}}]),_createClass(RGBA,[{key:"toRGBAString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RGBA}(),reactHotLoader,leaveModule;RGBA.BLACK=new RGBA(0,0,0),RGBA.WHITE=new RGBA(255,255,255),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RGBA,"RGBA","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/rgba.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},27:function(e,t,r){"use strict";r.r(t),function(e){var n,o=r(60),a=r.n(o),i=r(0),c=r.n(i),l=r(36),u=r.n(l),s=r(24);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y,v,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=function(e,t,r){var n=t.pixX,o=t.pixY,a=t.pixR,i=t.pixWidth,c=t.start,l=t.end,u=a-i,s={x:n+Math.cos(c)*u,y:o+Math.sin(c)*u},f={x:n+Math.cos(c)*a,y:o+Math.sin(c)*a},p={x:n+Math.cos(l)*u,y:o+Math.sin(l)*u},d=r.toRGBAString();e.beginPath(),e.fillStyle=d,e.strokeStyle=d,e.moveTo(s.x,s.y),e.lineTo(f.x,f.y),e.arc(n,o,a,c,l),e.lineTo(p.x,p.y),e.arc(n,o,u,l,c,!0),e.closePath(),e.fill(),e.stroke()},g=function(e,t){for(var r=[new s.RGBA(255,0,0),new s.RGBA(255,255,0),new s.RGBA(0,255,0),new s.RGBA(0,255,255),new s.RGBA(0,0,255),new s.RGBA(255,0,255),new s.RGBA(255,0,0)],n=2*Math.PI/6,o=0;o<r.length-1;o++)for(var a=s.RGBA.Lerp(r[o],r[o+1],255),i=o*n,c=((o+1)*n-i)/a.length,l=0;l<a.length-1;l++)h(e,d({},t,{start:i+c*l,end:i+c*(l+1)}),a[l])},m=function(e,t,r){var n=t.pixX,o=t.pixY,a=t.pixR,i=t.pixWidth,c=Math.sin(.25*Math.PI)*(a-i),l=2*c;e.clearRect(n-c,o-c,l,l);var u=e.createLinearGradient(n-c,o+c,n-c,o-c);u.addColorStop(0,r),u.addColorStop(1,"white"),e.fillStyle=u,e.fillRect(n-c,o-c,l,l);var s=e.createLinearGradient(n-c,o-c,n+c,o-c);s.addColorStop(0,"black"),s.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=s,e.fillRect(n-c,o-c,l,l)},w=function(e,t){var r=t.x,n=t.y,o=t.width,a=t.r,i=Math.sin(.25*Math.PI)*(a-o),c=r-i,l=r+i,u=n-i,s=n+i;return e.x>c&&e.x<l&&e.y>u&&e.y<s},G=function(e,t){var r=t.x,n=t.y,o=t.width,a=t.r,i=Math.pow(e.x-r,2)+Math.pow(e.y-n,2),c=Math.pow(a,2);return i>Math.pow(a-o,2)&&i<c?"circle":w(e,t)?"round":null},_=function(e,t){var r=t.x,n=t.y,o=t.width,a=t.r-.5*o,i=e.x-r,c=e.y-n,l=Math.sqrt(Math.pow(i,2)+Math.pow(c,2));return{x:r+i*a/l,y:n+c*a/l}},P=function(e,t){var r=t.x,n=t.y,o=t.width,a=t.r,i=(Math.sin(.25*Math.PI),e.x-r),c=e.y-n;Math.sqrt(Math.pow(i,2)+Math.pow(c,2));if(w(e,t))return e},R=function(e,t){for(var r=t.x,n=t.y,o=e.x-r,a=n-e.y,i=Math.atan2(a,o),c=1-(i>=0?i:i+2*Math.PI)/(2*Math.PI),l=[new s.RGBA(255,0,0),new s.RGBA(255,255,0),new s.RGBA(0,255,0),new s.RGBA(0,255,255),new s.RGBA(0,0,255),new s.RGBA(255,0,255),new s.RGBA(255,0,0)],u=0;u<6;u++){var f=u*(1/6),p=(u+1)*(1/6);if(c>f&&c<p)return s.RGBA.getLerpColor(l[u],l[u+1],1-(p-c)/(1/6));if(c===f)return l[u];if(c===p)return l[u+1]}return s.RGBA.BLACK},A=function(e,t,r,n,o){var a=r-o,i=n-o,c=2*o,l=1-Math.max(Math.min((e.y-i)/c,1),0),u=Math.max(Math.min((e.x-a)/c,1),0);return s.RGBA.mix(s.RGBA.mix(t,s.RGBA.WHITE,l),s.RGBA.BLACK,1-u)},B=a()((function(e,t,r,n){var o=R(t,{x:n.x,y:n.y}),a=Math.cos(.25*Math.PI)*n.r-n.width;e&&e(A(r,o,n.x,n.y,a))}),200),M=function(e){var t=e.value,r=e.onChange,n=f(Object(i.useState)({x:0,y:0}),2),o=n[0],a=n[1],l=f(Object(i.useState)({x:0,y:0}),2),s=l[0],p=l[1],d=f(Object(i.useState)(null),2),b=d[0],y=d[1],v=f(Object(i.useState)(),2),x=v[0],h=v[1],w=f(Object(i.useState)(),2),A=w[0],M=w[1],O=Object(i.useRef)({isSelecting:!1}),S=Object(i.useRef)(null);Object(i.useEffect)((function(){console.log(t)}),[t]),Object(i.useEffect)((function(){if(S.current){var e=S.current.getContext("2d"),t=S.current.clientWidth*devicePixelRatio;if(S.current.width=t,S.current.height=t,e){M(e);var r=.5*S.current.clientWidth,n=.5*S.current.width,o={x:r,y:r,r:r-10,width:30,pixX:n,pixY:n,pixR:n-10*devicePixelRatio,pixWidth:30*devicePixelRatio};m(e,o,"rgb(255,0,0)"),g(e,o),h(o),a({x:r+o.r,y:r}),p({x:r,y:r})}}}),[S.current]);return Object(i.useMemo)((function(){return x&&B(r,o,s,x)}),[o,s]),c.a.createElement("div",{className:u.a.colorPannelWrap},c.a.createElement("canvas",{ref:S,className:u.a.colorPannel}),c.a.createElement("div",{className:u.a.circlePoint,style:{transform:"translate3d(".concat(o.x-5,"px, ").concat(o.y-5,"px, 0)")}}),c.a.createElement("div",{style:{transform:"translate3d(".concat(s.x-5,"px, ").concat(s.y-5,"px, 0)")},className:u.a.selectPoint}),c.a.createElement("div",{className:u.a.canvasCover,style:{height:"".concat(x&&2*x.x,"px")},onPointerDown:function(e){var t=e.nativeEvent,r=t.offsetX,n=t.offsetY;if(x){O.current.isSelecting=!0,y(G({x:r,y:n},x));var o=G({x:r,y:n},x);"circle"===o&&a(_({x:r,y:n},x)),"round"===o&&p({x:r,y:n})}},onPointerUp:function(){O.current.isSelecting=!1,y(null)},onPointerMove:function(e){var t=e.nativeEvent,r=t.offsetX,n=t.offsetY;if(O.current.isSelecting&&x&&b){if("circle"===b&&A){a(_({x:r,y:n},x));var o=R({x:r,y:n},{x:x.x,y:x.y});m(A,x,o.toRGBAString())}if("round"===b){var i=P({x:r,y:n},x);i&&p(i)}}}}))};x(M,"useState{[circlePoint, setCirclePoint]({x: 0, y:0})}\nuseState{[ selectPoint, setSelectPoint ]({x: 0, y:0})}\nuseState{[ pointType,  setPointType ](null)}\nuseState{[cirleInfo, setCircleInfo ]}\nuseState{[ctx, setCtx]}\nuseRef{operateInfo}\nuseRef{canvas}\nuseEffect{}\nuseEffect{}\nuseMemo{}"),t.default=M,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(h,"drawCircleFragment","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(g,"drawCircle","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(m,"drawSelectArea","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(w,"isInSelectArea","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(G,"getPointType","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(_,"getCirclePosition","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(P,"getSelectPoint","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(R,"getStandardColor","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(A,"getSelectColor","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(B,"handleChange","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx"),y.register(M,"default","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/color-selector/color-pannel.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)}.call(this,r(3)(e))},36:function(e,t,r){e.exports={colorBar:"colorBar_22b99",colorPannelWrap:"colorPannelWrap_94f56",colorPannel:"colorPannel_02c11",circlePoint:"circlePoint_0a8ba",selectPoint:"selectPoint_5aa22",canvasCover:"canvasCover_4958d"}},46:function(e,t,r){var n=r(47),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},47:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(48))},48:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},49:function(e,t){e.exports=function(){return!1}},57:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},60:function(e,t,r){var n=r(57),o=r(61),a=r(62),i=Math.max,c=Math.min;e.exports=function(e,t,r){var l,u,s,f,p,d,b=0,y=!1,v=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=l,n=u;return l=u=void 0,b=t,f=e.apply(n,r)}function g(e){return b=e,p=setTimeout(w,t),y?h(e):f}function m(e){var r=e-d;return void 0===d||r>=t||r<0||v&&e-b>=s}function w(){var e=o();if(m(e))return G(e);p=setTimeout(w,function(e){var r=t-(e-d);return v?c(r,s-(e-b)):r}(e))}function G(e){return p=void 0,x&&l?h(e):(l=u=void 0,f)}function _(){var e=o(),r=m(e);if(l=arguments,u=this,d=e,r){if(void 0===p)return g(d);if(v)return clearTimeout(p),p=setTimeout(w,t),h(d)}return void 0===p&&(p=setTimeout(w,t)),f}return t=a(t)||0,n(r)&&(y=!!r.leading,s=(v="maxWait"in r)?i(a(r.maxWait)||0,t):s,x="trailing"in r?!!r.trailing:x),_.cancel=function(){void 0!==p&&clearTimeout(p),b=0,l=d=u=p=void 0},_.flush=function(){return void 0===p?f:G(o())},_}},61:function(e,t,r){var n=r(46);e.exports=function(){return n.Date.now()}},62:function(e,t,r){var n=r(57),o=r(49),a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):i.test(e)?NaN:+e}}}]);