(window.webpackJsonp=window.webpackJsonp||[]).push([[14,13,15,18,22,23],[,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Brush", function() { return Brush; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22);\n\n/**\n * 带压感的brush，bug待修复.\n * 根据移动，与context, 控制画出的形状并填充.\n */\n\nclass Brush {\n  constructor() {\n    this.type = _types__WEBPACK_IMPORTED_MODULE_0__["BrushType"].pen;\n    this.name = \'default\';\n    this.isPainting = false;\n    this.pathList = [];\n    this.animeHandle = void 0;\n\n    this.paintPath = ctx => {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.beginPath();\n      const f = this.pathList[0];\n      ctx.moveTo(f.x, f.y);\n\n      for (let i = 1; i < this.pathList.length; i++) {\n        const {\n          x,\n          y\n        } = this.pathList[i];\n        ctx.lineTo(x, y);\n      }\n\n      ctx.stroke();\n    };\n  }\n\n  init() {}\n\n  destory() {}\n\n  onStart(status, context) {\n    const {\n      curCanvasContext2D: ctx,\n      color,\n      brushWidth\n    } = context;\n    this.isPainting = true;\n    this.pathList.push(status);\n    ctx.strokeStyle = color;\n    ctx.lineWidth = brushWidth;\n    ctx.lineCap = \'round\';\n    ctx.lineJoin = "round";\n  }\n\n  onDraw(brushStatus, contx) {\n    if (this.isPainting) {\n      const {\n        curCanvasContext2D: ctx\n      } = contx;\n\n      for (let i = 0; i < brushStatus.length; i++) {\n        this.pathList.push(brushStatus[i]);\n      }\n\n      cancelAnimationFrame(this.animeHandle);\n      this.animeHandle = requestAnimationFrame(() => {\n        this.paintPath(ctx);\n      });\n    }\n  }\n\n  onEnd(brushStatus, {\n    onBrushEnd\n  }) {\n    requestAnimationFrame(() => {\n      this.isPainting = false;\n      this.pathList = [];\n      onBrushEnd();\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC9pbmRleC50cz8yMjY2Il0sIm5hbWVzIjpbIkJydXNoIiwidHlwZSIsIkJydXNoVHlwZSIsInBlbiIsIm5hbWUiLCJpc1BhaW50aW5nIiwicGF0aExpc3QiLCJhbmltZUhhbmRsZSIsInBhaW50UGF0aCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYmVnaW5QYXRoIiwiZiIsIm1vdmVUbyIsIngiLCJ5IiwiaSIsImxlbmd0aCIsImxpbmVUbyIsInN0cm9rZSIsImluaXQiLCJkZXN0b3J5Iiwib25TdGFydCIsInN0YXR1cyIsImNvbnRleHQiLCJjdXJDYW52YXNDb250ZXh0MkQiLCJjb2xvciIsImJydXNoV2lkdGgiLCJwdXNoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJvbkRyYXciLCJicnVzaFN0YXR1cyIsImNvbnR4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbkVuZCIsIm9uQnJ1c2hFbmQiXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7Ozs7O0FBSU8sTUFBTUEsS0FBTixDQUFzQztBQUFBO0FBQUEsU0FHaENDLElBSGdDLEdBR2RDLGdEQUFTLENBQUNDLEdBSEk7QUFBQSxTQUtoQ0MsSUFMZ0MsR0FLekIsU0FMeUI7QUFBQSxTQU8vQkMsVUFQK0IsR0FPbEIsS0FQa0I7QUFBQSxTQVMvQkMsUUFUK0IsR0FTVCxFQVRTO0FBQUEsU0FXL0JDLFdBWCtCOztBQUFBLFNBMkMvQkMsU0EzQytCLEdBMkNsQkMsR0FBRCxJQUFtQztBQUN2REEsU0FBRyxDQUFDQyxTQUFKLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFtQkQsR0FBRyxDQUFDRSxNQUFKLENBQVdDLEtBQTlCLEVBQXFDSCxHQUFHLENBQUNFLE1BQUosQ0FBV0UsTUFBaEQ7QUFDQUosU0FBRyxDQUFDSyxTQUFKO0FBQ0EsWUFBTUMsQ0FBQyxHQUFHLEtBQUtULFFBQUwsQ0FBYyxDQUFkLENBQVY7QUFDQUcsU0FBRyxDQUFDTyxNQUFKLENBQVdELENBQUMsQ0FBQ0UsQ0FBYixFQUFnQkYsQ0FBQyxDQUFDRyxDQUFsQjs7QUFDQSxXQUFLLElBQUlDLENBQUMsR0FBRSxDQUFaLEVBQWVBLENBQUMsR0FBRSxLQUFLYixRQUFMLENBQWNjLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDLGNBQU07QUFBQ0YsV0FBRDtBQUFJQztBQUFKLFlBQVMsS0FBS1osUUFBTCxDQUFjYSxDQUFkLENBQWY7QUFDQVYsV0FBRyxDQUFDWSxNQUFKLENBQVdKLENBQVgsRUFBYUMsQ0FBYjtBQUNEOztBQUNEVCxTQUFHLENBQUNhLE1BQUo7QUFDRCxLQXJEd0M7QUFBQTs7QUFhekNDLE1BQUksR0FBRSxDQUFFOztBQUVSQyxTQUFPLEdBQUUsQ0FBRTs7QUFFWEMsU0FBTyxDQUFDQyxNQUFELEVBQXNCQyxPQUF0QixFQUErQztBQUNsRCxVQUFNO0FBQUNDLHdCQUFrQixFQUFFbkIsR0FBckI7QUFBMEJvQixXQUExQjtBQUFpQ0M7QUFBakMsUUFBK0NILE9BQXJEO0FBQ0EsU0FBS3RCLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxRQUFMLENBQWN5QixJQUFkLENBQW1CTCxNQUFuQjtBQUNBakIsT0FBRyxDQUFDdUIsV0FBSixHQUFrQkgsS0FBbEI7QUFDQXBCLE9BQUcsQ0FBQ3dCLFNBQUosR0FBZ0JILFVBQWhCO0FBQ0FyQixPQUFHLENBQUN5QixPQUFKLEdBQWEsT0FBYjtBQUNBekIsT0FBRyxDQUFDMEIsUUFBSixHQUFlLE9BQWY7QUFDSDs7QUFJREMsUUFBTSxDQUFDQyxXQUFELEVBQTZCQyxLQUE3QixFQUEwRDtBQUM5RCxRQUFHLEtBQUtqQyxVQUFSLEVBQW1CO0FBQ2YsWUFBTztBQUFFdUIsMEJBQWtCLEVBQUVuQjtBQUF0QixVQUE4QjZCLEtBQXJDOztBQUNBLFdBQUssSUFBSW5CLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUVrQixXQUFXLENBQUNqQixNQUEvQixFQUF1Q0QsQ0FBQyxFQUF4QyxFQUEyQztBQUN6QyxhQUFLYixRQUFMLENBQWN5QixJQUFkLENBQW9CTSxXQUFXLENBQUNsQixDQUFELENBQS9CO0FBQ0Q7O0FBQ0RvQiwwQkFBb0IsQ0FBQyxLQUFLaEMsV0FBTixDQUFwQjtBQUVBLFdBQUtBLFdBQUwsR0FBbUJpQyxxQkFBcUIsQ0FBQyxNQUFNO0FBQy9DLGFBQUtoQyxTQUFMLENBQWVDLEdBQWY7QUFDQyxPQUZ1QyxDQUF4QztBQUdIO0FBQ0Y7O0FBY0RnQyxPQUFLLENBQUNKLFdBQUQsRUFBMkI7QUFBQ0s7QUFBRCxHQUEzQixFQUF5RDtBQUM1REYseUJBQXFCLENBQUMsTUFBTTtBQUMxQixXQUFLbkMsVUFBTCxHQUFrQixLQUFsQjtBQUNBLFdBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQW9DLGdCQUFVO0FBQ1gsS0FKb0IsQ0FBckI7QUFLRDs7QUE3RHdDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQQ2FudmFzQ29udGV4dCB9IGZyb20gXCIuLi8uLi8uLi9wY2FudmFzL3BjYW52YXMuY29udGV4dFwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsL2RhdGEvVmVjdG9yMlwiO1xuaW1wb3J0IHsgQnJ1c2hUeXBlLCBCcnVzaFN0YXR1cywgQWJzdHJhY3RCcnVzaCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICog5bim5Y6L5oSf55qEYnJ1c2jvvIxidWflvoXkv67lpI0uXG4gKiDmoLnmja7np7vliqjvvIzkuI5jb250ZXh0LCDmjqfliLbnlLvlh7rnmoTlvaLnirblubbloavlhYUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCcnVzaCAgaW1wbGVtZW50cyBBYnN0cmFjdEJydXNoIHtcblxuXG4gICAgcmVhZG9ubHkgdHlwZTogQnJ1c2hUeXBlID0gQnJ1c2hUeXBlLnBlblxuXG4gICAgcmVhZG9ubHkgbmFtZSA9ICdkZWZhdWx0J1xuXG4gICAgcHJvdGVjdGVkIGlzUGFpbnRpbmcgPSBmYWxzZVxuXG4gICAgcHJvdGVjdGVkIHBhdGhMaXN0OiBWZWN0b3IyW10gPSBbXVxuXG4gICAgcHJvdGVjdGVkIGFuaW1lSGFuZGxlOiBudW1iZXJcblxuICAgIGluaXQoKXt9XG5cbiAgICBkZXN0b3J5KCl7fVxuXG4gICAgb25TdGFydChzdGF0dXM6IEJydXNoU3RhdHVzLCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dCkge1xuICAgICAgICBjb25zdCB7Y3VyQ2FudmFzQ29udGV4dDJEOiBjdHgsIGNvbG9yLCBicnVzaFdpZHRofSA9IGNvbnRleHRcbiAgICAgICAgdGhpcy5pc1BhaW50aW5nID0gdHJ1ZVxuICAgICAgICB0aGlzLnBhdGhMaXN0LnB1c2goc3RhdHVzKVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvclxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJ1c2hXaWR0aFxuICAgICAgICBjdHgubGluZUNhcCA9J3JvdW5kJ1xuICAgICAgICBjdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG4gICAgfVxuXG4gIFxuXG4gICAgb25EcmF3KGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1c1tdLCBjb250eDogUENhbnZhc0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIGlmKHRoaXMuaXNQYWludGluZyl7XG4gICAgICAgICAgY29uc3QgIHsgY3VyQ2FudmFzQ29udGV4dDJEOiBjdHggfSA9IGNvbnR4XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8IGJydXNoU3RhdHVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMucGF0aExpc3QucHVzaCggYnJ1c2hTdGF0dXNbaV0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWVIYW5kbGUpXG5cbiAgICAgICAgICB0aGlzLmFuaW1lSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBhaW50UGF0aChjdHgpO1xuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBhaW50UGF0aCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KVxuICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICBjb25zdCBmID0gdGhpcy5wYXRoTGlzdFswXVxuICAgICAgY3R4Lm1vdmVUbyhmLngsIGYueSApXG4gICAgICBmb3IoIGxldCBpID0xOyBpPCB0aGlzLnBhdGhMaXN0Lmxlbmd0aDsgaSsrICl7XG4gICAgICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMucGF0aExpc3RbaV1cbiAgICAgICAgY3R4LmxpbmVUbyh4LHkpXG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKClcbiAgICB9XG5cbiAgICBvbkVuZChicnVzaFN0YXR1czogQnJ1c2hTdGF0dXMsIHtvbkJydXNoRW5kfTogUENhbnZhc0NvbnRleHQpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBbXVxuICAgICAgICBvbkJydXNoRW5kKClcbiAgICAgIH0pXG4gICAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RGBA", function() { return RGBA; });\nclass RGBA {\n  static Lerp(from, to, number) {\n    const result = [];\n    const dtR = (to.r - from.r) / number;\n    const dtG = (to.g - from.g) / number;\n    const dtB = (to.b - from.b) / number;\n    const dtA = (to.a - from.a) / number;\n\n    for (let i = 0; i < number; i++) {\n      result.push(new RGBA(from.r + dtR * i, from.g + dtG * i, from.b + dtB * i, from.a + dtA * i));\n    }\n\n    return result;\n  }\n\n  static mutipy({\n    r,\n    g,\n    b\n  }, percent) {\n    return new RGBA(r * percent, g * percent, b * percent);\n  }\n\n  static add({\n    r,\n    g,\n    b\n  }, B) {\n    return new RGBA(r + B.r, g + B.g, b + B.b);\n  }\n  /**\n   * 将a倾向b颜色，percent表示程度，当为1时，则为颜色.\n   * @param a \n   * @param b \n   * @param percent \n   */\n\n\n  static mix(a, b, percent) {\n    return new RGBA(a.r + (b.r - a.r) * percent, a.g + (b.g - a.g) * percent, a.b + (b.b - a.b) * percent);\n  }\n\n  static getLerpColor(from, to, percent) {\n    const {\n      r,\n      g,\n      b,\n      a\n    } = from;\n    return new RGBA((to.r - r) * percent + r, (to.g - g) * percent + g, (to.b - b) * percent + b, (to.a - a) * percent + a);\n  }\n\n  constructor(r, g, b, a = 1) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  toRGBAString() {\n    return `rgba(${this.r},${this.g},${this.b},${this.a})`;\n  }\n\n}\nRGBA.BLACK = new RGBA(0, 0, 0);\nRGBA.WHITE = new RGBA(255, 255, 255);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhLnRzP2RjNzgiXSwibmFtZXMiOlsiUkdCQSIsIkxlcnAiLCJmcm9tIiwidG8iLCJudW1iZXIiLCJyZXN1bHQiLCJkdFIiLCJyIiwiZHRHIiwiZyIsImR0QiIsImIiLCJkdEEiLCJhIiwiaSIsInB1c2giLCJtdXRpcHkiLCJwZXJjZW50IiwiYWRkIiwiQiIsIm1peCIsImdldExlcnBDb2xvciIsImNvbnN0cnVjdG9yIiwidG9SR0JBU3RyaW5nIiwiQkxBQ0siLCJXSElURSJdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFPLE1BQU1BLElBQU4sQ0FBVztBQUVqQixTQUFPQyxJQUFQLENBQVlDLElBQVosRUFBd0JDLEVBQXhCLEVBQWtDQyxNQUFsQyxFQUFpRDtBQUNoRCxVQUFNQyxNQUFhLEdBQUcsRUFBdEI7QUFDQSxVQUFNQyxHQUFHLEdBQUcsQ0FBQ0gsRUFBRSxDQUFDSSxDQUFILEdBQUtMLElBQUksQ0FBQ0ssQ0FBWCxJQUFjSCxNQUExQjtBQUNBLFVBQU1JLEdBQUcsR0FBRyxDQUFDTCxFQUFFLENBQUNNLENBQUgsR0FBS1AsSUFBSSxDQUFDTyxDQUFYLElBQWNMLE1BQTFCO0FBQ0EsVUFBTU0sR0FBRyxHQUFHLENBQUNQLEVBQUUsQ0FBQ1EsQ0FBSCxHQUFLVCxJQUFJLENBQUNTLENBQVgsSUFBY1AsTUFBMUI7QUFDQSxVQUFNUSxHQUFHLEdBQUcsQ0FBQ1QsRUFBRSxDQUFDVSxDQUFILEdBQUtYLElBQUksQ0FBQ1csQ0FBWCxJQUFjVCxNQUExQjs7QUFDQSxTQUFJLElBQUlVLENBQUMsR0FBRSxDQUFYLEVBQWNBLENBQUMsR0FBRVYsTUFBakIsRUFBeUJVLENBQUMsRUFBMUIsRUFBNkI7QUFDNUJULFlBQU0sQ0FBQ1UsSUFBUCxDQUFZLElBQUlmLElBQUosQ0FDWEUsSUFBSSxDQUFDSyxDQUFMLEdBQVNELEdBQUcsR0FB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ZW50IjpbIlxuZXhwb3J0IGNsYXNzIFJHQkEge1xuXG5cdHN0YXRpYyBMZXJwKGZyb206IFJHQkEsIHRvOiBSR0JBLCBudW1iZXI6IG51bWJlcil7XG5cdFx0Y29uc3QgcmVzdWx0OlJHQkFbXSA9IFtdXG5cdFx0Y29uc3QgZHRSID0gKHRvLnItZnJvbS5yKS9udW1iZXJcblx0XHRjb25zdCBkdEcgPSAodG8uZy1mcm9tLmcpL251bWJlclxuXHRcdGNvbnN0IGR0QiA9ICh0by5iLWZyb20uYikvbnVtYmVyXG5cdFx0Y29uc3QgZHRBID0gKHRvLmEtZnJvbS5hKS9udW1iZXJcblx0XHRmb3IobGV0IGkgPTA7IGk8IG51bWJlcjsgaSsrKXtcblx0XHRcdHJlc3VsdC5wdXNoKG5ldyBSR0JBKFxuXHRcdFx0XHRmcm9tLnIgKyBkdFIgKmksXG5cdFx0XHRcdGZyb20uZyArIGR0RyAqaSxcblx0XHRcdFx0ZnJvbS5iICsgZHRCICppLFxuXHRcdFx0XHRmcm9tLmEgKyBkdEEgKmksXG5cdFx0XHQpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0XG5cdH1cblxuXHRzdGF0aWMgbXV0aXB5KHtyLGcsYn06UkdCQSwgcGVyY2VudDogbnVtYmVyKXtcblx0XHRyZXR1cm4gbmV3IFJHQkEocipwZXJjZW50LCBnICogcGVyY2VudCwgYiAqcGVyY2VudClcblx0fVxuXG5cdHN0YXRpYyBhZGQoe3IsZyxifTogUkdCQSwgQjogUkdCQSl7XG5cdFx0cmV0dXJuIG5ldyBSR0JBKHIrQi5yLCBnK0IuZywgYitCLmIgKVxuXHR9XG5cblx0LyoqXG5cdCAqIOWwhmHlgL7lkJFi6aKc6Imy77yMcGVyY2VudOihqOekuueoi+W6pu+8jOW9k+S4ujHml7bvvIzliJnkuLrpopzoibIuXG5cdCAqIEBwYXJhbSBhIFxuXHQgKiBAcGFyYW0gYiBcblx0ICogQHBhcmFtIHBlcmNlbnQgXG5cdCAqL1xuXHRzdGF0aWMgbWl4KGE6UkdCQSxiOlJHQkEsIHBlcmNlbnQ6IG51bWJlcil7XG5cdFx0cmV0dXJuIG5ldyBSR0JBKFxuXHRcdFx0YS5yICsgKGIuci1hLnIpICogcGVyY2VudCxcblx0XHRcdGEuZyArIChiLmctYS5nKSAqIHBlcmNlbnQsXG5cdFx0XHRhLmIgKyAoYi5iLWEuYikgKiBwZXJjZW50XG5cdFx0KVxuXHR9XG5cblx0c3RhdGljIGdldExlcnBDb2xvcihmcm9tOiBSR0JBLCB0bzpSR0JBLCBwZXJjZW50OiBudW1iZXIpe1xuXHRcdGNvbnN0IHtyLGcsYixhfSA9IGZyb21cblx0XHRyZXR1cm4gbmV3IFJHQkEoXG5cdFx0XHQodG8uciAtcikqcGVyY2VudCArIHIsXG5cdFx0XHQodG8uZyAtZykqcGVyY2VudCArIGcsXG5cdFx0XHQodG8uYiAtYikqcGVyY2VudCArIGIsXG5cdFx0XHQodG8uYSAtYSkqcGVyY2VudCArIGEsXG5cdFx0KVxuXHR9XG5cbiAgc3RhdGljIHJlYWRvbmx5IEJMQUNLID0gbmV3IFJHQkEoMCwwLDApXG4gIFxuICBzdGF0aWMgcmVhZG9ubHkgV0hJVEUgPSBuZXcgUkdCQSgyNTUsMjU1LDI1NSlcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHI6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZzogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBiOiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGE6IG51bWJlciA9IDEsXG4gICl7fVxuXG4gIHRvUkdCQVN0cmluZygpe1xuICBcdHJldHVybiBgcmdiYSgke3RoaXMucn0sJHt0aGlzLmd9LCR7dGhpcy5ifSwke3RoaXMuYX0pYFxuICB9XG5cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushStatus", function() { return BrushStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushType", function() { return BrushType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractBrush", function() { return AbstractBrush; });\nclass BrushStatus {\n  constructor(x, y, pressure, tiltX, tiltY) {\n    this.x = x;\n    this.y = y;\n    this.pressure = pressure;\n    this.tiltX = tiltX;\n    this.tiltY = tiltY;\n  }\n\n}\nlet BrushType;\n\n(function (BrushType) {\n  BrushType[BrushType["pen"] = 1] = "pen";\n  BrushType[BrushType["selector"] = 2] = "selector";\n})(BrushType || (BrushType = {}));\n\nclass AbstractBrush {\n  constructor(type, name) {\n    this.type = type;\n    this.name = name;\n  }\n\n  init() {}\n\n  destory() {}\n\n  onStart(status, context) {}\n\n  onDraw(brushStatus, contx) {}\n\n  onEnd(brushStatus, contx) {}\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC90eXBlcy50cz9lMTdhIl0sIm5hbWVzIjpbIkJydXNoU3RhdHVzIiwiY29uc3RydWN0b3IiLCJ4IiwieSIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsIkJydXNoVHlwZSIsIkFic3RyYWN0QnJ1c2giLCJ0eXBlIiwibmFtZSIsImluaXQiLCJkZXN0b3J5Iiwib25TdGFydCIsInN0YXR1cyIsImNvbnRleHQiLCJvbkRyYXciLCJicnVzaFN0YXR1cyIsImNvbnR4Iiwib25FbmQiXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQU8sTUFBTUEsV0FBTixDQUFrQjtBQUN2QkMsYUFBVyxDQUVTQyxDQUZULEVBSVNDLENBSlQsRUFNU0MsUUFOVCxFQVFTQyxLQVJULEVBVVNDLEtBVlQsRUFXVDtBQUFBLFNBVGtCSixDQVNsQixHQVRrQkEsQ0FTbEI7QUFBQSxTQVBrQkMsQ0FPbEIsR0FQa0JBLENBT2xCO0FBQUEsU0FMa0JDLFFBS2xCLEdBTGtCQSxRQUtsQjtBQUFBLFNBSGtCQyxLQUdsQixHQUhrQkEsS0FHbEI7QUFBQSxTQURrQkMsS0FDbEIsR0FEa0JBLEtBQ2xCO0FBQUc7O0FBWmtCO0FBZ0JsQixJQUFLQyxTQUFaOztXQUFZQSxTO0FBQUFBLFcsQ0FBQUEsUztBQUFBQSxXLENBQUFBLFM7R0FBQUEsUyxLQUFBQSxTOztBQU9MLE1BQWVDLGFBQWYsQ0FBNkI7QUFDbENQLGFBQVcsQ0FDT1EsSUFEUCxFQUVPQyxJQUZQLEVBR1Q7QUFBQSxTQUZnQkQsSUFFaEIsR0FGZ0JBLElBRWhCO0FBQUEsU0FEZ0JDLElBQ2hCLEdBRGdCQSxJQUNoQjtBQUFFOztBQUVKQyxNQUFJLEdBQVMsQ0FBRTs7QUFFZkMsU0FBTyxHQUFTLENBQUU7O0FBRWxCQyxTQUFPLENBQUNDLE1BQUQsRUFBc0JDLE9BQXRCLEVBQXFELENBQUU7O0FBRTlEQyxRQUFNLENBQUNDLFdBQUQsRUFBNkJDLEtBQTdCLEVBQXlELENBQUU7O0FBRWpFQyxPQUFLLENBQUNGLFdBQUQsRUFBMkJDLEtBQTNCLEVBQXdELENBQUU7O0FBZDdCIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUENhbnZhc0NvbnRleHQgfSBmcm9tIFwiQC9wYWdlcy9wYWludC9wY2FudmFzL3BjYW52YXMuY29udGV4dFwiXG5cbmV4cG9ydCBjbGFzcyBCcnVzaFN0YXR1cyB7XG4gIGNvbnN0cnVjdG9yKFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgeDogbnVtYmVyLFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgeTogbnVtYmVyLFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgcHJlc3N1cmU6IG51bWJlcixcblxuICAgICAgcHVibGljIHJlYWRvbmx5IHRpbHRYOiBudW1iZXIsXG5cbiAgICAgIHB1YmxpYyByZWFkb25seSB0aWx0WTogbnVtYmVyLFxuICApIHsgfVxuXG59XG5cbmV4cG9ydCBlbnVtIEJydXNoVHlwZSB7XG5cbiAgcGVuID0gMSxcblxuICBzZWxlY3RvciA9IDIsXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEJydXNoIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEJydXNoVHlwZSwgXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZ1xuICApIHt9XG5cbiAgaW5pdCgpOiB2b2lkIHt9XG5cbiAgZGVzdG9yeSgpOiB2b2lkIHt9XG5cbiAgb25TdGFydChzdGF0dXM6IEJydXNoU3RhdHVzLCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dCk6IHZvaWQge31cblxuICBvbkRyYXcoYnJ1c2hTdGF0dXM6IEJydXNoU3RhdHVzW10sIGNvbnR4OiBQQ2FudmFzQ29udGV4dCk6IHZvaWR7fVxuXG4gIG9uRW5kKGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1cywgY29udHg6IFBDYW52YXNDb250ZXh0KTogdm9pZCB7fVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CanvasEvent\", function() { return /* binding */ CanvasEvent; });\n__webpack_require__.d(__webpack_exports__, \"PCanvasController\", function() { return /* binding */ pcnvas_controller_PCanvasController; });\n\n// EXTERNAL MODULE: ./src/pages/paint/top-tool-bar/tool-item/color-selector/rgba.ts\nvar rgba = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./src/pages/paint/pcanvas/pcanvas.context.ts\nvar pcanvas_context = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./src/workStorage/index.ts + 1 modules\nvar workStorage = __webpack_require__(58);\n\n// EXTERNAL MODULE: ./src/pages/paint/pcanvas/pcanvas.layer.ts\nvar pcanvas_layer = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/events/events.js\nvar events = __webpack_require__(75);\n\n// CONCATENATED MODULE: ./src/util/event.ts\n\nclass event_PEventEmiter {\n  constructor() {\n    this.eventEmitter = new events[\"EventEmitter\"]();\n  }\n\n  on(event, listener) {\n    const fun = listener;\n    this.eventEmitter.addListener(event, fun);\n  }\n\n  off(event, listener) {\n    const fun = listener;\n    this.eventEmitter.removeListener(event, fun);\n  }\n\n  emit(event, params) {\n    setTimeout(() => {\n      this.eventEmitter.emit(event, params);\n    }, 1);\n  }\n\n}\n// EXTERNAL MODULE: ./src/util/canvas.ts\nvar util_canvas = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./src/pages/paint/top-tool-bar/tool-item/brush/types.ts\nvar types = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/pages/paint/pcanvas/pcnvas.controller.ts\n\n\n\n\n\n\n\nclass CanvasEvent {\n  constructor(data, tag = 'user') {\n    this.data = data;\n    this.tag = tag;\n  }\n\n}\n\nconst pointEvent2BrunshStatus = ({\n  offsetX: x,\n  offsetY: y,\n  tiltX,\n  tiltY,\n  pressure\n}) => {\n  // console.log('pressure...', pressure)\n  pressure = pressure > 1 ? pressure * 0.01 : pressure === 0 ? 1 : pressure;\n  return new types[\"BrushStatus\"](x, y, pressure, tiltX, tiltY);\n};\n\n/**\n * 用于控制PCanvascontroller component 的对象.\n * \n * // TODO\n * 对的操作放入组件中.\n */\nclass pcnvas_controller_PCanvasController extends event_PEventEmiter {\n  constructor(...args) {\n    super(...args);\n    this.context = void 0;\n    this.layerManager = void 0;\n    this.color = rgba[\"RGBA\"].BLACK;\n    this.pointerIds = {};\n    this.workId = void 0;\n\n    this.onBrushEnd = () => {\n      const curLayerDetail = this.layerManager.getFocusDetail();\n      const preContent = Object(util_canvas[\"a\" /* copyCanvas */])(curLayerDetail.canvas);\n      this.layerManager.applyTempCanvas();\n      const index = this.layerManager.layers.indexOf(curLayerDetail);\n      this.emit('contentChange', new CanvasEvent({\n        workId: this.workId,\n        layerDetail: curLayerDetail,\n        preContent,\n        index\n      }));\n    };\n  }\n\n  async init({\n    wrap,\n    cover\n  }, workDetail) {\n    const {\n      width,\n      height,\n      workId\n    } = workDetail.workInfo;\n    wrap.style.width = `${width}px`;\n    wrap.style.height = `${height}px`;\n    this.workId = workId;\n    this.layerManager = new pcanvas_layer[\"PcanvasLayers\"]({\n      cover,\n      wrap,\n      width,\n      height\n    });\n    this.layerManager.init(workDetail.layers);\n    this.context = new pcanvas_context[\"PCanvasContext\"](this.layerManager.getCanvas(), this.layerManager.getContext(), width, height, this.onBrushEnd);\n    this.emit('init', new CanvasEvent(null));\n    this.emit('focusLayer', new CanvasEvent({\n      layerDetail: this.layerManager.getFocusDetail()\n    })); // logCanvasData('init: ', this.layerManager.layers[0].canvas)\n  }\n\n  setColor({\n    r,\n    g,\n    b\n  }) {\n    const color = new rgba[\"RGBA\"](r, g, b, this.color.a);\n    this.setRGBA(color);\n  }\n\n  setRGBA(color) {\n    this.context.color = color.toRGBAString();\n    this.color = color;\n    this.emit('colorchange', new CanvasEvent({\n      color\n    }));\n  }\n\n  setOpacity(opacity) {\n    const {\n      r,\n      g,\n      b\n    } = this.color;\n    const color = new rgba[\"RGBA\"](r, g, b, opacity);\n    this.setRGBA(color);\n  }\n\n  async getLayers() {\n    return [...this.layerManager.layers];\n  }\n\n  addLayer() {\n    const layerDetail = this.layerManager.addLayer(workStorage[\"a\" /* LayerDetail */].create(this.layerManager.wrapInfo));\n    this.layerManager.focusLayer(layerDetail);\n    const index = this.layerManager.layers.indexOf(layerDetail);\n    this.emit('addLayer', new CanvasEvent({\n      workId: this.workId,\n      layerDetail,\n      index\n    }));\n    this.emit('focusLayer', new CanvasEvent({\n      layerDetail\n    }));\n  }\n\n  addLayerContent(index, canvas, creator = 'user') {\n    const {\n      width,\n      height\n    } = canvas;\n    const layerDetail = workStorage[\"a\" /* LayerDetail */].create({\n      width,\n      height\n    });\n    const ctx = layerDetail.canvas.getContext('2d');\n    ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n    this.layerManager.addLayer(layerDetail, index);\n    this.emit('addLayer', new CanvasEvent({\n      workId: this.workId,\n      layerDetail,\n      index\n    }, creator));\n    return layerDetail;\n  }\n\n  setLayerContent(index, canvas, creator = 'user') {\n    const layerDetail = this.layerManager.layers[index];\n    const oldCanvas = layerDetail.canvas;\n    const {\n      width,\n      height\n    } = oldCanvas;\n    const preContent = Object(util_canvas[\"a\" /* copyCanvas */])(layerDetail.canvas);\n    const ctx = layerDetail.canvas.getContext('2d');\n    ctx === null || ctx === void 0 ? void 0 : ctx.clearRect(0, 0, width, height);\n    ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, width, height);\n    this.emit('contentChange', new CanvasEvent({\n      workId: this.workId,\n      layerDetail,\n      index,\n      preContent\n    }, creator));\n    return layerDetail;\n  }\n\n  focusLayer(layerDetail) {\n    this.layerManager.focusLayer(layerDetail);\n    this.emit('focusLayer', new CanvasEvent({\n      layerDetail\n    }));\n  }\n\n  removeLayer(layerDetail, creator = 'user') {\n    const {\n      index,\n      isFocus\n    } = this.layerManager.removeLayer(layerDetail);\n    this.emit('removeLayer', new CanvasEvent({\n      workId: this.workId,\n      layerDetail,\n      index\n    }, creator));\n\n    if (isFocus) {\n      const layerDetail = this.layerManager.layers[0];\n      this.focusLayer(layerDetail);\n      this.emit('focusLayer', new CanvasEvent({\n        layerDetail\n      }, creator));\n    }\n  }\n\n  removeLayerByIndex(index, creator = 'user') {\n    const layerDetail = this.layerManager.layers[index];\n    this.removeLayer(layerDetail, creator);\n  }\n\n  setBrushWidth(width) {\n    this.context.brushWidth = width;\n  }\n\n  setBrush(brush) {\n    if (this.context.brush) {\n      this.context.brush.destory();\n    }\n\n    brush.init();\n    this.context.brush = brush;\n  }\n\n  onPointerDown(p) {\n    this.pointerIds[p.pointerId] = true;\n    const s = pointEvent2BrunshStatus(p); // console.log('f', s)\n\n    this.context.brush.onStart(s, this.context);\n  }\n\n  onPointerMove(pointerEvent) {\n    if (Object.keys(this.pointerIds).length > 1) return;\n    let ponterEvents;\n\n    if (pointerEvent.getCoalescedEvents) {\n      // console.log('getCoalescedEvents')\n      ponterEvents = pointerEvent.getCoalescedEvents();\n    } else {\n      // console.log('not getCoalescedEvents')\n      ponterEvents = [pointerEvent];\n    }\n\n    this.context.brush.onDraw(ponterEvents.map(p => pointEvent2BrunshStatus(p)), this.context);\n  }\n\n  onPointerUp(p) {\n    delete this.pointerIds[p.pointerId];\n    this.context.brush.onEnd(pointEvent2BrunshStatus(p), this.context);\n  }\n\n}\n\nfunction logCanvasData(rep = '', canvas) {\n  const ctx = canvas.getContext('2d');\n  console.log(rep, ctx === null || ctx === void 0 ? void 0 : ctx.getImageData(0, 0, 1, 1).data);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9ldmVudC50cz9jOTA2Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9wYWludC9wY2FudmFzL3BjbnZhcy5jb250cm9sbGVyLnRzPzlmY2YiXSwibmFtZXMiOlsiUEV2ZW50RW1pdGVyIiwiZXZlbnRFbWl0dGVyIiwiRXZlbnRFbWl0dGVyIiwib24iLCJldmVudCIsImxpc3RlbmVyIiwiZnVuIiwiYWRkTGlzdGVuZXIiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsImVtaXQiLCJwYXJhbXMiLCJzZXRUaW1lb3V0IiwiQ2FudmFzRXZlbnQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0YWciLCJwb2ludEV2ZW50MkJydW5zaFN0YXR1cyIsIm9mZnNldFgiLCJ4Iiwib2Zmc2V0WSIsInkiLCJ0aWx0WCIsInRpbHRZIiwicHJlc3N1cmUiLCJCcnVzaFN0YXR1cyIsIlBDYW52YXNDb250cm9sbGVyIiwiY29udGV4dCIsImxheWVyTWFuYWdlciIsImNvbG9yIiwiUkdCQSIsIkJMQUNLIiwicG9pbnRlcklkcyIsIndvcmtJZCIsIm9uQnJ1c2hFbmQiLCJjdXJMYXllckRldGFpbCIsImdldEZvY3VzRGV0YWlsIiwicHJlQ29udGVudCIsImNvcHlDYW52YXMiLCJjYW52YXMiLCJhcHBseVRlbXBDYW52YXMiLCJpbmRleCIsImxheWVycyIsImluZGV4T2YiLCJsYXllckRldGFpbCIsImluaXQiLCJ3cmFwIiwiY292ZXIiLCJ3b3JrRGV0YWlsIiwid2lkdGgiLCJoZWlnaHQiLCJ3b3JrSW5mbyIsInN0eWxlIiwiUGNhbnZhc0xheWVycyIsIlBDYW52YXNDb250ZXh0IiwiZ2V0Q2FudmFzIiwiZ2V0Q29udGV4dCIsInNldENvbG9yIiwiciIsImciLCJiIiwiYSIsInNldFJHQkEiLCJ0b1JHQkFTdHJpbmciLCJzZXRPcGFjaXR5Iiwib3BhY2l0eSIsImdldExheWVycyIsImFkZExheWVyIiwiTGF5ZXJEZXRhaWwiLCJjcmVhdGUiLCJ3cmFwSW5mbyIsImZvY3VzTGF5ZXIiLCJhZGRMYXllckNvbnRlbnQiLCJjcmVhdG9yIiwiY3R4IiwiZHJhd0ltYWdlIiwic2V0TGF5ZXJDb250ZW50Iiwib2xkQ2FudmFzIiwiY2xlYXJSZWN0IiwicmVtb3ZlTGF5ZXIiLCJpc0ZvY3VzIiwicmVtb3ZlTGF5ZXJCeUluZGV4Iiwic2V0QnJ1c2hXaWR0aCIsImJydXNoV2lkdGgiLCJzZXRCcnVzaCIsImJydXNoIiwiZGVzdG9yeSIsIm9uUG9pbnRlckRvd24iLCJwIiwicG9pbnRlcklkIiwicyIsIm9uU3RhcnQiLCJvblBvaW50ZXJNb3ZlIiwicG9pbnRlckV2ZW50IiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInBvbnRlckV2ZW50cyIsImdldENvYWxlc2NlZEV2ZW50cyIsIm9uRHJhdyIsIm1hcCIsIm9uUG9pbnRlclVwIiwib25FbmQiLCJsb2dDYW52YXNEYXRhIiwicmVwIiwiY29uc29sZSIsImxvZyIsImdldEltYWdlRGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUdlLE1BQU1BLGtCQUFOLENBQStCO0FBQUE7QUFBQSxTQUVoQ0MsWUFGZ0MsR0FFakIsSUFBSUMsc0JBQUosRUFGaUI7QUFBQTs7QUFJMUNDLElBQUUsQ0FBNEJDLEtBQTVCLEVBQXNDQyxRQUF0QyxFQUE4RTtBQUMvRSxVQUFNQyxHQUEwQixHQUFHRCxRQUFuQztBQUNBLFNBQUtKLFlBQUwsQ0FBa0JNLFdBQWxCLENBQThCSCxLQUE5QixFQUErQ0UsR0FBL0M7QUFDQTs7QUFFREUsS0FBRyxDQUE0QkosS0FBNUIsRUFBc0NDLFFBQXRDLEVBQThFO0FBQ2hGLFVBQU1DLEdBQTBCLEdBQUdELFFBQW5DO0FBQ0EsU0FBS0osWUFBTCxDQUFrQlEsY0FBbEIsQ0FBaUNMLEtBQWpDLEVBQWtERSxHQUFsRDtBQUNBOztBQUVESSxNQUFJLENBQTRCTixLQUE1QixFQUFzQ08sTUFBdEMsRUFBMkQ7QUFDM0RDLGNBQVUsQ0FBQyxNQUFNO0FBQ2IsV0FBS1gs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Q0FBRCxDQUFoRCxFQUFvRCxLQUFLN0QsT0FBekQ7QUFFSDs7QUFuSmdFOztBQStKckUsU0FBUzRFLGFBQVQsQ0FBdUJDLEdBQUcsR0FBQyxFQUEzQixFQUErQmpFLE1BQS9CLEVBQTBEO0FBQ3RELFFBQU1tQyxHQUFHLEdBQUduQyxNQUFNLENBQUNpQixVQUFQLENBQWtCLElBQWxCLENBQVo7QUFDRGlELFNBQU8sQ0FBQ0MsR0FBUixDQUFZRixHQUFaLEVBQWlCOUIsR0FBakIsYUFBaUJBLEdBQWpCLHVCQUFpQkEsR0FBRyxDQUFFaUMsWUFBTCxDQUFrQixDQUFsQixFQUFvQixDQUFwQixFQUFzQixDQUF0QixFQUF3QixDQUF4QixFQUEyQjVGLElBQTVDO0FBQ0QiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUEV2ZW50RW1pdGVyIDxFdmVudERhdGE+IHtcbiAgXG4gICAgcHJvdGVjdGVkIGV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gICAgb248VCBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ6IFQsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50RGF0YVtUXSkgPT4gdm9pZCl7XG4gICAgXHRjb25zdCBmdW46ICguLi5wOiBhbnlbXSkgPT4gdm9pZCA9IGxpc3RlbmVyIGFzIGFueSBcbiAgICBcdHRoaXMuZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50IGFzIHN0cmluZywgZnVuIClcbiAgICB9XG5cbiAgICBvZmY8VCBleHRlbmRzIGtleW9mIEV2ZW50RGF0YT4oZXZlbnQ6IFQsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50RGF0YVtUXSkgPT4gdm9pZCl7XG4gICAgXHRjb25zdCBmdW46ICguLi5wOiBhbnlbXSkgPT4gdm9pZCA9IGxpc3RlbmVyIGFzIGFueSBcbiAgICBcdHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50IGFzIHN0cmluZywgZnVuIClcbiAgICB9XG5cbiAgICBlbWl0PFQgZXh0ZW5kcyBrZXlvZiBFdmVudERhdGE+KGV2ZW50OiBULCBwYXJhbXM6IEV2ZW50RGF0YVtUXSl7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChldmVudCBhcyBzdHJpbmcsIHBhcmFtcylcbiAgICAgICAgfSwxKVxuICAgIH1cblxufSIsImltcG9ydCB7IFJHQkEgfSBmcm9tIFwiLi4vdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhXCJcbmltcG9ydCB7IFBDYW52YXNDb250ZXh0IH0gZnJvbSBcIi4vcGNhbnZhcy5jb250ZXh0XCJcbmltcG9ydCB7IEJydXNoIH0gZnJvbSBcIi4uL3RvcC10b29sLWJhci90b29sLWl0ZW0vYnJ1c2hcIlxuaW1wb3J0IHsgV29ya0RldGFpbCwgTGF5ZXJEZXRhaWwgfSBmcm9tIFwiLi4vLi4vLi4vd29ya1N0b3JhZ2VcIlxuaW1wb3J0IHsgUGNhbnZhc0xheWVycyB9IGZyb20gXCIuL3BjYW52YXMubGF5ZXJcIlxuaW1wb3J0IFBFdmVudEVtaXRlciBmcm9tIFwiLi4vLi4vLi4vdXRpbC9ldmVudFwiXG5pbXBvcnQgeyBjb3B5Q2FudmFzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvY2FudmFzXCJcbmltcG9ydCB7IEJydXNoU3RhdHVzIH0gZnJvbSBcIi4uL3RvcC10b29sLWJhci90b29sLWl0ZW0vYnJ1c2gvdHlwZXNcIlxuXG5leHBvcnQgdHlwZSBFdm5ldENyZWF0b3IgPSAndXNlcid8J2hpc3RvcnknXG5cbmV4cG9ydCBjbGFzcyBDYW52YXNFdmVudDxUPW51bGw+IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICBwdWJsaWMgZGF0YTogVCxcbiAgICAgICBwdWJsaWMgdGFnOkV2bmV0Q3JlYXRvcj0ndXNlcicsXG4gICAgKXt9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW52YXNFdmVudERhdGEge1xuXG4gICAgaW5pdDogQ2FudmFzRXZlbnRcblxuICAgIGNvbG9yY2hhbmdlOiBDYW52YXNFdmVudDx7Y29sb3I6IFJHQkF9PlxuXG4gICAgYWRkTGF5ZXI6IENhbnZhc0V2ZW50PHt3b3JrSWQ6c3RyaW5nLCBsYXllckRldGFpbDogTGF5ZXJEZXRhaWwsIGluZGV4OiBudW1iZXJ9PlxuXG4gICAgY29udGVudENoYW5nZTogQ2FudmFzRXZlbnQ8eyB3b3JrSWQ6c3RyaW5nICwgbGF5ZXJEZXRhaWw6IExheWVyRGV0YWlsLCBwcmVDb250ZW50OiBIVE1MQ2FudmFzRWxlbWVudCwgaW5kZXg6IG51bWJlciB9PlxuXG4gICAgZm9jdXNMYXllcjogQ2FudmFzRXZlbnQ8eyBsYXllckRldGFpbDogTGF5ZXJEZXRhaWwgfT5cblxuICAgIHJlbW92ZUxheWVyOiBDYW52YXNFdmVudDx7IHdvcmtJZDpzdHJpbmcsIGxheWVyRGV0YWlsOiBMYXllckRldGFpbCwgaW5kZXg6IG51bWJlcn0+XG59XG5cblxuY29uc3QgcG9pbnRFdmVudDJCcnVuc2hTdGF0dXMgPSAoe29mZnNldFg6IHgsIG9mZnNldFk6IHksdGlsdFgsdGlsdFksIHByZXNzdXJlfTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3ByZXNzdXJlLi4uJywgcHJlc3N1cmUpXG4gICAgcHJlc3N1cmUgPSBwcmVzc3VyZT4xPyBwcmVzc3VyZSAqIDAuMDEgOiBcbiAgICAgICAgICAgICAgICBwcmVzc3VyZSA9PT0gMD8gMTogcHJlc3N1cmU7XG4gICAgcmV0dXJuIG5ldyBCcnVzaFN0YXR1cyh4LCB5LCAgcHJlc3N1cmUsIHRpbHRYLCB0aWx0WSlcbn1cbmV4cG9ydCB0eXBlIFdyYXBJbmZvID0geyB3cmFwOiBIVE1MRWxlbWVudCwgY292ZXI6IEhUTUxFbGVtZW50IH1cbi8qKlxuICog55So5LqO5o6n5Yi2UENhbnZhc2NvbnRyb2xsZXIgY29tcG9uZW50IOeahOWvueixoS5cbiAqIFxuICogLy8gVE9ET1xuICog5a+555qE5pON5L2c5pS+5YWl57uE5Lu25LitLlxuICovXG5leHBvcnQgY2xhc3MgUENhbnZhc0NvbnRyb2xsZXIgZXh0ZW5kcyBQRXZlbnRFbWl0ZXI8Q2FudmFzRXZlbnREYXRhPiB7XG5cbiAgICBwcm90ZWN0ZWQgY29udGV4dDogUENhbnZhc0NvbnRleHQ7XG5cbiAgICBwcm90ZWN0ZWQgbGF5ZXJNYW5hZ2VyOlBjYW52YXNMYXllcnM7XG5cbiAgICBwcm90ZWN0ZWQgY29sb3IgPSBSR0JBLkJMQUNLO1xuXG4gICAgcHJvdGVjdGVkIHBvaW50ZXJJZHM6IHtbaWQ6c3RyaW5nXTogYm9vbGVhbn0gPSB7fVxuXG4gICAgcHJvdGVjdGVkIHdvcmtJZDogc3RyaW5nXG5cbiAgICBhc3luYyBpbml0KCB7d3JhcCwgY292ZXJ9OiAgV3JhcEluZm8sIHdvcmtEZXRhaWw6IFdvcmtEZXRhaWwgKXtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCB3b3JrSWQgfSA9IHdvcmtEZXRhaWwud29ya0luZm9cbiAgICAgICAgd3JhcC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YFxuICAgICAgICB3cmFwLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGBcbiAgICAgICAgdGhpcy53b3JrSWQgPSB3b3JrSWRcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIgPSBuZXcgUGNhbnZhc0xheWVycyh7Y292ZXIsIHdyYXAsIHdpZHRoLCBoZWlnaHR9KVxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5pbml0KHdvcmtEZXRhaWwubGF5ZXJzKVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgUENhbnZhc0NvbnRleHQoXG4gICAgICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5nZXRDYW52YXMoKSxcbiAgICAgICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmdldENvbnRleHQoKSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgdGhpcy5vbkJydXNoRW5kLFxuICAgICAgICApXG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdCcsIG5ldyBDYW52YXNFdmVudChudWxsKSApXG4gICAgICAgIHRoaXMuZW1pdCgnZm9jdXNMYXllcicsIG5ldyBDYW52YXNFdmVudCh7IGxheWVyRGV0YWlsOiB0aGlzLmxheWVyTWFuYWdlci5nZXRGb2N1c0RldGFpbCgpIH0pKVxuICAgICAgICAvLyBsb2dDYW52YXNEYXRhKCdpbml0OiAnLCB0aGlzLmxheWVyTWFuYWdlci5sYXllcnNbMF0uY2FudmFzKVxuICAgIH1cblxuICAgIHNldENvbG9yKHtyLGcsYn06IFJHQkEpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBuZXcgUkdCQShyLGcsYiwgdGhpcy5jb2xvci5hKVxuICAgICAgICB0aGlzLnNldFJHQkEoY29sb3IpXG4gICAgfVxuXG4gICAgc2V0UkdCQShjb2xvcjogUkdCQSk6dm9pZHtcbiAgICAgICAgdGhpcy5jb250ZXh0LmNvbG9yID0gY29sb3IudG9SR0JBU3RyaW5nKClcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yXG4gICAgICAgIHRoaXMuZW1pdCgnY29sb3JjaGFuZ2UnLCBuZXcgQ2FudmFzRXZlbnQoe2NvbG9yIH0pKVxuICAgIH1cblxuICAgIHNldE9wYWNpdHkob3BhY2l0eTogbnVtYmVyKXtcbiAgICAgICAgY29uc3Qge3IsZyxifSA9IHRoaXMuY29sb3JcbiAgICAgICAgY29uc3QgY29sb3IgPSBuZXcgUkdCQShyLCBnLCBiLCBvcGFjaXR5KVxuICAgICAgICB0aGlzLnNldFJHQkEoY29sb3IpXG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXRMYXllcnMoKXtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmxheWVyTWFuYWdlci5sYXllcnNdXG4gICAgfVxuXG4gICAgYWRkTGF5ZXIoKXtcbiAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSAgdGhpcy5sYXllck1hbmFnZXIuYWRkTGF5ZXIoTGF5ZXJEZXRhaWwuY3JlYXRlKHRoaXMubGF5ZXJNYW5hZ2VyLndyYXBJbmZvKSlcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuZm9jdXNMYXllcihsYXllckRldGFpbClcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxheWVyTWFuYWdlci5sYXllcnMuaW5kZXhPZihsYXllckRldGFpbClcbiAgICAgICAgdGhpcy5lbWl0KCdhZGRMYXllcicsICBuZXcgQ2FudmFzRXZlbnQoe3dvcmtJZDogdGhpcy53b3JrSWQsIGxheWVyRGV0YWlsLCBpbmRleCB9KSlcbiAgICAgICAgdGhpcy5lbWl0KCdmb2N1c0xheWVyJywgbmV3IENhbnZhc0V2ZW50KHtsYXllckRldGFpbH0pKVxuXG4gICAgfVxuXG4gICAgYWRkTGF5ZXJDb250ZW50KGluZGV4OiBudW1iZXIsIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudHwgSFRNTEltYWdlRWxlbWVudCwgY3JlYXRvcjogRXZuZXRDcmVhdG9yPSd1c2VyJyk6IExheWVyRGV0YWlsIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gY2FudmFzXG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gTGF5ZXJEZXRhaWwuY3JlYXRlKHt3aWR0aCwgaGVpZ2h0fSlcbiAgICAgICAgY29uc3QgY3R4ID0gbGF5ZXJEZXRhaWwuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgY3R4Py5kcmF3SW1hZ2UoY2FudmFzLCAwLDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmFkZExheWVyKGxheWVyRGV0YWlsLCBpbmRleClcbiAgICAgICAgdGhpcy5lbWl0KCdhZGRMYXllcicsIG5ldyBDYW52YXNFdmVudCh7IHdvcmtJZDogdGhpcy53b3JrSWQgLCBsYXllckRldGFpbCwgaW5kZXh9LCBjcmVhdG9yKSlcbiAgICAgICAgcmV0dXJuIGxheWVyRGV0YWlsXG5cbiAgICB9XG5cbiAgICBzZXRMYXllckNvbnRlbnQoaW5kZXg6IG51bWJlciwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudHwgSFRNTEltYWdlRWxlbWVudCwgY3JlYXRvcjogRXZuZXRDcmVhdG9yID0gJ3VzZXInKSB7XG4gICAgICAgIGNvbnN0IGxheWVyRGV0YWlsID0gdGhpcy5sYXllck1hbmFnZXIubGF5ZXJzW2luZGV4XVxuICAgICAgICBjb25zdCBvbGRDYW52YXMgPSBsYXllckRldGFpbC5jYW52YXNcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gb2xkQ2FudmFzXG4gICAgICAgIGNvbnN0IHByZUNvbnRlbnQgPSBjb3B5Q2FudmFzKGxheWVyRGV0YWlsLmNhbnZhcylcbiAgICAgICAgY29uc3QgY3R4ID0gbGF5ZXJEZXRhaWwuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgY3R4Py5jbGVhclJlY3QoMCwwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICBjdHg/LmRyYXdJbWFnZShjYW52YXMsIDAsMCx3aWR0aCwgaGVpZ2h0KVxuICAgICAgICB0aGlzLmVtaXQoJ2NvbnRlbnRDaGFuZ2UnLCBuZXcgQ2FudmFzRXZlbnQoeyB3b3JrSWQ6IHRoaXMud29ya0lkICwgbGF5ZXJEZXRhaWwsIGluZGV4LCBwcmVDb250ZW50LCAgfSwgY3JlYXRvcikpXG4gICAgICAgIHJldHVybiBsYXllckRldGFpbFxuICAgIH1cblxuXG5cbiAgICBmb2N1c0xheWVyKGxheWVyRGV0YWlsOiBMYXllckRldGFpbCk6dm9pZCB7XG4gICAgICAgIHRoaXMubGF5ZXJNYW5hZ2VyLmZvY3VzTGF5ZXIobGF5ZXJEZXRhaWwpXG4gICAgICAgIHRoaXMuZW1pdCgnZm9jdXNMYXllcicsIG5ldyBDYW52YXNFdmVudCh7IGxheWVyRGV0YWlsIH0pKVxuICAgIH1cblxuICAgIHJlbW92ZUxheWVyKGxheWVyRGV0YWlsOiBMYXllckRldGFpbCwgY3JlYXRvcjogRXZuZXRDcmVhdG9yPSd1c2VyJyk6IHZvaWR7XG4gICAgICAgIGNvbnN0IHsgaW5kZXgsIGlzRm9jdXMgfSA9ICB0aGlzLmxheWVyTWFuYWdlci5yZW1vdmVMYXllcihsYXllckRldGFpbClcbiAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMYXllcicsIG5ldyBDYW52YXNFdmVudCh7d29ya0lkOiB0aGlzLndvcmtJZCwgbGF5ZXJEZXRhaWwsIGluZGV4fSwgY3JlYXRvcikpXG4gICAgICAgIGlmKGlzRm9jdXMpe1xuICAgICAgICAgICAgY29uc3QgbGF5ZXJEZXRhaWwgPSB0aGlzLmxheWVyTWFuYWdlci5sYXllcnNbMF1cbiAgICAgICAgICAgIHRoaXMuZm9jdXNMYXllcihsYXllckRldGFpbClcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZm9jdXNMYXllcicsIG5ldyBDYW52YXNFdmVudCh7bGF5ZXJEZXRhaWx9LCBjcmVhdG9yKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVMYXllckJ5SW5kZXgoaW5kZXg6IG51bWJlciwgY3JlYXRvcjogRXZuZXRDcmVhdG9yPSd1c2VyJyk6IHZvaWQge1xuICAgICAgICBjb25zdCBsYXllckRldGFpbCA9IHRoaXMubGF5ZXJNYW5hZ2VyLmxheWVyc1tpbmRleF1cbiAgICAgICAgdGhpcy5yZW1vdmVMYXllcihsYXllckRldGFpbCwgY3JlYXRvcilcbiAgICB9XG5cbiAgICBzZXRCcnVzaFdpZHRoKHdpZHRoOiBudW1iZXIpe1xuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2hXaWR0aCA9IHdpZHRoXG4gICAgfVxuICBcblxuICAgIHNldEJydXNoKGJydXNoOiBCcnVzaCl7XG4gICAgICAgIGlmKHRoaXMuY29udGV4dC5icnVzaCl7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2guZGVzdG9yeSgpXG4gICAgICAgIH1cbiAgICAgICAgYnJ1c2guaW5pdCgpXG4gICAgICAgIHRoaXMuY29udGV4dC5icnVzaCA9IGJydXNoXG4gICAgfVxuXG4gICAgb25Qb2ludGVyRG93bihwOiBQb2ludGVyRXZlbnQpe1xuICAgICAgICB0aGlzLnBvaW50ZXJJZHNbcC5wb2ludGVySWRdID0gdHJ1ZVxuICAgICAgICBjb25zdCBzID0gcG9pbnRFdmVudDJCcnVuc2hTdGF0dXMocClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2YnLCBzKVxuICAgICAgICB0aGlzLmNvbnRleHQuYnJ1c2gub25TdGFydChzLHRoaXMuY29udGV4dClcbiAgICB9XG5cbiAgICBvblBvaW50ZXJNb3ZlKHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50KTp2b2lke1xuICAgICAgaWYoT2JqZWN0LmtleXModGhpcy5wb2ludGVySWRzKS5sZW5ndGg+MSkgcmV0dXJuXG4gICAgICAgIGxldCBwb250ZXJFdmVudHM6IFBvaW50ZXJFdmVudFtdO1xuICAgICAgICBpZigocG9pbnRlckV2ZW50IGFzIGFueSkuZ2V0Q29hbGVzY2VkRXZlbnRzKXtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2V0Q29hbGVzY2VkRXZlbnRzJylcbiAgICAgICAgICBwb250ZXJFdmVudHMgPSAocG9pbnRlckV2ZW50IGFzIGFueSApLmdldENvYWxlc2NlZEV2ZW50cygpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdub3QgZ2V0Q29hbGVzY2VkRXZlbnRzJylcbiAgICAgICAgICAgIHBvbnRlckV2ZW50cyA9ICBbcG9pbnRlckV2ZW50XVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dC5icnVzaC5vbkRyYXcoXG4gICAgICAgICAgICBwb250ZXJFdmVudHMubWFwKCBwID0+IHBvaW50RXZlbnQyQnJ1bnNoU3RhdHVzKHApICksXG4gICAgICAgICAgICB0aGlzLmNvbnRleHRcbiAgICAgICAgKVxuICAgIH1cblxuICAgIG9uUG9pbnRlclVwKHA6IFBvaW50ZXJFdmVudCk6IHZvaWR7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBvaW50ZXJJZHNbcC5wb2ludGVySWRdXG4gICAgICAgIHRoaXMuY29udGV4dC5icnVzaC5vbkVuZChwb2ludEV2ZW50MkJydW5zaFN0YXR1cyhwKSx0aGlzLmNvbnRleHQpXG4gICAgICAgIFxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkJydXNoRW5kID0gKCkgPT4ge1xuICAgICAgY29uc3QgY3VyTGF5ZXJEZXRhaWwgPSB0aGlzLmxheWVyTWFuYWdlci5nZXRGb2N1c0RldGFpbCgpXG4gICAgICAgIGNvbnN0IHByZUNvbnRlbnQgPSBjb3B5Q2FudmFzKGN1ckxheWVyRGV0YWlsLmNhbnZhcylcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuYXBwbHlUZW1wQ2FudmFzKClcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxheWVyTWFuYWdlci5sYXllcnMuaW5kZXhPZihjdXJMYXllckRldGFpbClcbiAgICAgICAgdGhpcy5lbWl0KCdjb250ZW50Q2hhbmdlJywgbmV3IENhbnZhc0V2ZW50KHsgd29ya0lkOiB0aGlzLndvcmtJZCAsIGxheWVyRGV0YWlsOiBjdXJMYXllckRldGFpbCwgcHJlQ29udGVudCwgaW5kZXh9KSkgXG4gICAgfVxuXG5cbiB9XG5mdW5jdGlvbiBsb2dDYW52YXNEYXRhKHJlcD0nJywgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICBjb25zb2xlLmxvZyhyZXAsIGN0eD8uZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGEpIFxuIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PCanvasContext", function() { return PCanvasContext; });\n/* harmony import */ var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21);\n/* harmony import */ var _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n\n\nclass PCanvasContext {\n  constructor(curCanvas, curCanvasContext2D, width, height, onBrushEnd, brush = new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__["Brush"](), color = _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__["RGBA"].BLACK.toRGBAString(), brushWidth = 100) {\n    this.curCanvas = curCanvas;\n    this.curCanvasContext2D = curCanvasContext2D;\n    this.width = width;\n    this.height = height;\n    this.onBrushEnd = onBrushEnd;\n    this.brush = brush;\n    this.color = color;\n    this.brushWidth = brushWidth;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmNvbnRleHQudHM/ZGE5OSJdLCJuYW1lcyI6WyJQQ2FudmFzQ29udGV4dCIsImNvbnN0cnVjdG9yIiwiY3VyQ2FudmFzIiwiY3VyQ2FudmFzQ29udGV4dDJEIiwid2lkdGgiLCJoZWlnaHQiLCJvbkJydXNoRW5kIiwiYnJ1c2giLCJCcnVzaCIsImNvbG9yIiwiUkdCQSIsIkJMQUNLIiwidG9SR0JBU3RyaW5nIiwiYnJ1c2hXaWR0aCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRU8sTUFBTUEsY0FBTixDQUFxQjtBQUV4QkMsYUFBVyxDQUVBQyxTQUZBLEVBT0FDLGtCQVBBLEVBU0FDLEtBVEEsRUFXQUMsTUFYQSxFQWFBQyxVQWJBLEVBZUFDLEtBQVksR0FBRyxJQUFJQyxtRUFBSixFQWZmLEVBaUJBQyxLQUFhLEdBQUdDLGdGQUFJLENBQUNDLEtBQUwsQ0FBV0MsWUFBWCxFQWpCaEIsRUFtQkFDLFVBQWtCLEdBQUcsR0FuQnJCLEVBc0JWO0FBQUEsU0FwQlVYLFNBb0JWLEdBcEJVQSxTQW9CVjtBQUFBLFNBZlVDLGtCQWVWLEdBZlVBLGtCQWVWO0FBQUEsU0FiVUMsS0FhVixHQWJVQSxLQWFWO0FBQUEsU0FYVUMsTUFXVixHQVhVQSxNQVdWO0FBQUEsU0FUVUMsVUFTVixHQVRVQSxVQVNWO0FBQUEsU0FQVUMsS0FPVixHQVBVQSxLQU9WO0FBQUEsU0FMVUUsS0FLVixHQUxVQSxLQUtWO0FBQUEsU0FIVUksVUFHVixHQUhVQSxVQUdWO0FBQUU7O0FBeEJxQiIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJHQkEgfSBmcm9tIFwiLi4vdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9jb2xvci1zZWxlY3Rvci9yZ2JhXCI7XG5pbXBvcnQgeyBCcnVzaCB9IGZyb20gXCIuLi90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2JydXNoXCI7XG5cbmV4cG9ydCBjbGFzcyBQQ2FudmFzQ29udGV4dCB7XG5cbiAgICBjb25zdHJ1Y3RvcihcblxuICAgICAgICBwdWJsaWMgY3VyQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCxcblxuICAgICAgICAvKipcbiAgICAgICAgICog5b2T5YmN6YCJ5Lit5Zu+5bGC55qEY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHB1YmxpYyBjdXJDYW52YXNDb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyLFxuXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgXG4gICAgICAgIHB1YmxpYyBvbkJydXNoRW5kOiAoKSA9PiB2b2lkLFxuXG4gICAgICAgIHB1YmxpYyBicnVzaDogQnJ1c2ggPSBuZXcgQnJ1c2goKSxcblxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZyA9IFJHQkEuQkxBQ0sudG9SR0JBU3RyaW5nKCksXG5cbiAgICAgICAgcHVibGljIGJydXNoV2lkdGg6IG51bWJlciA9IDEwMCxcblxuXG4gICAgKXt9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PcanvasLayers\", function() { return PcanvasLayers; });\n/* harmony import */ var _workStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58);\n\nclass PcanvasLayers {\n  /**\n   * 临时图层,始终位于当前绘制图层的上方.\n   */\n\n  /**\n   * 当前绘制的图层.\n   */\n  constructor(wrapInfo) {\n    this.wrapInfo = wrapInfo;\n    this.tempLayer = void 0;\n    this.layers = void 0;\n    this.focusedLayerDetail = void 0;\n  }\n\n  async init(layers) {\n    const wrapInfo = this.wrapInfo;\n    const {\n      wrap,\n      cover\n    } = wrapInfo;\n    let lastElement = cover;\n    this.layers = layers;\n    layers.forEach((layer, index) => {\n      const {\n        canvas,\n        layerId,\n        visible\n      } = layer;\n      wrap.insertBefore(canvas, lastElement);\n      lastElement = canvas;\n\n      if (!visible) {\n        canvas.className = 'unvisible';\n      }\n    });\n    this.tempLayer = _workStorage__WEBPACK_IMPORTED_MODULE_0__[/* LayerDetail */ \"a\"].create(wrapInfo);\n    wrap.insertBefore(this.tempLayer.canvas, cover); // console.log('this.tempLayer: ', this.tempLayer.layerId)\n\n    this.focusedLayerDetail = layers[0];\n  }\n\n  getCanvas() {\n    return this.tempLayer.canvas;\n  }\n\n  applyTempCanvas() {\n    const ctx = this.focusedLayerDetail.canvas.getContext('2d');\n    const tempCtx = this.tempLayer.canvas.getContext('2d');\n\n    if (ctx && tempCtx) {\n      const {\n        width,\n        height\n      } = this.tempLayer.canvas;\n      ctx.drawImage(this.tempLayer.canvas, 0, 0, width, height);\n      tempCtx.clearRect(0, 0, width, height);\n    }\n  }\n\n  getFocusDetail() {\n    return this.focusedLayerDetail;\n  }\n\n  focusLayer(layerDetail) {\n    const nextLayer = this.layers[this.layers.indexOf(layerDetail) - 1];\n    const nextCanvas = nextLayer && nextLayer.canvas && nextLayer !== this.tempLayer ? nextLayer.canvas : this.wrapInfo.cover;\n    this.wrapInfo.wrap.insertBefore(this.tempLayer.canvas, nextCanvas);\n    this.focusedLayerDetail = layerDetail; // TOFIX: update templyer in layers.\n  }\n\n  addLayer(newLayer, index = 0) {\n    const {\n      wrap\n    } = this.wrapInfo;\n    const oldLayerDetail = this.layers[index - 1];\n    const ele = oldLayerDetail && oldLayerDetail.canvas || this.wrapInfo.cover;\n    wrap.insertBefore(newLayer.canvas, ele);\n    this.layers.splice(index, 0, newLayer);\n    return newLayer;\n  }\n\n  removeLayer(layerDetail) {\n    const index = this.layers.indexOf(layerDetail);\n\n    if (index > -1) {\n      this.wrapInfo.wrap.removeChild(layerDetail.canvas);\n      this.layers.splice(index, 1);\n    } else {\n      console.warn('layerDetail has been removed');\n    }\n\n    return {\n      index,\n      isFocus: this.focusedLayerDetail === layerDetail\n    };\n  }\n\n  getContext() {\n    const ctx = this.tempLayer.canvas.getContext('2d');\n\n    if (ctx === null) {\n      throw 'get context faliled.';\n    }\n\n    ctx.imageSmoothingEnabled = false;\n    return ctx;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvcGNhbnZhcy9wY2FudmFzLmxheWVyLnRzPzY0OWMiXSwibmFtZXMiOlsiUGNhbnZhc0xheWVycyIsImNvbnN0cnVjdG9yIiwid3JhcEluZm8iLCJ0ZW1wTGF5ZXIiLCJsYXllcnMiLCJmb2N1c2VkTGF5ZXJEZXRhaWwiLCJpbml0Iiwid3JhcCIsImNvdmVyIiwibGFzdEVsZW1lbnQiLCJmb3JFYWNoIiwibGF5ZXIiLCJpbmRleCIsImNhbnZhcyIsImxheWVySWQiLCJ2aXNpYmxlIiwiaW5zZXJ0QmVmb3JlIiwiY2xhc3NOYW1lIiwiTGF5ZXJEZXRhaWwiLCJjcmVhdGUiLCJnZXRDYW52YXMiLCJhcHBseVRlbXBDYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwidGVtcEN0eCIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiY2xlYXJSZWN0IiwiZ2V0Rm9jdXNEZXRhaWwiLCJmb2N1c0xheWVyIiwibGF5ZXJEZXRhaWwiLCJuZXh0TGF5ZXIiLCJpbmRleE9mIiwibmV4dENhbnZhcyIsImFkZExheWVyIiwibmV3TGF5ZXIiLCJvbGRMYXllckRldGFpbCIsImVsZSIsInNwbGljZSIsInJlbW92ZUxheWVyIiwicmVtb3ZlQ2hpbGQiLCJjb25zb2xlIiwid2FybiIsImlzRm9jdXMiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVU8sTUFBTUEsYUFBTixDQUFtQjtBQUV0Qjs7OztBQU1BOzs7QUFLQUMsYUFBVyxDQUFpQkMsUUFBakIsRUFBb0M7QUFBQSxTQUFuQkEsUUFBbUIsR0FBbkJBLFFBQW1CO0FBQUEsU0FSckNDLFNBUXFDO0FBQUEsU0FOeENDLE1BTXdDO0FBQUEsU0FGckNDLGtCQUVxQztBQUFFOztBQUdqRCxRQUFNQyxJQUFOLENBQVlGLE1BQVosRUFBaUQ7QUFDL0MsVUFBTUYsUUFBUSxHQUFHLEtBQUtBLFFBQXRCO0FBQ0EsVUFB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LE1BQUwsQ0FBWW1DLE1BQVosQ0FBbUIzQixLQUFuQixFQUEwQixDQUExQixFQUE2QndCLFFBQTdCO0FBQ0EsV0FBT0EsUUFBUDtBQUNIOztBQUdESSxhQUFXLENBQUNULFdBQUQsRUFBMEI7QUFDakMsVUFBTW5CLEtBQUssR0FBRyxLQUFLUixNQUFMLENBQVk2QixPQUFaLENBQW9CRixXQUFwQixDQUFkOztBQUNBLFFBQUduQixLQUFLLEdBQUcsQ0FBQyxDQUFaLEVBQWM7QUFDVixXQUFLVixRQUFMLENBQWNLLElBQWQsQ0FBbUJrQyxXQUFuQixDQUErQlYsV0FBVyxDQUFDbEIsTUFBM0M7QUFDQSxXQUFLVCxNQUFMLENBQVltQyxNQUFaLENBQW1CM0IsS0FBbkIsRUFBMEIsQ0FBMUI7QUFDSCxLQUhELE1BR0s7QUFDRDhCLGFBQU8sQ0FBQ0MsSUFBUixDQUFhLDhCQUFiO0FBQ0g7O0FBQ0QsV0FBTztBQUFFL0IsV0FBRjtBQUFTZ0MsYUFBTyxFQUFHLEtBQUt2QyxrQkFBTCxLQUE0QjBCO0FBQS9DLEtBQVA7QUFDSDs7QUFFRFIsWUFBVSxHQUFFO0FBQ1IsVUFBTUQsR0FBRyxHQUFHLEtBQUtuQixTQUFMLENBQWVVLE1BQWYsQ0FBc0JVLFVBQXRCLENBQWlDLElBQWpDLENBQVo7O0FBQ0EsUUFBR0QsR0FBRyxLQUFLLElBQVgsRUFBZ0I7QUFDWixZQUFNLHNCQUFOO0FBQ0g7O0FBQ0RBLE9BQUcsQ0FBQ3VCLHFCQUFKLEdBQTRCLEtBQTVCO0FBQ0EsV0FBT3ZCLEdBQVA7QUFDSDs7QUExRnFCIiwiZmlsZSI6IjI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5ZXJEZXRhaWwgfSBmcm9tIFwiLi4vLi4vLi4vd29ya1N0b3JhZ2VcIjtcbmltcG9ydCB7IGNvcHlDYW52YXMgfSBmcm9tICdAL3V0aWwvY2FudmFzJ1xuXG5leHBvcnQgdHlwZSBXcmFwSW5mbyA9IHsgXG4gIHJlYWRvbmx5ICB3cmFwOiBIVE1MRWxlbWVudCxcbiAgcmVhZG9ubHkgIGNvdmVyOiBIVE1MRWxlbWVudCxcbiAgcmVhZG9ubHkgIHdpZHRoOiBudW1iZXIsXG4gIHJlYWRvbmx5ICBoZWlnaHQ6IG51bWJlcixcbiB9XG5cbmV4cG9ydCBjbGFzcyBQY2FudmFzTGF5ZXJze1xuXG4gICAgLyoqXG4gICAgICog5Li05pe25Zu+5bGCLOWni+e7iOS9jeS6juW9k+WJjee7mOWItuWbvuWxgueahOS4iuaWuS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdGVtcExheWVyOkxheWVyRGV0YWlsO1xuXG4gICAgcHVibGljIGxheWVyczogIExheWVyRGV0YWlsPEhUTUxDYW52YXNFbGVtZW50PltdIFxuICAgIC8qKlxuICAgICAqIOW9k+WJjee7mOWItueahOWbvuWxgi5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZm9jdXNlZExheWVyRGV0YWlsOiBMYXllckRldGFpbDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB3cmFwSW5mbzogV3JhcEluZm8pe31cblxuXG4gICAgYXN5bmMgaW5pdCggbGF5ZXJzOiBMYXllckRldGFpbFtdKTogUHJvbWlzZTx2b2lkPntcbiAgICAgIGNvbnN0IHdyYXBJbmZvID0gdGhpcy53cmFwSW5mb1xuICAgICAgY29uc3QgeyB3cmFwLCBjb3ZlciB9ID0gd3JhcEluZm9cbiAgICAgIGxldCBsYXN0RWxlbWVudDogSFRNTEVsZW1lbnQ9IGNvdmVyXG4gICAgICB0aGlzLmxheWVycyA9IGxheWVyc1xuICAgICAgbGF5ZXJzLmZvckVhY2goIChsYXllcixpbmRleCkgPT4ge1xuICAgICAgY29uc3QgeyBjYW52YXMsIGxheWVySWQsIHZpc2libGUgfSA9IGxheWVyXG4gICAgICB3cmFwLmluc2VydEJlZm9yZSggY2FudmFzLCBsYXN0RWxlbWVudCk7XG4gICAgICAgIGxhc3RFbGVtZW50ID0gY2FudmFzXG4gICAgICAgIGlmKCF2aXNpYmxlKXtcbiAgICAgICAgICAgIGNhbnZhcy5jbGFzc05hbWUgPSAndW52aXNpYmxlJ1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB0aGlzLnRlbXBMYXllciA9IExheWVyRGV0YWlsLmNyZWF0ZSh3cmFwSW5mbylcbiAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzLnRlbXBMYXllci5jYW52YXMsIGNvdmVyKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0aGlzLnRlbXBMYXllcjogJywgdGhpcy50ZW1wTGF5ZXIubGF5ZXJJZClcbiAgICAgIHRoaXMuZm9jdXNlZExheWVyRGV0YWlsID0gbGF5ZXJzWzBdXG4gICAgfVxuXG4gICAgZ2V0Q2FudmFzKCk6SFRNTENhbnZhc0VsZW1lbnR7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBMYXllci5jYW52YXNcbiAgICB9XG5cbiAgICBhcHBseVRlbXBDYW52YXMoKTogdm9pZHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5mb2N1c2VkTGF5ZXJEZXRhaWwuY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgY29uc3QgdGVtcEN0eCA9IHRoaXMudGVtcExheWVyLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGlmKGN0eCAmJiB0ZW1wQ3R4KXtcbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCAgfSA9IHRoaXMudGVtcExheWVyLmNhbnZhc1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnRlbXBMYXllci5jYW52YXMsIDAsIDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICB0ZW1wQ3R4LmNsZWFyUmVjdCgwLCAwICx3aWR0aCwgaGVpZ2h0KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Rm9jdXNEZXRhaWwoKTogTGF5ZXJEZXRhaWwge1xuICAgICAgICByZXR1cm4gdGhpcy5mb2N1c2VkTGF5ZXJEZXRhaWxcbiAgICB9XG5cbiAgICBmb2N1c0xheWVyKGxheWVyRGV0YWlsOiBMYXllckRldGFpbCl7XG4gICAgICAgIGNvbnN0IG5leHRMYXllciA9IHRoaXMubGF5ZXJzW3RoaXMubGF5ZXJzLmluZGV4T2YobGF5ZXJEZXRhaWwpIC0gMV1cbiAgICAgICAgY29uc3QgbmV4dENhbnZhcyA9IG5leHRMYXllciYmbmV4dExheWVyLmNhbnZhcyAmJiBuZXh0TGF5ZXIgIT09IHRoaXMudGVtcExheWVyID8gbmV4dExheWVyLmNhbnZhcyA6ICB0aGlzLndyYXBJbmZvLmNvdmVyXG4gICAgICAgIHRoaXMud3JhcEluZm8ud3JhcC5pbnNlcnRCZWZvcmUodGhpcy50ZW1wTGF5ZXIuY2FudmFzLCBuZXh0Q2FudmFzKVxuICAgICAgICB0aGlzLmZvY3VzZWRMYXllckRldGFpbCA9IGxheWVyRGV0YWlsXG4gICAgICAgIC8vIFRPRklYOiB1cGRhdGUgdGVtcGx5ZXIgaW4gbGF5ZXJzLlxuICAgIH1cblxuICAgIGFkZExheWVyKG5ld0xheWVyOiBMYXllckRldGFpbCwgaW5kZXggPSAwKXtcbiAgICAgICAgY29uc3QgeyB3cmFwIH0gPSB0aGlzLndyYXBJbmZvXG4gICAgICAgIGNvbnN0IG9sZExheWVyRGV0YWlsID0gdGhpcy5sYXllcnNbaW5kZXgtMV1cbiAgICAgICAgY29uc3QgZWxlID0gb2xkTGF5ZXJEZXRhaWwmJm9sZExheWVyRGV0YWlsLmNhbnZhcyB8fCB0aGlzLndyYXBJbmZvLmNvdmVyXG4gICAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKG5ld0xheWVyLmNhbnZhcywgZWxlKVxuICAgICAgICB0aGlzLmxheWVycy5zcGxpY2UoaW5kZXgsIDAsIG5ld0xheWVyKVxuICAgICAgICByZXR1cm4gbmV3TGF5ZXJcbiAgICB9XG5cblxuICAgIHJlbW92ZUxheWVyKGxheWVyRGV0YWlsOiBMYXllckRldGFpbCl7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sYXllcnMuaW5kZXhPZihsYXllckRldGFpbClcbiAgICAgICAgaWYoaW5kZXggPiAtMSl7XG4gICAgICAgICAgICB0aGlzLndyYXBJbmZvLndyYXAucmVtb3ZlQ2hpbGQobGF5ZXJEZXRhaWwuY2FudmFzKVxuICAgICAgICAgICAgdGhpcy5sYXllcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignbGF5ZXJEZXRhaWwgaGFzIGJlZW4gcmVtb3ZlZCcpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaW5kZXgsIGlzRm9jdXM6ICB0aGlzLmZvY3VzZWRMYXllckRldGFpbCA9PT0gbGF5ZXJEZXRhaWx9XG4gICAgfVxuXG4gICAgZ2V0Q29udGV4dCgpe1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLnRlbXBMYXllci5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICBpZihjdHggPT09IG51bGwpe1xuICAgICAgICAgICAgdGhyb3cgJ2dldCBjb250ZXh0IGZhbGlsZWQuJ1xuICAgICAgICB9XG4gICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH1cblxuXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n")},,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createCanvas; });\n/* unused harmony export setContent */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return copyCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return createImageByFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return toBlob; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return emptyUrl; });\n/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(47);\n/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0__);\n\nconst createCanvas = (width = 0, height = 0, background) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  canvas.setAttribute('uuid', lodash_uniqueId__WEBPACK_IMPORTED_MODULE_0___default()('canvasId-'));\n  const ctx = canvas.getContext('2d');\n\n  if (ctx) {\n    if (background) {\n      ctx.fillStyle = background.toRGBAString();\n      ctx.fillRect(0, 0, width, height);\n    }\n  }\n\n  return canvas;\n};\nconst setContent = (des, source) => {\n  const ctx = des.getContext('2d');\n  console.log(source.width, source.height);\n  ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(source, 0, 0);\n};\nconst copyCanvas = canvas => {\n  const newC = document.createElement('canvas');\n  newC.width = canvas.width;\n  newC.height = canvas.height;\n  const ctx = newC.getContext('2d');\n\n  if (ctx) {\n    ctx.imageSmoothingEnabled = false;\n    ctx.clearRect(0, 0, newC.width, newC.height);\n    ctx.drawImage(canvas, 0, 0, canvas.width, canvas.height);\n  }\n\n  return newC;\n};\nconst deCodeImageTask = [];\nlet decodingNumber = 0;\n\nconst handleDecodeTask = async () => {\n  if (decodingNumber < 1) {\n    let task = deCodeImageTask.shift();\n\n    while (task) {\n      decodingNumber++;\n      const {\n        file,\n        cb\n      } = task;\n      const img = new Image();\n      img.src = URL.createObjectURL(file);\n\n      try {\n        await img.decode();\n      } catch (e) {\n        console.error(e, 'img decode error', e.message);\n      }\n\n      URL.revokeObjectURL(img.src);\n      cb(img);\n      decodingNumber--;\n      task = deCodeImageTask.shift(); // console.log(decodingNumber,deCodeImageTask.length )\n    }\n  }\n};\n/**\n * 由于浏览器img解码内存限制，控制解码的并发.\n * @param canvasFile \n */\n\n\nconst createImageByFile = async canvasFile => {\n  return new Promise(cb => {\n    deCodeImageTask.push({\n      file: canvasFile,\n      cb\n    });\n    handleDecodeTask();\n  });\n};\nconst toBlob = canvas => {\n  return new Promise(resolve => {\n    canvas.toBlob(resolve, 'image/png', 1);\n  });\n};\n\nlet _emptyUrl = () => {\n  const canvas = createCanvas(0, 0);\n  const str = canvas.toDataURL();\n\n  _emptyUrl = () => str;\n\n  return _emptyUrl();\n};\n\nconst emptyUrl = () => {\n  return _emptyUrl();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9jYW52YXMudHM/OWQwMiJdLCJuYW1lcyI6WyJjcmVhdGVDYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmQiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwidG9SR0JBU3RyaW5nIiwiZmlsbFJlY3QiLCJzZXRDb250ZW50IiwiZGVzIiwic291cmNlIiwiY29uc29sZSIsImxvZyIsImRyYXdJbWFnZSIsImNvcHlDYW52YXMiLCJuZXdDIiwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiY2xlYXJSZWN0IiwiZGVDb2RlSW1hZ2VUYXNrIiwiZGVjb2RpbmdOdW1iZXIiLCJoYW5kbGVEZWNvZGVUYXNrIiwidGFzayIsInNoaWZ0IiwiZmlsZSIsImNiIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkZWNvZGUiLCJlIiwiZXJyb3IiLCJtZXNzYWdlIiwicmV2b2tlT2JqZWN0VVJMIiwiY3JlYXRlSW1hZ2VCeUZpbGUiLCJjYW52YXNGaWxlIiwiUHJvbWlzZSIsInB1c2giLCJ0b0Jsb2IiLCJyZXNvbHZlIiwiX2VtcHR5VXJsIiwic3RyIiwidG9EYXRhVVJMIiwiZW1wdHlVcmwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlPLE1BQU1BLFlBQVksR0FBRyxDQUFDQyxLQUFLLEdBQUcsQ0FBVCxFQUFZQyxNQUFNLEdBQUUsQ0FBcEIsRUFBdUJDLFVBQXZCLEtBQTZDO0FBQ3JFLFFBQU1DLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLFFBQXZCLENBQWY7QUFDQUYsUUFBTSxDQUFDSCxLQUFQLEdBQWVBLEtBQWY7QUFDQUcsUUFBTSxDQUFDRixNQUFQLEdBQWdCQSxNQUFoQjtBQUNBRSxRQUFNLENBQUNHLFlBQVAsQ0FBb0IsTUFBcEIsRUFBNEIsdURBQVMsV0FB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QUFDekNOLG1CQUFlLENBQUNvQixJQUFoQixDQUFzQjtBQUFDZixVQUFJLEVBQUNhLFVBQU47QUFBa0JaO0FBQWxCLEtBQXRCO0FBQ0FKLG9CQUFnQjtBQUNqQixHQUhNLENBQVA7QUFLRCxDQU5NO0FBU0EsTUFBTW1CLE1BQU0sR0FBSXhDLE1BQUQsSUFBK0I7QUFDakQsU0FBTyxJQUFJc0MsT0FBSixDQUF5QkcsT0FBTyxJQUFJO0FBQ3ZDekMsVUFBTSxDQUFDd0MsTUFBUCxDQUFjQyxPQUFkLEVBQXVCLFdBQXZCLEVBQW9DLENBQXBDO0FBQ0gsR0FGTSxDQUFQO0FBR0gsQ0FKTTs7QUFNUCxJQUFJQyxTQUFTLEdBQUcsTUFBYTtBQUN6QixRQUFNMUMsTUFBTSxHQUFHSixZQUFZLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBM0I7QUFDQSxRQUFNK0MsR0FBRyxHQUFJM0MsTUFBTSxDQUFDNEMsU0FBUCxFQUFiOztBQUNBRixXQUFTLEdBQUcsTUFBTUMsR0FBbEI7O0FBQ0EsU0FBT0QsU0FBUyxFQUFoQjtBQUNILENBTEQ7O0FBT08sTUFBTUcsUUFBUSxHQUFHLE1BQU07QUFDM0IsU0FBT0gsU0FBUyxFQUFoQjtBQUNGLENBRk0iLCJmaWxlIjoiNDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSR0JBIH0gZnJvbSBcIi4uL3BhZ2VzL3BhaW50L3RvcC10b29sLWJhci90b29sLWl0ZW0vY29sb3Itc2VsZWN0b3IvcmdiYVwiXG5pbXBvcnQge3VuaXF1ZUlkfSBmcm9tICdsb2Rhc2gnXG5cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhbnZhcyA9ICh3aWR0aCA9IDAsIGhlaWdodCA9MCwgYmFja2dyb3VuZD86IFJHQkEpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoXG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodFxuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3V1aWQnLCB1bmlxdWVJZCgnY2FudmFzSWQtJykpXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGlmKGN0eCl7XG4gICAgICAgICAgICBpZihiYWNrZ3JvdW5kKXtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZC50b1JHQkFTdHJpbmcoKVxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLDAsd2lkdGgsaGVpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgcmV0dXJuIGNhbnZhc1xufVxuXG5leHBvcnQgY29uc3Qgc2V0Q29udGVudCA9IChkZXM6IEhUTUxDYW52YXNFbGVtZW50LCBzb3VyY2U6IEhUTUxDYW52YXNFbGVtZW50fCBIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgY3R4ID0gZGVzLmdldENvbnRleHQoJzJkJylcbiAgICBjb25zb2xlLmxvZyhzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpXG4gICAgY3R4Py5kcmF3SW1hZ2Uoc291cmNlLCAwLCAwKVxufVxuXG5leHBvcnQgY29uc3QgY29weUNhbnZhcyA9IChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50fCBIVE1MSW1hZ2VFbGVtZW50KSA9PntcbiAgICBjb25zdCBuZXdDID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICBuZXdDLndpZHRoID0gY2FudmFzLndpZHRoXG4gICAgbmV3Qy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0XG4gICAgY29uc3QgY3R4ID0gbmV3Qy5nZXRDb250ZXh0KCcyZCcpXG4gICAgaWYoY3R4KXtcbiAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZVxuICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsIG5ld0Mud2lkdGgsIG5ld0MuaGVpZ2h0KVxuICAgICAgY3R4LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodClcbiAgICB9XG4gIFxuICAgIHJldHVybiBuZXdDO1xufVxuXG5jb25zdCBkZUNvZGVJbWFnZVRhc2s6IHtmaWxlOkZpbGUsIGNiOiAoaW1nOkhUTUxJbWFnZUVsZW1lbnQpID0+IHZvaWR9W10gID0gW11cbmxldCBkZWNvZGluZ051bWJlciA9IDBcblxuXG5jb25zdCBoYW5kbGVEZWNvZGVUYXNrID0gYXN5bmMgKCkgPT4ge1xuICBpZihkZWNvZGluZ051bWJlcjwxKXtcbiAgICBsZXQgdGFzayA9IGRlQ29kZUltYWdlVGFzay5zaGlmdCgpXG4gICAgd2hpbGUodGFzayl7XG4gICAgICBkZWNvZGluZ051bWJlcisrXG4gICAgICBjb25zdCB7IGZpbGUsIGNiIH0gPSB0YXNrXG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSlcbiAgICAgIHRyeXtcbiAgICAgICAgYXdhaXQgaW1nLmRlY29kZSgpXG4gICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSwgJ2ltZyBkZWNvZGUgZXJyb3InLCBlLm1lc3NhZ2UpXG4gICAgICB9XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGltZy5zcmMpXG4gICAgICBjYihpbWcpXG4gICAgICBkZWNvZGluZ051bWJlci0tXG4gICAgICB0YXNrID0gZGVDb2RlSW1hZ2VUYXNrLnNoaWZ0KClcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRlY29kaW5nTnVtYmVyLGRlQ29kZUltYWdlVGFzay5sZW5ndGggKVxuICAgIH1cbiAgICBcbiAgfVxufVxuLyoqXG4gKiDnlLHkuo7mtY/op4jlmahpbWfop6PnoIHlhoXlrZjpmZDliLbvvIzmjqfliLbop6PnoIHnmoTlubblj5EuXG4gKiBAcGFyYW0gY2FudmFzRmlsZSBcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUltYWdlQnlGaWxlID0gYXN5bmMgKGNhbnZhc0ZpbGU6IEZpbGUpICA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PihjYiA9PiB7XG4gICAgZGVDb2RlSW1hZ2VUYXNrLnB1c2goIHtmaWxlOmNhbnZhc0ZpbGUsIGNifSApXG4gICAgaGFuZGxlRGVjb2RlVGFzaygpXG4gIH0pXG4gICAgXG59XG5cblxuZXhwb3J0IGNvbnN0IHRvQmxvYiA9IChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEJsb2IgfCBudWxsPihyZXNvbHZlID0+IHtcbiAgICAgICAgY2FudmFzLnRvQmxvYihyZXNvbHZlLCAnaW1hZ2UvcG5nJywgMSlcbiAgICB9KVxufVxuXG5sZXQgX2VtcHR5VXJsID0gKCk6c3RyaW5nID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjcmVhdGVDYW52YXMoMCwwKVxuICAgIGNvbnN0IHN0ciA9ICBjYW52YXMudG9EYXRhVVJMKClcbiAgICBfZW1wdHlVcmwgPSAoKSA9PiBzdHJcbiAgICByZXR1cm4gX2VtcHR5VXJsKClcbn1cblxuZXhwb3J0IGNvbnN0IGVtcHR5VXJsID0gKCkgPT4ge1xuICAgcmV0dXJuIF9lbXB0eVVybCgpXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46\n")},function(module,exports,__webpack_require__){eval("var toString = __webpack_require__(53);\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3VuaXF1ZUlkLmpzPzk4ZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLEVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI0Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4vdG9TdHJpbmcnKTtcblxuLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbnZhciBpZENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gKlxuICogXy51bmlxdWVJZCgpO1xuICogLy8gPT4gJzEwNSdcbiAqL1xuZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHVuaXF1ZUlkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///47\n")},function(module,exports,__webpack_require__){eval("var freeGlobal = __webpack_require__(50);\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzPzJiM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsRUFBZTs7QUFFeEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48\n")},function(module,exports){eval("/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzU3ltYm9sLmpzP2ZmZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI0OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHViRmFsc2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49\n")},function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(51)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzPzU4NWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSIsImZpbGUiOiI1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50\n")},function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51\n')},function(module,exports){eval("/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanM/Njc0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){eval("var baseToString = __webpack_require__(54);\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzPzc2ZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CLG1CQUFPLENBQUMsRUFBaUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYXNlVG9TdHJpbmcgPSByZXF1aXJlKCcuL19iYXNlVG9TdHJpbmcnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvU3RyaW5nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n")},function(module,exports,__webpack_require__){eval("var Symbol = __webpack_require__(55),\n    arrayMap = __webpack_require__(56),\n    isArray = __webpack_require__(52),\n    isSymbol = __webpack_require__(49);\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlVG9TdHJpbmcuanM/Y2U4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsRUFBVztBQUNoQyxlQUFlLG1CQUFPLENBQUMsRUFBYTtBQUNwQyxjQUFjLG1CQUFPLENBQUMsRUFBVztBQUNqQyxlQUFlLG1CQUFPLENBQUMsRUFBWTs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiI1NC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBhcnJheU1hcCA9IHJlcXVpcmUoJy4vX2FycmF5TWFwJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///54\n")},function(module,exports,__webpack_require__){eval("var root = __webpack_require__(48);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanM/OWU2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsRUFBUzs7QUFFNUI7QUFDQTs7QUFFQSIsImZpbGUiOiI1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55\n")},function(module,exports){eval("/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcz83OTQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n")},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* binding */ workStorage_WorkStorage; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ work_data_WorkDetail; });\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ work_data_LayerDetail; });\n\n// UNUSED EXPORTS: WorkDetailDesFile, WorkInfo\n\n// EXTERNAL MODULE: ./node_modules/lodash/isNumber.js\nvar isNumber = __webpack_require__(59);\nvar isNumber_default = /*#__PURE__*/__webpack_require__.n(isNumber);\n\n// EXTERNAL MODULE: ./node_modules/lodash/uniqueId.js\nvar uniqueId = __webpack_require__(47);\nvar uniqueId_default = /*#__PURE__*/__webpack_require__.n(uniqueId);\n\n// EXTERNAL MODULE: ./src/pages/paint/top-tool-bar/tool-item/color-selector/rgba.ts\nvar rgba = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./src/util/canvas.ts\nvar util_canvas = __webpack_require__(46);\n\n// CONCATENATED MODULE: ./src/workStorage/work-data.ts\n\n\n\n/**\n * 作品的描述信息.\n */\n\nclass work_data_WorkInfo {\n  constructor(width, height, name = '', thumbnail, createTime = Date.now(), updateTime = Date.now(), workId = uniqueId_default()(`work_${Date.now()}_`)) {\n    this.width = width;\n    this.height = height;\n    this.name = name;\n    this.thumbnail = thumbnail;\n    this.createTime = createTime;\n    this.updateTime = updateTime;\n    this.workId = workId;\n  }\n\n}\n/**\n * 作品的全部信息.\n */\n\nclass work_data_WorkDetail {\n  constructor(workInfo, layers = []) {\n    this.workInfo = workInfo;\n    this.layers = layers;\n  }\n  /**\n  * \n  * @param width \n  * @param height \n  * @param background \n  */\n\n\n  static createEmpty(width, height, background) {\n    const workInfo = new work_data_WorkInfo(width, height, 'new work', Object(util_canvas[\"d\" /* emptyUrl */])());\n    const layers = [];\n    layers.push(work_data_LayerDetail.create(workInfo, rgba[\"RGBA\"].WHITE));\n    return new work_data_WorkDetail(workInfo, layers);\n  }\n\n} // export enum  LayerDetailType{\n//     TEMP_COVER= 1,\n//     NORMAL = 2,\n// }\n\n/**\n * 作品的图层信息.\n */\n\nclass work_data_LayerDetail {\n  constructor(canvas, name = 'new layer', visible = true, layerId = uniqueId_default()(`layer-${Date.now()}-`)) {\n    this.canvas = canvas;\n    this.name = name;\n    this.visible = visible;\n    this.layerId = layerId;\n  }\n\n  static create({\n    width,\n    height\n  }, color) {\n    const canvas = Object(util_canvas[\"b\" /* createCanvas */])(width, height, color);\n    const layer = new work_data_LayerDetail(canvas);\n    canvas.setAttribute('layerId', layer.layerId);\n    return layer;\n  }\n\n}\n// EXTERNAL MODULE: ./src/workStorage/file-system/index.ts\nvar file_system = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/workStorage/index.ts\n\n\n\n\n\nconst getLayerPath = (workId, layerId) => layerId ? `layers/${workId}/${layerId}.png` : `layers/${workId}`;\n\nconst getThumbnailPath = workId => `thumbnail/${workId}.png`; // export class WorkLayerFile {\n//     public workLayersId: string\n//     public workDetailFiles: WorkDetailFile[] = []\n//     constructor({ workLayersId, layers }: WorkLayers) {\n//         this.workLayersId = workLayersId\n//         layers.forEach(({ canvas, layerId, ...rest }) => {\n//             this.workDetailFiles.push({ ...rest, layerId, filePath:  getLayerPath(workLayersId, layerId)})\n//         })\n//     }\n// }\n\n\nclass WorkDetailDesFile {\n  constructor(workDetail) {\n    this.workInfo = void 0;\n    this.layers = void 0;\n    const {\n      workInfo,\n      layers\n    } = workDetail;\n    const {\n      thumbnail,\n      workId,\n      ...restWorkInfo\n    } = workInfo;\n    this.workInfo = {\n      workId,\n      ...restWorkInfo,\n      thumbnail: getThumbnailPath(workId)\n    };\n    this.layers = layers.map(({\n      canvas,\n      layerId,\n      ...rest\n    }) => ({\n      layerId,\n      ...rest,\n      canvas: getLayerPath(workId, layerId)\n    }));\n  }\n\n}\n/**\n * 对作品的持久化存储操作的中间接口.\n * des: workinfo:\n *      content:  \n */\n\nclass workStorage_WorkStorage {\n  /**\n   * 添加作品.\n   * @param workedetail \n   */\n  static async saveWork(workedetail) {\n    if (!workedetail) return;\n    console.time('saveWork');\n    const desFileDate = new WorkDetailDesFile(workedetail);\n    await this.saveWorkInfo(desFileDate);\n    const canvasFileList = this.getCanvasFileList(workedetail, desFileDate);\n\n    for (let i = 0; i < canvasFileList.length; i++) {\n      const {\n        path,\n        canvas\n      } = canvasFileList[i];\n      const data = await Object(util_canvas[\"e\" /* toBlob */])(canvas);\n\n      if (data) {\n        await file_system[\"a\" /* FileApi */].save({\n          type: 'image/png',\n          path,\n          data\n        });\n      }\n    }\n\n    console.timeEnd('saveWork');\n  }\n\n  static async saveWorkInfo(desFileDate) {\n    await file_system[\"a\" /* FileApi */].save({\n      type: 'application/json',\n      path: `${desFileDate.workInfo.workId}.json`,\n      data: JSON.stringify(desFileDate)\n    });\n  }\n\n  static getCanvasFileList(workedetail, desFileDate) {\n    const {\n      layers\n    } = workedetail;\n    const {\n      layers: desLayers\n    } = desFileDate;\n    const thumbnail = {\n      path: desFileDate.workInfo.thumbnail,\n      canvas: this.combimeCanvas(100, 100, layers.map(({\n        canvas\n      }) => canvas))\n    };\n    const canvasFileList = [thumbnail];\n    layers.forEach(({\n      canvas\n    }, index) => {\n      canvasFileList.push({\n        canvas,\n        path: desLayers[index].canvas\n      });\n    });\n    return canvasFileList;\n  }\n\n  static combimeCanvas(width, height, canvasList) {\n    const canvas = Object(util_canvas[\"b\" /* createCanvas */])(width, height);\n    const ctx = canvas.getContext('2d');\n\n    if (ctx) {\n      for (let i = canvasList.length - 1; i > -1; i--) {\n        const canvas = canvasList[i];\n        ctx.drawImage(canvas, 0, 0, canvas.width, canvas.height, 0, 0, width, height);\n      }\n    }\n\n    return canvas;\n  }\n  /**\n   * 删除作品.\n   * @param workId \n   */\n\n\n  static async saveLayerDetail(workId, layer, index) {\n    const {\n      canvas,\n      layerId,\n      ...rest\n    } = layer;\n    const img = await Object(util_canvas[\"e\" /* toBlob */])(canvas);\n    if (!img) return;\n    file_system[\"a\" /* FileApi */].save({\n      type: 'image/png',\n      path: getLayerPath(workId, layerId),\n      data: img\n    });\n    const [file] = await file_system[\"a\" /* FileApi */].get(`${workId}.json`, {\n      isDir: false\n    });\n    const workDetailDesFile = JSON.parse((await file.text()));\n    const layertDetail = workDetailDesFile.layers.find(({\n      layerId: id\n    }) => id === layerId);\n\n    if (!layertDetail && isNumber_default()(index)) {\n      workDetailDesFile.layers.splice(index, 0, {\n        canvas: getLayerPath(workId, layerId),\n        layerId,\n        ...rest\n      });\n      await this.saveWorkInfo(workDetailDesFile);\n    }\n\n    if (layertDetail && isNumber_default()(index)) {\n      throw 'add layer fail: ' + layerId;\n    } // TODO update workInfo\n\n  }\n\n  static async removeWork(layerDetail) {} //TODO  Implement.\n\n  /**\n   * 更新作品的内容, 此时会自动更新 WorkInfo 的 updateTime.\n   */\n\n\n  static async updateLayerDetail(workId, layerdetails) {} //TODO  Implement.\n\n  /**\n   * 根据作品id获取指定作品的所有信息.\n   * \n   * @param workId 作品ID.\n   */\n\n\n  static async getWorkDetail(workId) {\n    console.time('getWorkDetail');\n    const [file] = await file_system[\"a\" /* FileApi */].get(`${workId}.json`, {\n      isDir: false\n    });\n    const text = await file.text();\n    const {\n      workInfo,\n      layers\n    } = JSON.parse(text);\n    const workLayers = [];\n    const canvasFileMap = (await file_system[\"a\" /* FileApi */].get(getLayerPath(workId), {\n      isDir: true\n    })).reduce((map, file) => ({ ...map,\n      [file.name]: file\n    }), {});\n    const infoList = [];\n\n    for (let i = 0; i < layers.length; i++) {\n      const {\n        layerId,\n        visible,\n        name\n      } = layers[i];\n      const canvasFile = canvasFileMap[`${layerId}.png`];\n\n      if (canvasFile) {\n        try {\n          const img = await Object(util_canvas[\"c\" /* createImageByFile */])(canvasFile);\n          const canvas = Object(util_canvas[\"a\" /* copyCanvas */])(img);\n          infoList.push({\n            canvas,\n            name,\n            visible,\n            layerId\n          });\n        } catch (e) {\n          console.error(layerId, 'decode failed');\n        }\n      } else {\n        console.error('no match file' + layerId);\n      }\n    }\n\n    infoList.forEach(({\n      canvas,\n      name,\n      visible,\n      layerId\n    }, index) => {\n      const layerDetail = new work_data_LayerDetail(canvas, name, visible, layerId);\n      workLayers.push(layerDetail);\n    });\n    console.timeEnd('getWorkDetail');\n    return new work_data_WorkDetail(workInfo, workLayers);\n  }\n  /**\n   * 获取作品描述信息列表.\n   */\n\n\n  static async getWorkList() {\n    console.time('getWorkList');\n    let workInfoList;\n    const [textFileList, imgFileList] = await Promise.all([file_system[\"a\" /* FileApi */].get('', {\n      isDir: true\n    }), file_system[\"a\" /* FileApi */].get('thumbnail', {\n      isDir: true\n    })]);\n    const textList = await Promise.all(textFileList.map(textFile => textFile.text()));\n    workInfoList = textList.map(text => {\n      const {\n        workInfo: {\n          thumbnail,\n          workId,\n          ...rest\n        }\n      } = JSON.parse(text);\n      return { ...rest,\n        workId,\n        thumbnail: URL.createObjectURL(imgFileList.find(({\n          name\n        }) => name === `${workId}.png`))\n      };\n    });\n    console.timeEnd('getWorkList');\n    return workInfoList;\n  }\n\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd29ya1N0b3JhZ2Uvd29yay1kYXRhLnRzP2VkMGQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dvcmtTdG9yYWdlL2luZGV4LnRzPzJjZGEiXSwibmFtZXMiOlsiV29ya0luZm8iLCJjb25zdHJ1Y3RvciIsIndpZHRoIiwiaGVpZ2h0IiwibmFtZSIsInRodW1ibmFpbCIsImNyZWF0ZVRpbWUiLCJEYXRlIiwibm93IiwidXBkYXRlVGltZSIsIndvcmtJZCIsIldvcmtEZXRhaWwiLCJ3b3JrSW5mbyIsImxheWVycyIsImNyZWF0ZUVtcHR5IiwiYmFja2dyb3VuZCIsImVtcHR5VXJsIiwicHVzaCIsIkxheWVyRGV0YWlsIiwiY3JlYXRlIiwiUkdCQSIsIldISVRFIiwiY2FudmFzIiwidmlzaWJsZSIsImxheWVySWQiLCJjb2xvciIsImNyZWF0ZUNhbnZhcyIsImxheWVyIiwic2V0QXR0cmlidXRlIiwiZ2V0TGF5ZXJQYXRoIiwiZ2V0VGh1bWJuYWlsUGF0aCIsIldvcmtEZXRhaWxEZXNGaWxlIiwid29ya0RldGFpbCIsInJlc3RXb3JrSW5mbyIsIm1hcCIsInJlc3QiLCJXb3JrU3RvcmFnZSIsInNhdmVXb3JrIiwid29ya2VkZXRhaWwiLCJjb25zb2xlIiwidGltZSIsImRlc0ZpbGVEYXRlIiwic2F2ZVdvcmtJbmZvIiwiY2FudmFzRmlsZUxpc3QiLCJnZXRDYW52YXNGaWxlTGlzdCIsImkiLCJsZW5ndGgiLCJwYXRoIiwiZGF0YSIsInRvQmxvYiIsIkZpbGVBcGkiLCJzYXZlIiwidHlwZSIsInRpbWVFbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVzTGF5ZXJzIiwiY29tYmltZUNhbnZhcyIsImZvckVhY2giLCJpbmRleCIsImNhbnZhc0xpc3QiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwic2F2ZUxheWVyRGV0YWlsIiwiaW1nIiwiZmlsZSIsImdldCIsImlzRGlyIiwid29ya0RldGFpbERlc0ZpbGUiLCJwYXJzZSIsInRleHQiLCJsYXllcnREZXRhaWwiLCJmaW5kIiwiaWQiLCJzcGxpY2UiLCJyZW1vdmVXb3JrIiwibGF5ZXJEZXRhaWwiLCJ1cGRhdGVMYXllckRldGFpbCIsImxheWVyZGV0YWlscyIsImdldFdvcmtEZXRhaWwiLCJ3b3JrTGF5ZXJzIiwiY2FudmFzRmlsZU1hcCIsInJlZHVjZSIsImluZm9MaXN0IiwiY2FudmFzRmlsZSIsImNyZWF0ZUltYWdlQnlGaWxlIiwiY29weUNhbnZhcyIsImUiLCJlcnJvciIsImdldFdvcmtMaXN0Iiwid29ya0luZm9MaXN0IiwidGV4dEZpbGVMaXN0IiwiaW1nRmlsZUxpc3QiLCJQcm9taXNlIiwiYWxsIiwidGV4dExpc3QiLCJ0ZXh0RmlsZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUdBOzs7O0FBR08sTUFBTUEsa0JBQU4sQ0FBeUI7QUFFNUJDLGFBQVcsQ0FDQUMsS0FEQSxFQUVBQyxNQUZBLEVBR0FDLElBQVksR0FBRyxFQUhmLEVBSUFDLFNBSkEsRUFLQUMsVUFBa0IsR0FBR0MsSUFBSSxDQUFDQyxHQUFMLEVBTHJCLEVBTUFDLFVBQWtCLEdBQUdGLElBQUksQ0FBQ0MsR0FBTCxFQU5yQixFQU9TRSxNQUFNLEdBQUcsbUJBQVUsUUFBT0gsSUFBSSxDQUFDQyxHQUFMLEVBQVcsR0FBNUIsQ0FQbEIsRUFRVjtBQUFBLFNBUFVOLEtBT1YsR0FQVUEsS0FPVjtBQUFBLFNBTlVDLE1BTVYsR0FOVUEsTUFNVjtBQUFBLFNBTFVDLElBS1YsR0FMVUEsSUFLVjtBQUFBLFNBSlVDLFNBSVYsR0FKVUEsU0FJVjtBQUFBLFNBSFVDLFVBR1YsR0FIVUEsVUFHVjtBQUFBLFNBRlVHLFVBRVYsR0FGVUEsVUFFVjtBQUFBLFNBRG1CQyxNQUNuQixHQURtQkEsTUFDbkI7QUFBRTs7QUFWeUI7QUFhaEM7Ozs7QUFHTyxNQUFNQyxvQkFBTixDQUFzQztBQUV6Q1YsYUFBVyxDQUNBVyxRQURBLEVBRUFD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QyxlQUFKLENBQW9CTixXQUFXLENBQUNwQixJQUFaLENBQWtCLENBQUM7QUFBQ3JFO0FBQUQsU0FBRCxLQUFZQSxJQUFJLEtBQU0sR0FBRU0sTUFBTyxNQUFqRCxDQUFwQjtBQUhULE9BQVA7QUFLRixLQVBlLENBQWhCO0FBUUE2QixXQUFPLENBQUNjLE9BQVIsQ0FBZ0IsYUFBaEI7QUFDQSxXQUFPc0MsWUFBUDtBQUNIOztBQWpLNEIiLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCdcbmltcG9ydCB7IFJHQkEgfSBmcm9tICcuLi9wYWdlcy9wYWludC90b3AtdG9vbC1iYXIvdG9vbC1pdGVtL2NvbG9yLXNlbGVjdG9yL3JnYmEnO1xuaW1wb3J0IHsgY3JlYXRlQ2FudmFzLCBlbXB0eVVybCB9IGZyb20gJy4uL3V0aWwvY2FudmFzJztcblxuXG4vKipcbiAqIOS9nOWTgeeahOaPj+i/sOS/oeaBry5cbiAqL1xuZXhwb3J0IGNsYXNzIFdvcmtJbmZvPFQ9c3RyaW5nPiB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHdpZHRoOiBudW1iZXIsXG4gICAgICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcixcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyA9ICcnLCBcbiAgICAgICAgcHVibGljIHRodW1ibmFpbDogVCxcbiAgICAgICAgcHVibGljIGNyZWF0ZVRpbWU6IG51bWJlciA9IERhdGUubm93KCksXG4gICAgICAgIHB1YmxpYyB1cGRhdGVUaW1lOiBudW1iZXIgPSBEYXRlLm5vdygpLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgd29ya0lkID0gdW5pcXVlSWQoYHdvcmtfJHtEYXRlLm5vdygpfV9gKSxcbiAgICApe31cbn1cblxuLyoqXG4gKiDkvZzlk4HnmoTlhajpg6jkv6Hmga8uXG4gKi9cbmV4cG9ydCBjbGFzcyBXb3JrRGV0YWlsPFQ9SFRNTENhbnZhc0VsZW1lbnQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgd29ya0luZm86IFdvcmtJbmZvLFxuICAgICAgICBwdWJsaWMgbGF5ZXJzOiBMYXllckRldGFpbDxUPltdID0gW10sIFxuICAgICl7fVxuXG4gICAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gd2lkdGggXG4gICAgICogQHBhcmFtIGhlaWdodCBcbiAgICAgKiBAcGFyYW0gYmFja2dyb3VuZCBcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRW1wdHkod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGJhY2tncm91bmQ6IFJHQkEpe1xuICAgICAgICBjb25zdCB3b3JrSW5mbyA9IG5ldyBXb3JrSW5mbyh3aWR0aCxoZWlnaHQsJ25ldyB3b3JrJywgZW1wdHlVcmwoKSApXG4gICAgICAgIGNvbnN0IGxheWVycyA9IFtdXG4gICAgICAgIGxheWVycy5wdXNoKExheWVyRGV0YWlsLmNyZWF0ZSh3b3JrSW5mbywgUkdCQS5XSElURSkpXG4gICAgICAgIHJldHVybiBuZXcgV29ya0RldGFpbCh3b3JrSW5mbyxsYXllcnMpXG4gICAgfVxufVxuXG4vLyBleHBvcnQgZW51bSAgTGF5ZXJEZXRhaWxUeXBle1xuXG4vLyAgICAgVEVNUF9DT1ZFUj0gMSxcbiAgICBcbi8vICAgICBOT1JNQUwgPSAyLFxuLy8gfVxuXG4vKipcbiAqIOS9nOWTgeeahOWbvuWxguS/oeaBry5cbiAqL1xuZXhwb3J0IGNsYXNzIExheWVyRGV0YWlsPFQ9SFRNTENhbnZhc0VsZW1lbnQ+IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGNhbnZhczogVCxcblxuICAgICAgICBwdWJsaWMgbmFtZSA9ICduZXcgbGF5ZXInLFxuXG4gICAgICAgIHB1YmxpYyB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZSxcblxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgbGF5ZXJJZCA9IHVuaXF1ZUlkKGBsYXllci0ke0RhdGUubm93KCl9LWApXG5cbiAgICApe31cblxuICAgIHN0YXRpYyBjcmVhdGUoe3dpZHRoLCBoZWlnaHR9OiBQaWNrPFdvcmtJbmZvLCAnd2lkdGgnfCAnaGVpZ2h0Jz4sIGNvbG9yPzogUkdCQSl7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGNyZWF0ZUNhbnZhcyh3aWR0aCwgaGVpZ2h0LCBjb2xvcilcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgTGF5ZXJEZXRhaWwoY2FudmFzKVxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdsYXllcklkJywgbGF5ZXIubGF5ZXJJZClcbiAgICAgICAgcmV0dXJuIGxheWVyXG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBXb3JrRGV0YWlsLCBXb3JrSW5mbywgTGF5ZXJEZXRhaWwgfSBmcm9tIFwiLi93b3JrLWRhdGFcIlxuaW1wb3J0IHsgRmlsZUFwaSB9IGZyb20gXCIuL2ZpbGUtc3lzdGVtXCJcbmltcG9ydCB7IGNyZWF0ZUNhbnZhcywgY3JlYXRlSW1hZ2VCeUZpbGUsIHRvQmxvYiwgY29weUNhbnZhcyB9IGZyb20gXCIuLi91dGlsL2NhbnZhc1wiXG5pbXBvcnQgeyBpc051bWJlciB9IGZyb20gXCJsb2Rhc2hcIlxuZXhwb3J0IHR5cGUgV29ya0RldGFpbEZpbGUgPSBPbWl0PExheWVyRGV0YWlsLCAnY2FudmFzJz4gJiB7IGZpbGVQYXRoOiBzdHJpbmcgfVxuXG5jb25zdCBnZXRMYXllclBhdGggPSAod29ya0lkOiBzdHJpbmcsIGxheWVySWQ/OnN0cmluZykgPT4gIGxheWVySWQ/IGBsYXllcnMvJHt3b3JrSWR9LyR7bGF5ZXJJZH0ucG5nYDogYGxheWVycy8ke3dvcmtJZH1gXG5cbmNvbnN0IGdldFRodW1ibmFpbFBhdGggPSAod29ya0lkOiBzdHJpbmcpID0+IGB0aHVtYm5haWwvJHt3b3JrSWR9LnBuZ2BcblxuLy8gZXhwb3J0IGNsYXNzIFdvcmtMYXllckZpbGUge1xuXG4vLyAgICAgcHVibGljIHdvcmtMYXllcnNJZDogc3RyaW5nXG5cbi8vICAgICBwdWJsaWMgd29ya0RldGFpbEZpbGVzOiBXb3JrRGV0YWlsRmlsZVtdID0gW11cblxuLy8gICAgIGNvbnN0cnVjdG9yKHsgd29ya0xheWVyc0lkLCBsYXllcnMgfTogV29ya0xheWVycykge1xuLy8gICAgICAgICB0aGlzLndvcmtMYXllcnNJZCA9IHdvcmtMYXllcnNJZFxuLy8gICAgICAgICBsYXllcnMuZm9yRWFjaCgoeyBjYW52YXMsIGxheWVySWQsIC4uLnJlc3QgfSkgPT4ge1xuLy8gICAgICAgICAgICAgdGhpcy53b3JrRGV0YWlsRmlsZXMucHVzaCh7IC4uLnJlc3QsIGxheWVySWQsIGZpbGVQYXRoOiAgZ2V0TGF5ZXJQYXRoKHdvcmtMYXllcnNJZCwgbGF5ZXJJZCl9KVxuLy8gICAgICAgICB9KVxuLy8gICAgIH1cbi8vIH1cblxuZXhwb3J0IGNsYXNzIFdvcmtEZXRhaWxEZXNGaWxlIHtcblxuICAgIHB1YmxpYyB3b3JrSW5mbzogV29ya0luZm9cblxuICAgIHB1YmxpYyBsYXllcnM6IExheWVyRGV0YWlsPHN0cmluZz5bXVxuXG4gICAgY29uc3RydWN0b3Iod29ya0RldGFpbDogV29ya0RldGFpbCkge1xuICAgICAgICBjb25zdCB7IHdvcmtJbmZvLCBsYXllcnMgfSA9IHdvcmtEZXRhaWxcbiAgICAgICAgY29uc3QgeyB0aHVtYm5haWwsIHdvcmtJZCwgLi4ucmVzdFdvcmtJbmZvIH0gPSB3b3JrSW5mb1xuICAgICAgICB0aGlzLndvcmtJbmZvID0geyB3b3JrSWQsIC4uLnJlc3RXb3JrSW5mbywgdGh1bWJuYWlsOiBnZXRUaHVtYm5haWxQYXRoKHdvcmtJZCkgfVxuICAgICAgICB0aGlzLmxheWVycyA9IGxheWVycy5tYXAoKHtjYW52YXMsIGxheWVySWQsIC4uLnJlc3QgfSk9Pih7IGxheWVySWQsIC4uLnJlc3QsIGNhbnZhczogZ2V0TGF5ZXJQYXRoKHdvcmtJZCwgbGF5ZXJJZCkgfSkgIClcbiAgICAgIH1cbn1cblxuXG4vKipcbiAqIOWvueS9nOWTgeeahOaMgeS5heWMluWtmOWCqOaTjeS9nOeahOS4remXtOaOpeWPoy5cbiAqIGRlczogd29ya2luZm86XG4gKiAgICAgIGNvbnRlbnQ6ICBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya1N0b3JhZ2Uge1xuXG4gICAgLyoqXG4gICAgICog5re75Yqg5L2c5ZOBLlxuICAgICAqIEBwYXJhbSB3b3JrZWRldGFpbCBcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgc2F2ZVdvcmsod29ya2VkZXRhaWw6IFdvcmtEZXRhaWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYoIXdvcmtlZGV0YWlsKSByZXR1cm5cbiAgICAgICAgY29uc29sZS50aW1lKCdzYXZlV29yaycpXG4gICAgICAgIGNvbnN0IGRlc0ZpbGVEYXRlID0gbmV3IFdvcmtEZXRhaWxEZXNGaWxlKHdvcmtlZGV0YWlsKVxuICAgICAgICBhd2FpdCB0aGlzLnNhdmVXb3JrSW5mbyhkZXNGaWxlRGF0ZSlcbiAgICAgICAgY29uc3QgY2FudmFzRmlsZUxpc3QgPSB0aGlzLmdldENhbnZhc0ZpbGVMaXN0KHdvcmtlZGV0YWlsLCBkZXNGaWxlRGF0ZSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYW52YXNGaWxlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyBwYXRoLCBjYW52YXMgfSA9IGNhbnZhc0ZpbGVMaXN0W2ldXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdG9CbG9iKGNhbnZhcylcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgRmlsZUFwaS5zYXZlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlL3BuZycsXG4gICAgICAgICAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ3NhdmVXb3JrJylcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgc2F2ZVdvcmtJbmZvKGRlc0ZpbGVEYXRlOiBXb3JrRGV0YWlsRGVzRmlsZSl7XG4gICAgICBhd2FpdCBGaWxlQXBpLnNhdmUoe1xuICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICBwYXRoOiBgJHtkZXNGaWxlRGF0ZS53b3JrSW5mby53b3JrSWR9Lmpzb25gLFxuICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRlc0ZpbGVEYXRlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGdldENhbnZhc0ZpbGVMaXN0KHdvcmtlZGV0YWlsOiBXb3JrRGV0YWlsLCBkZXNGaWxlRGF0ZTogV29ya0RldGFpbERlc0ZpbGUpIHtcbiAgICAgICAgY29uc3QgeyAgbGF5ZXJzICB9ID0gd29ya2VkZXRhaWxcbiAgICAgICAgY29uc3QgeyBsYXllcnM6IGRlc0xheWVycyB9ID0gZGVzRmlsZURhdGVcbiAgICAgICAgY29uc3QgdGh1bWJuYWlsID0ge1xuICAgICAgICAgICAgcGF0aDogZGVzRmlsZURhdGUud29ya0luZm8udGh1bWJuYWlsLFxuICAgICAgICAgICAgY2FudmFzOiB0aGlzLmNvbWJpbWVDYW52YXMoMTAwLCAxMDAsIGxheWVycy5tYXAoKHsgY2FudmFzIH0pID0+IGNhbnZhcykpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FudmFzRmlsZUxpc3Q6IHsgcGF0aDogc3RyaW5nLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IH1bXSA9IFt0aHVtYm5haWxdXG4gICAgICAgIGxheWVycy5mb3JFYWNoKCh7IGNhbnZhcyB9LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY2FudmFzRmlsZUxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgY2FudmFzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGRlc0xheWVyc1tpbmRleF0uY2FudmFzXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gY2FudmFzRmlsZUxpc3RcbiAgICB9XG5cbiAgXG5cbiAgICBwcm90ZWN0ZWQgc3RhdGljIGNvbWJpbWVDYW52YXMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNhbnZhc0xpc3Q6IEhUTUxDYW52YXNFbGVtZW50W10pIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY3JlYXRlQ2FudmFzKHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IGNhbnZhc0xpc3QubGVuZ3RoLTE7IGk+IC0xOyBpLS0pe1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc0xpc3RbaV1cbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGNhbnZhcywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW52YXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliKDpmaTkvZzlk4EuXG4gICAgICogQHBhcmFtIHdvcmtJZCBcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgc2F2ZUxheWVyRGV0YWlsKHdvcmtJZDogc3RyaW5nLCBsYXllcjogTGF5ZXJEZXRhaWwsIGluZGV4PzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICBjb25zdCB7Y2FudmFzLCBsYXllcklkLCAuLi5yZXN0fSA9IGxheWVyXG4gICAgICBjb25zdCBpbWcgPSBhd2FpdCB0b0Jsb2IoY2FudmFzKVxuICAgICAgICBpZighaW1nKSByZXR1cm5cbiAgICAgICAgRmlsZUFwaS5zYXZlKHsgXG4gICAgICAgICAgdHlwZTonaW1hZ2UvcG5nJyxcbiAgICAgICAgICBwYXRoOiBnZXRMYXllclBhdGgod29ya0lkLCBsYXllcklkKSxcbiAgICAgICAgICBkYXRhOiBpbWcsXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IFtmaWxlXSA9IGF3YWl0IEZpbGVBcGkuZ2V0KGAke3dvcmtJZH0uanNvbmAsIHtpc0RpcjogZmFsc2V9KVxuICAgICAgICBjb25zdCB3b3JrRGV0YWlsRGVzRmlsZTogV29ya0RldGFpbERlc0ZpbGUgPSBKU09OLnBhcnNlKCBhd2FpdCBmaWxlLnRleHQoKSApXG4gICAgICAgIGNvbnN0IGxheWVydERldGFpbCA9IHdvcmtEZXRhaWxEZXNGaWxlLmxheWVycy5maW5kKCh7bGF5ZXJJZDogaWR9KSA9PiBpZCA9PT0gbGF5ZXJJZClcbiAgICAgICAgaWYoIWxheWVydERldGFpbCYmIGlzTnVtYmVyKGluZGV4KSl7XG4gICAgICAgICAgd29ya0RldGFpbERlc0ZpbGUubGF5ZXJzLnNwbGljZShpbmRleCwgMCwgeyBjYW52YXM6IGdldExheWVyUGF0aCh3b3JrSWQsIGxheWVySWQpLCBsYXllcklkLCAuLi5yZXN0IH0gKVxuICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVdvcmtJbmZvKHdvcmtEZXRhaWxEZXNGaWxlKVxuICAgICAgICB9XG4gICAgICAgIGlmKGxheWVydERldGFpbCYmaXNOdW1iZXIoaW5kZXgpKXtcbiAgICAgICAgICB0aHJvdyAnYWRkIGxheWVyIGZhaWw6ICcgKyBsYXllcklkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIHVwZGF0ZSB3b3JrSW5mb1xuICAgIH1cblxuICBcbiAgICBzdGF0aWMgYXN5bmMgcmVtb3ZlV29yayhsYXllckRldGFpbDogTGF5ZXJEZXRhaWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy9UT0RPICBJbXBsZW1lbnQuXG4gICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmm7TmlrDkvZzlk4HnmoTlhoXlrrksIOatpOaXtuS8muiHquWKqOabtOaWsCBXb3JrSW5mbyDnmoQgdXBkYXRlVGltZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgdXBkYXRlTGF5ZXJEZXRhaWwod29ya0lkOiBzdHJpbmcsIGxheWVyZGV0YWlsczogTGF5ZXJEZXRhaWxbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvL1RPRE8gIEltcGxlbWVudC5cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOagueaNruS9nOWTgWlk6I635Y+W5oyH5a6a5L2c5ZOB55qE5omA5pyJ5L+h5oGvLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB3b3JrSWQg5L2c5ZOBSUQuXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGdldFdvcmtEZXRhaWwod29ya0lkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtEZXRhaWw+IHtcbiAgICAgICAgY29uc29sZS50aW1lKCdnZXRXb3JrRGV0YWlsJylcbiAgICAgICAgY29uc3QgW2ZpbGVdID0gYXdhaXQgRmlsZUFwaS5nZXQoYCR7d29ya0lkfS5qc29uYCx7aXNEaXI6IGZhbHNlfSlcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpXG4gICAgICAgIGNvbnN0IHsgd29ya0luZm8sIGxheWVycyB9OiBXb3JrRGV0YWlsRGVzRmlsZSA9IEpTT04ucGFyc2UodGV4dClcbiAgICAgICAgY29uc3Qgd29ya0xheWVyczogTGF5ZXJEZXRhaWxbXSA9IFtdXG4gICAgICAgIGNvbnN0IGNhbnZhc0ZpbGVNYXA6IHtbaW5kZXg6IHN0cmluZ106IEZpbGV9ID0gKGF3YWl0IEZpbGVBcGkuZ2V0KGdldExheWVyUGF0aCh3b3JrSWQpLCB7IGlzRGlyOiB0cnVlfSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobWFwLCBmaWxlKSA9PiAoey4uLm1hcCwgW2ZpbGUubmFtZV06ZmlsZX0pLCB7fSlcbiAgICAgICAgY29uc3QgaW5mb0xpc3QgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyBsYXllcklkLCB2aXNpYmxlLCBuYW1lIH0gPSBsYXllcnNbaV1cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc0ZpbGUgPSBjYW52YXNGaWxlTWFwW2Ake2xheWVySWR9LnBuZ2BdXG4gICAgICAgICAgICBpZihjYW52YXNGaWxlKXtcbiAgICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBhd2FpdCBjcmVhdGVJbWFnZUJ5RmlsZShjYW52YXNGaWxlKVxuICAgICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gY29weUNhbnZhcyhpbWcpXG4gICAgICAgICAgICAgICAgICBpbmZvTGlzdC5wdXNoKHtjYW52YXMsIG5hbWUsIHZpc2libGUsIGxheWVySWR9KVxuICAgICAgICAgICAgICAgIH1jYXRjaChlKXtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobGF5ZXJJZCwgJ2RlY29kZSBmYWlsZWQnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ25vIG1hdGNoIGZpbGUnICsgbGF5ZXJJZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmZvTGlzdC5mb3JFYWNoKCAoe2NhbnZhcywgbmFtZSwgdmlzaWJsZSwgbGF5ZXJJZCB9LCBpbmRleCkgPT4ge1xuICAgICAgICAgICBjb25zdCBsYXllckRldGFpbCA9IG5ldyBMYXllckRldGFpbCggY2FudmFzICwgbmFtZSwgdmlzaWJsZSwgbGF5ZXJJZClcbiAgICAgICAgICAgd29ya0xheWVycy5wdXNoKGxheWVyRGV0YWlsKVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2dldFdvcmtEZXRhaWwnKVxuICAgICAgICByZXR1cm4gbmV3IFdvcmtEZXRhaWwod29ya0luZm8sIHdvcmtMYXllcnMpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W5L2c5ZOB5o+P6L+w5L+h5oGv5YiX6KGoLlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRXb3JrTGlzdCgpOiBQcm9taXNlPFdvcmtJbmZvW10+IHtcbiAgICAgICAgY29uc29sZS50aW1lKCdnZXRXb3JrTGlzdCcpXG4gICAgICAgIGxldCB3b3JrSW5mb0xpc3Q6IFdvcmtJbmZvW107XG4gICAgICAgIGNvbnN0IFt0ZXh0RmlsZUxpc3QsIGltZ0ZpbGVMaXN0XSA9YXdhaXQgUHJvbWlzZS5hbGwoW0ZpbGVBcGkuZ2V0KCcnLCB7aXNEaXI6IHRydWV9KSwgRmlsZUFwaS5nZXQoJ3RodW1ibmFpbCcsIHtpc0Rpcjp0cnVlfSldKVxuICAgICAgICBjb25zdCB0ZXh0TGlzdCA9IGF3YWl0IFByb21pc2UuYWxsKCB0ZXh0RmlsZUxpc3QubWFwKCB0ZXh0RmlsZSA9PnRleHRGaWxlLnRleHQoKSApIClcbiAgICAgICAgd29ya0luZm9MaXN0ID0gIHRleHRMaXN0Lm1hcCggdGV4dCA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHdvcmtJbmZvOiB7IHRodW1ibmFpbCwgd29ya0lkLC4uLnJlc3QgfSB9OiBXb3JrRGV0YWlsRGVzRmlsZSA9IEpTT04ucGFyc2UodGV4dClcbiAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICAgIHdvcmtJZCxcbiAgICAgICAgICAgICAgICB0aHVtYm5haWw6IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1nRmlsZUxpc3QuZmluZCggKHtuYW1lfSkgPT4gbmFtZSA9PT0gYCR7d29ya0lkfS5wbmdgICkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2dldFdvcmtMaXN0JylcbiAgICAgICAgcmV0dXJuIHdvcmtJbmZvTGlzdFxuICAgIH1cblxufVxuXG5leHBvcnQge1xuICAgIFdvcmtJbmZvLFxuICAgIFdvcmtEZXRhaWwsXG4gICAgTGF5ZXJEZXRhaWxcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///58\n")},function(module,exports,__webpack_require__){eval("var baseGetTag = __webpack_require__(60),\n    isObjectLike = __webpack_require__(61);\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTnVtYmVyLmpzPzUwMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsRUFBZTtBQUN4QyxtQkFBbUIsbUJBQU8sQ0FBQyxFQUFnQjs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsRUFBRTtBQUNiLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBOdW1iZXJgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gKiBjbGFzc2lmaWVkIGFzIG51bWJlcnMsIHVzZSB0aGUgYF8uaXNGaW5pdGVgIG1ldGhvZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTnVtYmVyKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc051bWJlcignMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IG51bWJlclRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOdW1iZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///59\n")},function(module,exports){eval("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzPzM3MjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///60\n")},function(module,exports){eval("/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcz8xMzEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///61\n")},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcz9mYWExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLGlDQUFpQyxRQUFRO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEseUJBQXlCO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI3NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///75\n")}]]);