(window.webpackJsonp=window.webpackJsonp||[]).push([[1,11,16],{16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"RGBA",(function(){return RGBA})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RGBA=function(){function RGBA(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,RGBA),this.r=e,this.g=t,this.b=r,this.a=o}return _createClass(RGBA,null,[{key:"Lerp",value:function(e,t,r){for(var o=[],n=(t.r-e.r)/r,a=(t.g-e.g)/r,l=(t.b-e.b)/r,i=(t.a-e.a)/r,c=0;c<r;c++)o.push(new RGBA(e.r+n*c,e.g+a*c,e.b+l*c,e.a+i*c));return o}},{key:"mutipy",value:function(e,t){return new RGBA(e.r*t,e.g*t,e.b*t)}},{key:"add",value:function(e,t){var r=e.r,o=e.g,n=e.b;return new RGBA(r+t.r,o+t.g,n+t.b)}},{key:"getLerpColor",value:function(e,t,r){var o=e.r,n=e.g,a=e.b,l=e.a;return new RGBA((t.r-o)*r+o,(t.g-n)*r+n,(t.b-a)*r+a,(t.a-l)*r+l)}}]),_createClass(RGBA,[{key:"toColorString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RGBA}(),reactHotLoader,leaveModule;RGBA.black=new RGBA(255,255,255),RGBA.white=new RGBA(0,0,0),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RGBA,"RGBA","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\rgba.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(8)(module))},17:function(e,t,r){"use strict";r.r(t),function(e){var o,n=r(36),a=r.n(n),l=r(0),i=r.n(l),c=r(26),u=r.n(c),s=r(16);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],o=!0,n=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var b,y,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=function(e,t,r){var o=t.pixX,n=t.pixY,a=t.pixR,l=t.pixWidth,i=t.start,c=t.end,u=a-l,s={x:o+Math.cos(i)*u,y:n+Math.sin(i)*u},d={x:o+Math.cos(i)*a,y:n+Math.sin(i)*a},f={x:o+Math.cos(c)*u,y:n+Math.sin(c)*u},p=r.toColorString();e.beginPath(),e.fillStyle=p,e.strokeStyle=p,e.moveTo(s.x,s.y),e.lineTo(d.x,d.y),e.arc(o,n,a,i,c),e.lineTo(f.x,f.y),e.arc(o,n,u,c,i,!0),e.closePath(),e.fill(),e.stroke()},x=function(e,t){for(var r=[new s.RGBA(255,0,0),new s.RGBA(255,255,0),new s.RGBA(0,255,0),new s.RGBA(0,255,255),new s.RGBA(0,0,255),new s.RGBA(255,0,255),new s.RGBA(255,0,0)],o=2*Math.PI/6,n=0;n<r.length-1;n++)for(var a=s.RGBA.Lerp(r[n],r[n+1],255),l=n*o,i=((n+1)*o-l)/a.length,c=0;c<a.length-1;c++)h(e,p({},t,{start:l+i*c,end:l+i*(c+1)}),a[c])},w=function(e,t,r){var o=t.pixX,n=t.pixY,a=t.pixR,l=t.pixWidth,i=Math.sin(.25*Math.PI)*(a-l),c=2*i;e.clearRect(o-i,n-i,c,c);var u=e.createLinearGradient(o-i,n+i,o-i,n-i);u.addColorStop(0,r),u.addColorStop(1,"white"),e.fillStyle=u,e.fillRect(o-i,n-i,c,c);var s=e.createLinearGradient(o-i,n-i,o+i,n-i);s.addColorStop(0,"black"),s.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=s,e.fillRect(o-i,n-i,c,c)},G=function(e,t){var r=t.x,o=t.y,n=t.width,a=t.r,l=Math.sin(.25*Math.PI)*(a-n),i=r-l,c=r+l,u=o-l,s=o+l;return e.x>i&&e.x<c&&e.y>u&&e.y<s},m=function(e,t){var r=t.x,o=t.y,n=t.width,a=t.r,l=Math.pow(e.x-r,2)+Math.pow(e.y-o,2),i=Math.pow(a,2);return l>Math.pow(a-n,2)&&l<i?"circle":G(e,t)?"round":null},P=function(e,t){var r=t.x,o=t.y,n=t.width,a=t.r-.5*n,l=e.x-r,i=e.y-o,c=Math.sqrt(Math.pow(l,2)+Math.pow(i,2));return{x:r+l*a/c,y:o+i*a/c}},_=function(e,t){var r=t.x,o=t.y,n=t.width,a=t.r,l=(Math.sin(.25*Math.PI),e.x-r),i=e.y-o;Math.sqrt(Math.pow(l,2)+Math.pow(i,2));if(G(e,t))return e},R=function(e,t){for(var r=t.x,o=t.y,n=e.x-r,a=o-e.y,l=Math.atan2(a,n),i=1-(l>=0?l:l+2*Math.PI)/(2*Math.PI),c=[new s.RGBA(255,0,0),new s.RGBA(255,255,0),new s.RGBA(0,255,0),new s.RGBA(0,255,255),new s.RGBA(0,0,255),new s.RGBA(255,0,255),new s.RGBA(255,0,0)],u=0;u<6;u++){var d=u*(1/6),f=(u+1)*(1/6);if(i>d&&i<f)return s.RGBA.getLerpColor(c[u],c[u+1],1-(f-i)/(1/6));if(i===d)return c[u];if(i===f)return c[u+1]}return s.RGBA.black},M=function(e,t,r,o,n){var a=r-n,l=o-n,i=2*n,c=(e.y-l)/i,u=(e.x-a)/i;return s.RGBA.mutipy(s.RGBA.add(s.RGBA.mutipy(t,c),s.RGBA.mutipy(s.RGBA.black,1-c)),u)},A=a()((function(e,t,r,o){var n=R(t,{x:o.x,y:o.y}),a=Math.cos(.25*Math.PI)*o.r-o.width;e&&e(M(r,n,o.x,o.y,a))}),200),B=function(e){var t=e.value,r=e.onChange,o=d(Object(l.useState)({x:0,y:0}),2),n=o[0],a=o[1],c=d(Object(l.useState)({x:0,y:0}),2),s=c[0],f=c[1],p=d(Object(l.useState)(null),2),v=p[0],b=p[1],y=d(Object(l.useState)(),2),g=y[0],h=y[1],G=d(Object(l.useState)(),2),M=G[0],B=G[1],S=Object(l.useRef)({isSelecting:!1}),L=Object(l.useRef)(null);Object(l.useEffect)((function(){console.log(t)}),[t]),Object(l.useEffect)((function(){if(L.current){var e=L.current.getContext("2d"),t=L.current.clientWidth*devicePixelRatio;if(L.current.width=t,L.current.height=t,e){B(e);var r=.5*L.current.clientWidth,o=.5*L.current.width,n={x:r,y:r,r:r-10,width:30,pixX:o,pixY:o,pixR:o-10*devicePixelRatio,pixWidth:30*devicePixelRatio};x(e,n),w(e,n,"rgb(255,0,0)"),h(n),a({x:r+n.r,y:r}),f({x:r,y:r})}}}),[L.current]);return Object(l.useMemo)((function(){return g&&A(r,n,s,g)}),[n,s]),i.a.createElement("div",{className:u.a.colorPannelWrap},i.a.createElement("canvas",{ref:L,className:u.a.colorPannel}),i.a.createElement("div",{className:u.a.circlePoint,style:{transform:"translate3d(".concat(n.x-5,"px, ").concat(n.y-5,"px, 0)")}}),i.a.createElement("div",{style:{transform:"translate3d(".concat(s.x-5,"px, ").concat(s.y-5,"px, 0)")},className:u.a.selectPoint}),i.a.createElement("div",{className:u.a.canvasCover,onPointerDown:function(e){var t=e.nativeEvent,r=t.offsetX,o=t.offsetY;if(console.log("down..."),g){S.current.isSelecting=!0,b(m({x:r,y:o},g));var n=m({x:r,y:o},g);"circle"===n&&a({x:r,y:o}),"round"===n&&f({x:r,y:o})}},onPointerUp:function(){console.log("out..."),S.current.isSelecting=!1,b(null)},onPointerMove:function(e){var t=e.nativeEvent,r=t.offsetX,o=t.offsetY;if(S.current.isSelecting&&g&&v){if("circle"===v&&M){a(P({x:r,y:o},g));var n=R({x:r,y:o},{x:g.x,y:g.y});w(M,g,n.toColorString())}if("round"===v){var l=_({x:r,y:o},g);l&&f(l)}}}}))};g(B,"useState{[circlePoint, setCirclePoint]({x: 0, y:0})}\nuseState{[ selectPoint, setSelectPoint ]({x: 0, y:0})}\nuseState{[ pointType,  setPointType ](null)}\nuseState{[cirleInfo, setCircleInfo ]}\nuseState{[ctx, setCtx]}\nuseRef{operateInfo}\nuseRef{canvas}\nuseEffect{}\nuseEffect{}\nuseMemo{}"),t.default=B,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(h,"drawCircleFragment","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(x,"drawCircle","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(w,"drawSelectArea","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(G,"isInSelectArea","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(m,"getPointType","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(P,"getCirclePosition","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(_,"getSelectPoint","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(R,"getStandardColor","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(M,"getSelectColor","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(A,"handleChange","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx"),b.register(B,"default","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\color-pannel.tsx")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)}.call(this,r(8)(e))},20:function(e,t,r){"use strict";r.r(t),function(e){var o,n=r(0),a=r.n(n),l=r(4);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,c,u=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);return a.a.createElement(n.Fragment,null,a.a.createElement(l.default,{onChange:function(e){}}))};t.default=u,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(u,"default","D:\\code\\WebPencil\\src\\pages\\paint\\TopToolBar.tsx"),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}.call(this,r(8)(e))},26:function(e,t,r){e.exports={colorBar:"colorBar_ca9ba",colorPannelWrap:"colorPannelWrap_958de",colorPannel:"colorPannel_5cd66",circlePoint:"circlePoint_73c37",selectPoint:"selectPoint_9bef5",canvasCover:"canvasCover_d4f17"}},35:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},36:function(e,t,r){var o=r(35),n=r(37),a=r(38),l=Math.max,i=Math.min;e.exports=function(e,t,r){var c,u,s,d,f,p,v=0,b=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=c,o=u;return c=u=void 0,v=t,d=e.apply(o,r)}function x(e){return v=e,f=setTimeout(G,t),b?h(e):d}function w(e){var r=e-p;return void 0===p||r>=t||r<0||y&&e-v>=s}function G(){var e=n();if(w(e))return m(e);f=setTimeout(G,function(e){var r=t-(e-p);return y?i(r,s-(e-v)):r}(e))}function m(e){return f=void 0,g&&c?h(e):(c=u=void 0,d)}function P(){var e=n(),r=w(e);if(c=arguments,u=this,p=e,r){if(void 0===f)return x(p);if(y)return clearTimeout(f),f=setTimeout(G,t),h(p)}return void 0===f&&(f=setTimeout(G,t)),d}return t=a(t)||0,o(r)&&(b=!!r.leading,s=(y="maxWait"in r)?l(a(r.maxWait)||0,t):s,g="trailing"in r?!!r.trailing:g),P.cancel=function(){void 0!==f&&clearTimeout(f),v=0,c=p=u=f=void 0},P.flush=function(){return void 0===f?d:m(n())},P}},37:function(e,t,r){var o=r(32);e.exports=function(){return o.Date.now()}},38:function(e,t){e.exports=function(e){return e}},4:function(e,t,r){"use strict";r.r(t),function(e){var o,n=r(0),a=r.n(n),l=r(26),i=r.n(l),c=r(1),u=r(17);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],o=!0,n=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(o=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,f,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=function(e){var t=e.value,r=e.onChange,o=s(Object(n.useState)(!1),2),l=o[0],d=o[1],f=function(){d((function(e){return!e}))};return a.a.createElement(n.Fragment,null,a.a.createElement("div",{style:{backgroundColor:t&&t.toColorString()},className:i.a.colorBar,onClick:f}),a.a.createElement(c.Drawer,{title:"colors",visible:l,onClose:f},a.a.createElement(u.default,{value:t,onChange:r})))};p(v,"useState{[showColorPanel, setShowColorPannel](false)}"),t.default=v,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(v,"default","D:\\code\\WebPencil\\src\\pages\\paint\\tool-item\\color-selector\\index.tsx"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}.call(this,r(8)(e))}}]);