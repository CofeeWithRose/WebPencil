(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"BrushStatus",(function(){return BrushStatus})),__webpack_require__.d(__webpack_exports__,"BrushType",(function(){return BrushType})),__webpack_require__.d(__webpack_exports__,"Brush",(function(){return Brush}));var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),enterModule;function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],a=!0,o=!1,n=void 0;try{for(var _,u=e[Symbol.iterator]();!(a=(_=u.next()).done)&&(r.push(_.value),!t||r.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw n}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BrushStatus=function(){function BrushStatus(e,t,r,a,o){_classCallCheck(this,BrushStatus),this.x=e,this.y=t,this.pressure=r,this.tiltX=a,this.tiltY=o}return _createClass(BrushStatus,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BrushStatus}(),BrushType;!function(e){e[e.pen=1]="pen",e[e.selector=2]="selector"}(BrushType||(BrushType={}));var Brush=function(){function Brush(){_classCallCheck(this,Brush),this.type=BrushType.pen,this.name="default",this.isPainting=!1,this.lastBrush=void 0,this.lastVerPath=void 0,this.getVerticalPath=function(e,t){return[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.add(e,t),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(e,t)]}}return _createClass(Brush,[{key:"onStart",value:function(e,t){var r=t.curCanvasContext2D,a=t.color,o=t.brushWidth;this.lastBrush=e,this.isPainting=!0,r.fillStyle=a,r.beginPath(),r.moveTo(e.x,e.y),r.arc(e.x,e.y,o*e.pressure*.5,0,2*Math.PI),r.closePath(),r.fill()}},{key:"onDraw",value:function(e,t){var r=this;if(this.isPainting){var a=t.curCanvasContext2D,o=t.brushWidth;a.beginPath(),e.forEach((function(e){var t,n,_,u=e.x,i=e.y,l=e.pressure,c=new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a(u-r.lastBrush.x,i-r.lastBrush.y),s=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.normalize(c),d=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.vertical(s);if(r.lastVerPath)n=r.lastVerPath[0],_=r.lastVerPath[1];else{t=r.lastBrush.pressure*o*.5;var h=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),y=_slicedToArray(r.getVerticalPath(r.lastBrush,h),2);n=y[0],_=y[1]}t=l*o*.5;var f=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(d,t),p=_slicedToArray(r.getVerticalPath(e,f),2),v=p[0],b=p[1];a.moveTo(n.x,n.y),a.lineTo(_.x,_.y),a.lineTo(v.x,v.y),a.lineTo(b.x,b.y),a.lineTo(n.x,n.y),r.lastBrush=e,r.lastVerPath=[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(b,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(s,.5)),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(v,_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(s,.5))]})),a.closePath(),a.fill()}}},{key:"onEnd",value:function(e,t){this.isPainting=!1,this.lastVerPath=null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Brush}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BrushStatus,"BrushStatus","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx"),reactHotLoader.register(Brush,"Brush","/Users/muyin/Documents/code/WebPencil/src/pages/paint/top-tool-bar/tool-item/brush/index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(12)(module))},52:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"normalize",value:function(e){var t=1/Vector2.magnitude(e);return new Vector2(e.x*t,e.y*t)}},{key:"vertical",value:function(e){var t=e.x;return new Vector2(e.y,-t)}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var a=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),o=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(o-a)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),a=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(a)*r,Math.sin(a)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var a=r.x-t.x,o=r.y-t.y;return new Vector2(e.x+a,e.y+o)}},{key:"floor",value:function(e){var t=e.x,r=e.y;return new Vector2(Math.floor(t),Math.floor(r))}}]),Vector2}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","/Users/muyin/Documents/code/WebPencil/src/util/data/Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(12)(module))}}]);