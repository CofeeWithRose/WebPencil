(window.webpackJsonp=window.webpackJsonp||[]).push([[13,22],{20:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushStatus", function() { return BrushStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrushType", function() { return BrushType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractBrush", function() { return AbstractBrush; });\nclass BrushStatus {\n  constructor(x, y, pressure, tiltX, tiltY) {\n    this.x = x;\n    this.y = y;\n    this.pressure = pressure;\n    this.tiltX = tiltX;\n    this.tiltY = tiltY;\n  }\n\n}\nlet BrushType;\n\n(function (BrushType) {\n  BrushType[BrushType["pen"] = 1] = "pen";\n  BrushType[BrushType["selector"] = 2] = "selector";\n})(BrushType || (BrushType = {}));\n\nclass AbstractBrush {\n  constructor(type, name) {\n    this.type = type;\n    this.name = name;\n  }\n\n  init() {}\n\n  destory() {}\n\n  onStart(status, context) {}\n\n  onDraw(brushStatus, contx) {}\n\n  onEnd(brushStatus, contx) {}\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC90eXBlcy50cz9lMTdhIl0sIm5hbWVzIjpbIkJydXNoU3RhdHVzIiwiY29uc3RydWN0b3IiLCJ4IiwieSIsInByZXNzdXJlIiwidGlsdFgiLCJ0aWx0WSIsIkJydXNoVHlwZSIsIkFic3RyYWN0QnJ1c2giLCJ0eXBlIiwibmFtZSIsImluaXQiLCJkZXN0b3J5Iiwib25TdGFydCIsInN0YXR1cyIsImNvbnRleHQiLCJvbkRyYXciLCJicnVzaFN0YXR1cyIsImNvbnR4Iiwib25FbmQiXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQU8sTUFBTUEsV0FBTixDQUFrQjtBQUN2QkMsYUFBVyxDQUVTQyxDQUZULEVBSVNDLENBSlQsRUFNU0MsUUFOVCxFQVFTQyxLQVJULEVBVVNDLEtBVlQsRUFXVDtBQUFBLFNBVGtCSixDQVNsQixHQVRrQkEsQ0FTbEI7QUFBQSxTQVBrQkMsQ0FPbEIsR0FQa0JBLENBT2xCO0FBQUEsU0FMa0JDLFFBS2xCLEdBTGtCQSxRQUtsQjtBQUFBLFNBSGtCQyxLQUdsQixHQUhrQkEsS0FHbEI7QUFBQSxTQURrQkMsS0FDbEIsR0FEa0JBLEtBQ2xCO0FBQUc7O0FBWmtCO0FBZ0JsQixJQUFLQyxTQUFaOztXQUFZQSxTO0FBQUFBLFcsQ0FBQUEsUztBQUFBQSxXLENBQUFBLFM7R0FBQUEsUyxLQUFBQSxTOztBQU9MLE1BQWVDLGFBQWYsQ0FBNkI7QUFDbENQLGFBQVcsQ0FDT1EsSUFEUCxFQUVPQyxJQUZQLEVBR1Q7QUFBQSxTQUZnQkQsSUFFaEIsR0FGZ0JBLElBRWhCO0FBQUEsU0FEZ0JDLElBQ2hCLEdBRGdCQSxJQUNoQjtBQUFFOztBQUVKQyxNQUFJLEdBQVMsQ0FBRTs7QUFFZkMsU0FBTyxHQUFTLENBQUU7O0FBRWxCQyxTQUFPLENBQUNDLE1BQUQsRUFBc0JDLE9BQXRCLEVBQXFELENBQUU7O0FBRTlEQyxRQUFNLENBQUNDLFdBQUQsRUFBNkJDLEtBQTdCLEVBQXlELENBQUU7O0FBRWpFQyxPQUFLLENBQUNGLFdBQUQsRUFBMkJDLEtBQTNCLEVBQXdELENBQUU7O0FBZDdCIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUENhbnZhc0NvbnRleHQgfSBmcm9tIFwiQC9wYWdlcy9wYWludC9wY2FudmFzL3BjYW52YXMuY29udGV4dFwiXG5cbmV4cG9ydCBjbGFzcyBCcnVzaFN0YXR1cyB7XG4gIGNvbnN0cnVjdG9yKFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgeDogbnVtYmVyLFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgeTogbnVtYmVyLFxuXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgcHJlc3N1cmU6IG51bWJlcixcblxuICAgICAgcHVibGljIHJlYWRvbmx5IHRpbHRYOiBudW1iZXIsXG5cbiAgICAgIHB1YmxpYyByZWFkb25seSB0aWx0WTogbnVtYmVyLFxuICApIHsgfVxuXG59XG5cbmV4cG9ydCBlbnVtIEJydXNoVHlwZSB7XG5cbiAgcGVuID0gMSxcblxuICBzZWxlY3RvciA9IDIsXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEJydXNoIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IEJydXNoVHlwZSwgXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZ1xuICApIHt9XG5cbiAgaW5pdCgpOiB2b2lkIHt9XG5cbiAgZGVzdG9yeSgpOiB2b2lkIHt9XG5cbiAgb25TdGFydChzdGF0dXM6IEJydXNoU3RhdHVzLCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dCk6IHZvaWQge31cblxuICBvbkRyYXcoYnJ1c2hTdGF0dXM6IEJydXNoU3RhdHVzW10sIGNvbnR4OiBQQ2FudmFzQ29udGV4dCk6IHZvaWR7fVxuXG4gIG9uRW5kKGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1cywgY29udHg6IFBDYW52YXNDb250ZXh0KTogdm9pZCB7fVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n')},3:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Brush", function() { return Brush; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20);\n\n/**\n * 带压感的brush，bug待修复.\n * 根据移动，与context, 控制画出的形状并填充.\n */\n\nclass Brush {\n  constructor() {\n    this.type = _types__WEBPACK_IMPORTED_MODULE_0__["BrushType"].pen;\n    this.name = \'default\';\n    this.isPainting = false;\n    this.pathList = [];\n    this.animeHandle = void 0;\n\n    this.paintPath = ctx => {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.beginPath();\n      const f = this.pathList[0];\n      ctx.moveTo(f.x, f.y);\n\n      for (let i = 1; i < this.pathList.length; i++) {\n        const {\n          x,\n          y\n        } = this.pathList[i];\n        ctx.lineTo(x, y);\n      }\n\n      ctx.stroke();\n    };\n  }\n\n  init() {}\n\n  destory() {}\n\n  onStart(status, context) {\n    const {\n      curCanvasContext2D: ctx,\n      color,\n      brushWidth\n    } = context;\n    this.isPainting = true;\n    this.pathList.push(status);\n    ctx.strokeStyle = color;\n    ctx.lineWidth = brushWidth;\n    ctx.lineCap = \'round\';\n    ctx.lineJoin = "round";\n  }\n\n  onDraw(brushStatus, contx) {\n    if (this.isPainting) {\n      const {\n        curCanvasContext2D: ctx\n      } = contx;\n\n      for (let i = 0; i < brushStatus.length; i++) {\n        this.pathList.push(brushStatus[i]);\n      }\n\n      cancelAnimationFrame(this.animeHandle);\n      this.animeHandle = requestAnimationFrame(() => {\n        this.paintPath(ctx);\n      });\n    }\n  }\n\n  onEnd(brushStatus, {\n    onBrushEnd\n  }) {\n    requestAnimationFrame(() => {\n      this.isPainting = false;\n      this.pathList = [];\n      onBrushEnd();\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvcGFpbnQvdG9wLXRvb2wtYmFyL3Rvb2wtaXRlbS9icnVzaC9pbmRleC50cz8yMjY2Il0sIm5hbWVzIjpbIkJydXNoIiwidHlwZSIsIkJydXNoVHlwZSIsInBlbiIsIm5hbWUiLCJpc1BhaW50aW5nIiwicGF0aExpc3QiLCJhbmltZUhhbmRsZSIsInBhaW50UGF0aCIsImN0eCIsImNsZWFyUmVjdCIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiYmVnaW5QYXRoIiwiZiIsIm1vdmVUbyIsIngiLCJ5IiwiaSIsImxlbmd0aCIsImxpbmVUbyIsInN0cm9rZSIsImluaXQiLCJkZXN0b3J5Iiwib25TdGFydCIsInN0YXR1cyIsImNvbnRleHQiLCJjdXJDYW52YXNDb250ZXh0MkQiLCJjb2xvciIsImJydXNoV2lkdGgiLCJwdXNoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJvbkRyYXciLCJicnVzaFN0YXR1cyIsImNvbnR4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbkVuZCIsIm9uQnJ1c2hFbmQiXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7Ozs7O0FBSU8sTUFBTUEsS0FBTixDQUFzQztBQUFBO0FBQUEsU0FHaENDLElBSGdDLEdBR2RDLGdEQUFTLENBQUNDLEdBSEk7QUFBQSxTQUtoQ0MsSUFMZ0MsR0FLekIsU0FMeUI7QUFBQSxTQU8vQkMsVUFQK0IsR0FPbEIsS0FQa0I7QUFBQSxTQVMvQkMsUUFUK0IsR0FTVCxFQVRTO0FBQUEsU0FXL0JDLFdBWCtCOztBQUFBLFNBMkMvQkMsU0EzQytCLEdBMkNsQkMsR0FBRCxJQUFtQztBQUN2REEsU0FBRyxDQUFDQyxTQUFKLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFtQkQsR0FBRyxDQUFDRSxNQUFKLENBQVdDLEtBQTlCLEVBQXFDSCxHQUFHLENBQUNFLE1BQUosQ0FBV0UsTUFBaEQ7QUFDQUosU0FBRyxDQUFDSyxTQUFKO0FBQ0EsWUFBTUMsQ0FBQyxHQUFHLEtBQUtULFFBQUwsQ0FBYyxDQUFkLENBQVY7QUFDQUcsU0FBRyxDQUFDTyxNQUFKLENBQVdELENBQUMsQ0FBQ0UsQ0FBYixFQUFnQkYsQ0FBQyxDQUFDRyxDQUFsQjs7QUFDQSxXQUFLLElBQUlDLENBQUMsR0FBRSxDQUFaLEVBQWVBLENBQUMsR0FBRSxLQUFLYixRQUFMLENBQWNjLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDLGNBQU07QUFBQ0YsV0FBRDtBQUFJQztBQUFKLFlBQVMsS0FBS1osUUFBTCxDQUFjYSxDQUFkLENBQWY7QUFDQVYsV0FBRyxDQUFDWSxNQUFKLENBQVdKLENBQVgsRUFBYUMsQ0FBYjtBQUNEOztBQUNEVCxTQUFHLENBQUNhLE1BQUo7QUFDRCxLQXJEd0M7QUFBQTs7QUFhekNDLE1BQUksR0FBRSxDQUFFOztBQUVSQyxTQUFPLEdBQUUsQ0FBRTs7QUFFWEMsU0FBTyxDQUFDQyxNQUFELEVBQXNCQyxPQUF0QixFQUErQztBQUNsRCxVQUFNO0FBQUNDLHdCQUFrQixFQUFFbkIsR0FBckI7QUFBMEJvQixXQUExQjtBQUFpQ0M7QUFBakMsUUFBK0NILE9BQXJEO0FBQ0EsU0FBS3RCLFVBQUwsR0FBa0IsSUFBbEI7QUFDQSxTQUFLQyxRQUFMLENBQWN5QixJQUFkLENBQW1CTCxNQUFuQjtBQUNBakIsT0FBRyxDQUFDdUIsV0FBSixHQUFrQkgsS0FBbEI7QUFDQXBCLE9BQUcsQ0FBQ3dCLFNBQUosR0FBZ0JILFVBQWhCO0FBQ0FyQixPQUFHLENBQUN5QixPQUFKLEdBQWEsT0FBYjtBQUNBekIsT0FBRyxDQUFDMEIsUUFBSixHQUFlLE9BQWY7QUFDSDs7QUFJREMsUUFBTSxDQUFDQyxXQUFELEVBQTZCQyxLQUE3QixFQUEwRDtBQUM5RCxRQUFHLEtBQUtqQyxVQUFSLEVBQW1CO0FBQ2YsWUFBTztBQUFFdUIsMEJBQWtCLEVBQUVuQjtBQUF0QixVQUE4QjZCLEtBQXJDOztBQUNBLFdBQUssSUFBSW5CLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUVrQixXQUFXLENBQUNqQixNQUEvQixFQUF1Q0QsQ0FBQyxFQUF4QyxFQUEyQztBQUN6QyxhQUFLYixRQUFMLENBQWN5QixJQUFkLENBQW9CTSxXQUFXLENBQUNsQixDQUFELENBQS9CO0FBQ0Q7O0FBQ0RvQiwwQkFBb0IsQ0FBQyxLQUFLaEMsV0FBTixDQUFwQjtBQUVBLFdBQUtBLFdBQUwsR0FBbUJpQyxxQkFBcUIsQ0FBQyxNQUFNO0FBQy9DLGFBQUtoQyxTQUFMLENBQWVDLEdBQWY7QUFDQyxPQUZ1QyxDQUF4QztBQUdIO0FBQ0Y7O0FBY0RnQyxPQUFLLENBQUNKLFdBQUQsRUFBMkI7QUFBQ0s7QUFBRCxHQUEzQixFQUF5RDtBQUM1REYseUJBQXFCLENBQUMsTUFBTTtBQUMxQixXQUFLbkMsVUFBTCxHQUFrQixLQUFsQjtBQUNBLFdBQUtDLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQW9DLGdCQUFVO0FBQ1gsS0FKb0IsQ0FBckI7QUFLRDs7QUE3RHdDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQQ2FudmFzQ29udGV4dCB9IGZyb20gXCIuLi8uLi8uLi9wY2FudmFzL3BjYW52YXMuY29udGV4dFwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsL2RhdGEvVmVjdG9yMlwiO1xuaW1wb3J0IHsgQnJ1c2hUeXBlLCBCcnVzaFN0YXR1cywgQWJzdHJhY3RCcnVzaCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICog5bim5Y6L5oSf55qEYnJ1c2jvvIxidWflvoXkv67lpI0uXG4gKiDmoLnmja7np7vliqjvvIzkuI5jb250ZXh0LCDmjqfliLbnlLvlh7rnmoTlvaLnirblubbloavlhYUuXG4gKi9cbmV4cG9ydCBjbGFzcyBCcnVzaCAgaW1wbGVtZW50cyBBYnN0cmFjdEJydXNoIHtcblxuXG4gICAgcmVhZG9ubHkgdHlwZTogQnJ1c2hUeXBlID0gQnJ1c2hUeXBlLnBlblxuXG4gICAgcmVhZG9ubHkgbmFtZSA9ICdkZWZhdWx0J1xuXG4gICAgcHJvdGVjdGVkIGlzUGFpbnRpbmcgPSBmYWxzZVxuXG4gICAgcHJvdGVjdGVkIHBhdGhMaXN0OiBWZWN0b3IyW10gPSBbXVxuXG4gICAgcHJvdGVjdGVkIGFuaW1lSGFuZGxlOiBudW1iZXJcblxuICAgIGluaXQoKXt9XG5cbiAgICBkZXN0b3J5KCl7fVxuXG4gICAgb25TdGFydChzdGF0dXM6IEJydXNoU3RhdHVzLCBjb250ZXh0OiBQQ2FudmFzQ29udGV4dCkge1xuICAgICAgICBjb25zdCB7Y3VyQ2FudmFzQ29udGV4dDJEOiBjdHgsIGNvbG9yLCBicnVzaFdpZHRofSA9IGNvbnRleHRcbiAgICAgICAgdGhpcy5pc1BhaW50aW5nID0gdHJ1ZVxuICAgICAgICB0aGlzLnBhdGhMaXN0LnB1c2goc3RhdHVzKVxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvclxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJ1c2hXaWR0aFxuICAgICAgICBjdHgubGluZUNhcCA9J3JvdW5kJ1xuICAgICAgICBjdHgubGluZUpvaW4gPSBcInJvdW5kXCI7XG4gICAgfVxuXG4gIFxuXG4gICAgb25EcmF3KGJydXNoU3RhdHVzOiBCcnVzaFN0YXR1c1tdLCBjb250eDogUENhbnZhc0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIGlmKHRoaXMuaXNQYWludGluZyl7XG4gICAgICAgICAgY29uc3QgIHsgY3VyQ2FudmFzQ29udGV4dDJEOiBjdHggfSA9IGNvbnR4XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8IGJydXNoU3RhdHVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMucGF0aExpc3QucHVzaCggYnJ1c2hTdGF0dXNbaV0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWVIYW5kbGUpXG5cbiAgICAgICAgICB0aGlzLmFuaW1lSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBhaW50UGF0aChjdHgpO1xuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBhaW50UGF0aCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KVxuICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICBjb25zdCBmID0gdGhpcy5wYXRoTGlzdFswXVxuICAgICAgY3R4Lm1vdmVUbyhmLngsIGYueSApXG4gICAgICBmb3IoIGxldCBpID0xOyBpPCB0aGlzLnBhdGhMaXN0Lmxlbmd0aDsgaSsrICl7XG4gICAgICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMucGF0aExpc3RbaV1cbiAgICAgICAgY3R4LmxpbmVUbyh4LHkpXG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKClcbiAgICB9XG5cbiAgICBvbkVuZChicnVzaFN0YXR1czogQnJ1c2hTdGF0dXMsIHtvbkJydXNoRW5kfTogUENhbnZhc0NvbnRleHQpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNQYWludGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMucGF0aExpc3QgPSBbXVxuICAgICAgICBvbkJydXNoRW5kKClcbiAgICAgIH0pXG4gICAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')}}]);