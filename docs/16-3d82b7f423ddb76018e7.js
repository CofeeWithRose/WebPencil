(window.webpackJsonp=window.webpackJsonp||[]).push([[16,12,19],{22:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"RGBA",(function(){return RGBA})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RGBA=function(){function RGBA(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,RGBA),this.r=e,this.g=t,this.b=r,this.a=a}return _createClass(RGBA,null,[{key:"Lerp",value:function(e,t,r){for(var a=[],o=(t.r-e.r)/r,n=(t.g-e.g)/r,_=(t.b-e.b)/r,i=(t.a-e.a)/r,l=0;l<r;l++)a.push(new RGBA(e.r+o*l,e.g+n*l,e.b+_*l,e.a+i*l));return a}},{key:"mutipy",value:function(e,t){return new RGBA(e.r*t,e.g*t,e.b*t)}},{key:"add",value:function(e,t){var r=e.r,a=e.g,o=e.b;return new RGBA(r+t.r,a+t.g,o+t.b)}},{key:"mix",value:function(e,t,r){return new RGBA(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r)}},{key:"getLerpColor",value:function(e,t,r){var a=e.r,o=e.g,n=e.b,_=e.a;return new RGBA((t.r-a)*r+a,(t.g-o)*r+o,(t.b-n)*r+n,(t.a-_)*r+_)}}]),_createClass(RGBA,[{key:"toRGBAString",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RGBA}(),reactHotLoader,leaveModule;RGBA.BLACK=new RGBA(0,0,0),RGBA.WHITE=new RGBA(255,255,255),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(RGBA,"RGBA","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\color-selector\\rgba.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"PCanvasContext",(function(){return PCanvasContext}));var _top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},PCanvasContext=function(){function PCanvasContext(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new _top_tool_bar_tool_item_brush__WEBPACK_IMPORTED_MODULE_1__.Brush,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_top_tool_bar_tool_item_color_selector_rgba__WEBPACK_IMPORTED_MODULE_0__.RGBA.BLACK.toRGBAString(),_=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;_classCallCheck(this,PCanvasContext),this.curCanvas=e,this.curCanvasContext2D=t,this.width=r,this.height=a,this.brush=o,this.color=n,this.brushWidth=_}return _createClass(PCanvasContext,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),PCanvasContext}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(PCanvasContext,"PCanvasContext","D:\\code\\WebPencil\\src\\pages\\paint\\pcanvas\\pcanvas.context.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"BrushStatus",(function(){return BrushStatus})),__webpack_require__.d(__webpack_exports__,"BrushType",(function(){return BrushType})),__webpack_require__.d(__webpack_exports__,"Brush",(function(){return Brush}));var _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56),enterModule;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],a=!0,o=!1,n=void 0;try{for(var _,i=e[Symbol.iterator]();!(a=(_=i.next()).done)&&(r.push(_.value),!t||r.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw n}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BrushStatus=function(){function BrushStatus(e,t,r,a,o){_classCallCheck(this,BrushStatus),this.x=e,this.y=t,this.pressure=r,this.tiltX=a,this.tiltY=o}return _createClass(BrushStatus,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BrushStatus}(),BrushType;!function(e){e[e.pen=1]="pen",e[e.selector=2]="selector"}(BrushType||(BrushType={}));var Brush=function(){function Brush(){_classCallCheck(this,Brush),this.type=BrushType.pen,this.name="default",this.isPainting=!1,this.lastBrush=void 0,this.lastNormalizedDirection=void 0,this.pathList=[[],[]],this.getVerticalPath=function(e,t){return[_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.add(e,t),_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.subtract(e,t)]}}return _createClass(Brush,[{key:"init",value:function(){}},{key:"destory",value:function(){}},{key:"onStart",value:function(e,t){var r=t.curCanvasContext2D,a=t.color;this.lastBrush=e,this.isPainting=!0,r.fillStyle=a}},{key:"onDraw",value:function(e,t){var r=this;if(this.isPainting){var a=t.curCanvasContext2D,o=t.brushWidth;e.forEach((function(e){var t,a=e.x,n=e.y,_=e.pressure,i=new _util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a(a-r.lastBrush.x,n-r.lastBrush.y),l=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.normalize(i),u=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.vertical(l);t=_*o*.5;var c=_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.multipy(u,t),s=_slicedToArray(r.getVerticalPath(e,c),2),d=s[0],f=s[1];r.lastNormalizedDirection&&_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.degree(_util_data_Vector2__WEBPACK_IMPORTED_MODULE_0__.a.ZERO,r.lastNormalizedDirection,l)>180?(r.pathList[1].push(d),r.pathList[0].push(f)):(r.pathList[0].push(d),r.pathList[1].push(f)),r.lastBrush=e,r.lastNormalizedDirection=l})),this.fillPathList(a)}}},{key:"fillPathList",value:function(e){var t=this.pathList[0],r=this.pathList[1],a=t.concat(_toConsumableArray(r).reverse());e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath();var o=a.length-1;e.moveTo(a[o].x,a[o].y),a.forEach((function(t){var r=t.x,a=t.y;e.lineTo(r,a)})),e.closePath(),e.fill()}},{key:"onEnd",value:function(e,t){this.isPainting=!1,this.pathList=[[],[]]}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Brush}(),reactHotLoader,leaveModule;reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BrushStatus,"BrushStatus","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\brush\\index.tsx"),reactHotLoader.register(Brush,"Brush","D:\\code\\WebPencil\\src\\pages\\paint\\top-tool-bar\\tool-item\\brush\\index.tsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(3)(module))},56:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}__webpack_require__.d(__webpack_exports__,"a",(function(){return Vector2})),enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},normalizeAtant2=function(e){return e<0?2*Math.PI+e:e},Vector2=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"normalize",value:function(e){var t=1/Vector2.magnitude(e);return new Vector2(e.x*t,e.y*t)}},{key:"vertical",value:function(e){var t=e.x;return new Vector2(e.y,-t)}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"magnitude",value:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}},{key:"degree",value:function(e,t,r){var a=normalizeAtant2(Math.atan2(t.y-e.y,t.x-e.x)),o=normalizeAtant2(Math.atan2(r.y-e.y,r.x-e.x));return Math.abs(o-a)}},{key:"add",value:function(e,t){return new Vector2(e.x+t.x,e.y+t.y)}},{key:"rotate",value:function(e,t){var r=Vector2.magnitude(e),a=normalizeAtant2(Math.atan2(e.y,e.x))-t%360/180*Math.PI;return new Vector2(Math.cos(a)*r,Math.sin(a)*r)}},{key:"multipy",value:function(e,t){return new Vector2(e.x*t,e.y*t)}},{key:"subtract",value:function(e,t){return new Vector2(e.x-t.x,e.y-t.y)}},{key:"move",value:function(e,t,r){var a=r.x-t.x,o=r.y-t.y;return new Vector2(e.x+a,e.y+o)}},{key:"floor",value:function(e){var t=e.x,r=e.y;return new Vector2(Math.floor(t),Math.floor(r))}}]),Vector2}(),reactHotLoader,leaveModule;Vector2.ZERO=new Vector2,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(normalizeAtant2,"normalizeAtant2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts"),reactHotLoader.register(Vector2,"Vector2","D:\\code\\WebPencil\\src\\util\\data\\Vector2.ts")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))}}]);